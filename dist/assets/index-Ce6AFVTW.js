(function(){const c=document.createElement("link").relList;if(c&&c.supports&&c.supports("modulepreload"))return;for(const h of document.querySelectorAll('link[rel="modulepreload"]'))d(h);new MutationObserver(h=>{for(const x of h)if(x.type==="childList")for(const v of x.addedNodes)v.tagName==="LINK"&&v.rel==="modulepreload"&&d(v)}).observe(document,{childList:!0,subtree:!0});function o(h){const x={};return h.integrity&&(x.integrity=h.integrity),h.referrerPolicy&&(x.referrerPolicy=h.referrerPolicy),h.crossOrigin==="use-credentials"?x.credentials="include":h.crossOrigin==="anonymous"?x.credentials="omit":x.credentials="same-origin",x}function d(h){if(h.ep)return;h.ep=!0;const x=o(h);fetch(h.href,x)}})();function bh(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var No={exports:{}},Ts={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qm;function up(){if(Qm)return Ts;Qm=1;var i=Symbol.for("react.transitional.element"),c=Symbol.for("react.fragment");function o(d,h,x){var v=null;if(x!==void 0&&(v=""+x),h.key!==void 0&&(v=""+h.key),"key"in h){x={};for(var p in h)p!=="key"&&(x[p]=h[p])}else x=h;return h=x.ref,{$$typeof:i,type:d,key:v,ref:h!==void 0?h:null,props:x}}return Ts.Fragment=c,Ts.jsx=o,Ts.jsxs=o,Ts}var Zm;function dp(){return Zm||(Zm=1,No.exports=up()),No.exports}var n=dp(),So={exports:{}},Ne={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vm;function fp(){if(Vm)return Ne;Vm=1;var i=Symbol.for("react.transitional.element"),c=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),d=Symbol.for("react.strict_mode"),h=Symbol.for("react.profiler"),x=Symbol.for("react.consumer"),v=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),b=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),y=Symbol.for("react.activity"),O=Symbol.iterator;function A(w){return w===null||typeof w!="object"?null:(w=O&&w[O]||w["@@iterator"],typeof w=="function"?w:null)}var V={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},R=Object.assign,H={};function E(w,Z,te){this.props=w,this.context=Z,this.refs=H,this.updater=te||V}E.prototype.isReactComponent={},E.prototype.setState=function(w,Z){if(typeof w!="object"&&typeof w!="function"&&w!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,w,Z,"setState")},E.prototype.forceUpdate=function(w){this.updater.enqueueForceUpdate(this,w,"forceUpdate")};function Q(){}Q.prototype=E.prototype;function M(w,Z,te){this.props=w,this.context=Z,this.refs=H,this.updater=te||V}var Y=M.prototype=new Q;Y.constructor=M,R(Y,E.prototype),Y.isPureReactComponent=!0;var ee=Array.isArray;function X(){}var D={H:null,A:null,T:null,S:null},P=Object.prototype.hasOwnProperty;function ne(w,Z,te){var re=te.ref;return{$$typeof:i,type:w,key:Z,ref:re!==void 0?re:null,props:te}}function de(w,Z){return ne(w.type,Z,w.props)}function le(w){return typeof w=="object"&&w!==null&&w.$$typeof===i}function ce(w){var Z={"=":"=0",":":"=2"};return"$"+w.replace(/[=:]/g,function(te){return Z[te]})}var Se=/\/+/g;function se(w,Z){return typeof w=="object"&&w!==null&&w.key!=null?ce(""+w.key):Z.toString(36)}function J(w){switch(w.status){case"fulfilled":return w.value;case"rejected":throw w.reason;default:switch(typeof w.status=="string"?w.then(X,X):(w.status="pending",w.then(function(Z){w.status==="pending"&&(w.status="fulfilled",w.value=Z)},function(Z){w.status==="pending"&&(w.status="rejected",w.reason=Z)})),w.status){case"fulfilled":return w.value;case"rejected":throw w.reason}}throw w}function C(w,Z,te,re,fe){var be=typeof w;(be==="undefined"||be==="boolean")&&(w=null);var xe=!1;if(w===null)xe=!0;else switch(be){case"bigint":case"string":case"number":xe=!0;break;case"object":switch(w.$$typeof){case i:case c:xe=!0;break;case S:return xe=w._init,C(xe(w._payload),Z,te,re,fe)}}if(xe)return fe=fe(w),xe=re===""?"."+se(w,0):re,ee(fe)?(te="",xe!=null&&(te=xe.replace(Se,"$&/")+"/"),C(fe,Z,te,"",function(Ee){return Ee})):fe!=null&&(le(fe)&&(fe=de(fe,te+(fe.key==null||w&&w.key===fe.key?"":(""+fe.key).replace(Se,"$&/")+"/")+xe)),Z.push(fe)),1;xe=0;var Ve=re===""?".":re+":";if(ee(w))for(var De=0;De<w.length;De++)re=w[De],be=Ve+se(re,De),xe+=C(re,Z,te,be,fe);else if(De=A(w),typeof De=="function")for(w=De.call(w),De=0;!(re=w.next()).done;)re=re.value,be=Ve+se(re,De++),xe+=C(re,Z,te,be,fe);else if(be==="object"){if(typeof w.then=="function")return C(J(w),Z,te,re,fe);throw Z=String(w),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(w).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.")}return xe}function G(w,Z,te){if(w==null)return w;var re=[],fe=0;return C(w,re,"","",function(be){return Z.call(te,be,fe++)}),re}function B(w){if(w._status===-1){var Z=w._result;Z=Z(),Z.then(function(te){(w._status===0||w._status===-1)&&(w._status=1,w._result=te)},function(te){(w._status===0||w._status===-1)&&(w._status=2,w._result=te)}),w._status===-1&&(w._status=0,w._result=Z)}if(w._status===1)return w._result.default;throw w._result}var ae=typeof reportError=="function"?reportError:function(w){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof w=="object"&&w!==null&&typeof w.message=="string"?String(w.message):String(w),error:w});if(!window.dispatchEvent(Z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",w);return}console.error(w)},ge={map:G,forEach:function(w,Z,te){G(w,function(){Z.apply(this,arguments)},te)},count:function(w){var Z=0;return G(w,function(){Z++}),Z},toArray:function(w){return G(w,function(Z){return Z})||[]},only:function(w){if(!le(w))throw Error("React.Children.only expected to receive a single React element child.");return w}};return Ne.Activity=y,Ne.Children=ge,Ne.Component=E,Ne.Fragment=o,Ne.Profiler=h,Ne.PureComponent=M,Ne.StrictMode=d,Ne.Suspense=b,Ne.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,Ne.__COMPILER_RUNTIME={__proto__:null,c:function(w){return D.H.useMemoCache(w)}},Ne.cache=function(w){return function(){return w.apply(null,arguments)}},Ne.cacheSignal=function(){return null},Ne.cloneElement=function(w,Z,te){if(w==null)throw Error("The argument must be a React element, but you passed "+w+".");var re=R({},w.props),fe=w.key;if(Z!=null)for(be in Z.key!==void 0&&(fe=""+Z.key),Z)!P.call(Z,be)||be==="key"||be==="__self"||be==="__source"||be==="ref"&&Z.ref===void 0||(re[be]=Z[be]);var be=arguments.length-2;if(be===1)re.children=te;else if(1<be){for(var xe=Array(be),Ve=0;Ve<be;Ve++)xe[Ve]=arguments[Ve+2];re.children=xe}return ne(w.type,fe,re)},Ne.createContext=function(w){return w={$$typeof:v,_currentValue:w,_currentValue2:w,_threadCount:0,Provider:null,Consumer:null},w.Provider=w,w.Consumer={$$typeof:x,_context:w},w},Ne.createElement=function(w,Z,te){var re,fe={},be=null;if(Z!=null)for(re in Z.key!==void 0&&(be=""+Z.key),Z)P.call(Z,re)&&re!=="key"&&re!=="__self"&&re!=="__source"&&(fe[re]=Z[re]);var xe=arguments.length-2;if(xe===1)fe.children=te;else if(1<xe){for(var Ve=Array(xe),De=0;De<xe;De++)Ve[De]=arguments[De+2];fe.children=Ve}if(w&&w.defaultProps)for(re in xe=w.defaultProps,xe)fe[re]===void 0&&(fe[re]=xe[re]);return ne(w,be,fe)},Ne.createRef=function(){return{current:null}},Ne.forwardRef=function(w){return{$$typeof:p,render:w}},Ne.isValidElement=le,Ne.lazy=function(w){return{$$typeof:S,_payload:{_status:-1,_result:w},_init:B}},Ne.memo=function(w,Z){return{$$typeof:g,type:w,compare:Z===void 0?null:Z}},Ne.startTransition=function(w){var Z=D.T,te={};D.T=te;try{var re=w(),fe=D.S;fe!==null&&fe(te,re),typeof re=="object"&&re!==null&&typeof re.then=="function"&&re.then(X,ae)}catch(be){ae(be)}finally{Z!==null&&te.types!==null&&(Z.types=te.types),D.T=Z}},Ne.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},Ne.use=function(w){return D.H.use(w)},Ne.useActionState=function(w,Z,te){return D.H.useActionState(w,Z,te)},Ne.useCallback=function(w,Z){return D.H.useCallback(w,Z)},Ne.useContext=function(w){return D.H.useContext(w)},Ne.useDebugValue=function(){},Ne.useDeferredValue=function(w,Z){return D.H.useDeferredValue(w,Z)},Ne.useEffect=function(w,Z){return D.H.useEffect(w,Z)},Ne.useEffectEvent=function(w){return D.H.useEffectEvent(w)},Ne.useId=function(){return D.H.useId()},Ne.useImperativeHandle=function(w,Z,te){return D.H.useImperativeHandle(w,Z,te)},Ne.useInsertionEffect=function(w,Z){return D.H.useInsertionEffect(w,Z)},Ne.useLayoutEffect=function(w,Z){return D.H.useLayoutEffect(w,Z)},Ne.useMemo=function(w,Z){return D.H.useMemo(w,Z)},Ne.useOptimistic=function(w,Z){return D.H.useOptimistic(w,Z)},Ne.useReducer=function(w,Z,te){return D.H.useReducer(w,Z,te)},Ne.useRef=function(w){return D.H.useRef(w)},Ne.useState=function(w){return D.H.useState(w)},Ne.useSyncExternalStore=function(w,Z,te){return D.H.useSyncExternalStore(w,Z,te)},Ne.useTransition=function(){return D.H.useTransition()},Ne.version="19.2.0",Ne}var Km;function Yo(){return Km||(Km=1,So.exports=fp()),So.exports}var m=Yo();const Ct=bh(m);var wo={exports:{}},Cs={},To={exports:{}},Co={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jm;function mp(){return Jm||(Jm=1,(function(i){function c(C,G){var B=C.length;C.push(G);e:for(;0<B;){var ae=B-1>>>1,ge=C[ae];if(0<h(ge,G))C[ae]=G,C[B]=ge,B=ae;else break e}}function o(C){return C.length===0?null:C[0]}function d(C){if(C.length===0)return null;var G=C[0],B=C.pop();if(B!==G){C[0]=B;e:for(var ae=0,ge=C.length,w=ge>>>1;ae<w;){var Z=2*(ae+1)-1,te=C[Z],re=Z+1,fe=C[re];if(0>h(te,B))re<ge&&0>h(fe,te)?(C[ae]=fe,C[re]=B,ae=re):(C[ae]=te,C[Z]=B,ae=Z);else if(re<ge&&0>h(fe,B))C[ae]=fe,C[re]=B,ae=re;else break e}}return G}function h(C,G){var B=C.sortIndex-G.sortIndex;return B!==0?B:C.id-G.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var x=performance;i.unstable_now=function(){return x.now()}}else{var v=Date,p=v.now();i.unstable_now=function(){return v.now()-p}}var b=[],g=[],S=1,y=null,O=3,A=!1,V=!1,R=!1,H=!1,E=typeof setTimeout=="function"?setTimeout:null,Q=typeof clearTimeout=="function"?clearTimeout:null,M=typeof setImmediate<"u"?setImmediate:null;function Y(C){for(var G=o(g);G!==null;){if(G.callback===null)d(g);else if(G.startTime<=C)d(g),G.sortIndex=G.expirationTime,c(b,G);else break;G=o(g)}}function ee(C){if(R=!1,Y(C),!V)if(o(b)!==null)V=!0,X||(X=!0,ce());else{var G=o(g);G!==null&&J(ee,G.startTime-C)}}var X=!1,D=-1,P=5,ne=-1;function de(){return H?!0:!(i.unstable_now()-ne<P)}function le(){if(H=!1,X){var C=i.unstable_now();ne=C;var G=!0;try{e:{V=!1,R&&(R=!1,Q(D),D=-1),A=!0;var B=O;try{t:{for(Y(C),y=o(b);y!==null&&!(y.expirationTime>C&&de());){var ae=y.callback;if(typeof ae=="function"){y.callback=null,O=y.priorityLevel;var ge=ae(y.expirationTime<=C);if(C=i.unstable_now(),typeof ge=="function"){y.callback=ge,Y(C),G=!0;break t}y===o(b)&&d(b),Y(C)}else d(b);y=o(b)}if(y!==null)G=!0;else{var w=o(g);w!==null&&J(ee,w.startTime-C),G=!1}}break e}finally{y=null,O=B,A=!1}G=void 0}}finally{G?ce():X=!1}}}var ce;if(typeof M=="function")ce=function(){M(le)};else if(typeof MessageChannel<"u"){var Se=new MessageChannel,se=Se.port2;Se.port1.onmessage=le,ce=function(){se.postMessage(null)}}else ce=function(){E(le,0)};function J(C,G){D=E(function(){C(i.unstable_now())},G)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(C){C.callback=null},i.unstable_forceFrameRate=function(C){0>C||125<C?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<C?Math.floor(1e3/C):5},i.unstable_getCurrentPriorityLevel=function(){return O},i.unstable_next=function(C){switch(O){case 1:case 2:case 3:var G=3;break;default:G=O}var B=O;O=G;try{return C()}finally{O=B}},i.unstable_requestPaint=function(){H=!0},i.unstable_runWithPriority=function(C,G){switch(C){case 1:case 2:case 3:case 4:case 5:break;default:C=3}var B=O;O=C;try{return G()}finally{O=B}},i.unstable_scheduleCallback=function(C,G,B){var ae=i.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?ae+B:ae):B=ae,C){case 1:var ge=-1;break;case 2:ge=250;break;case 5:ge=1073741823;break;case 4:ge=1e4;break;default:ge=5e3}return ge=B+ge,C={id:S++,callback:G,priorityLevel:C,startTime:B,expirationTime:ge,sortIndex:-1},B>ae?(C.sortIndex=B,c(g,C),o(b)===null&&C===o(g)&&(R?(Q(D),D=-1):R=!0,J(ee,B-ae))):(C.sortIndex=ge,c(b,C),V||A||(V=!0,X||(X=!0,ce()))),C},i.unstable_shouldYield=de,i.unstable_wrapCallback=function(C){var G=O;return function(){var B=O;O=G;try{return C.apply(this,arguments)}finally{O=B}}}})(Co)),Co}var $m;function hp(){return $m||($m=1,To.exports=mp()),To.exports}var Eo={exports:{}},Ht={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fm;function xp(){if(Fm)return Ht;Fm=1;var i=Yo();function c(b){var g="https://react.dev/errors/"+b;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var S=2;S<arguments.length;S++)g+="&args[]="+encodeURIComponent(arguments[S])}return"Minified React error #"+b+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(){}var d={d:{f:o,r:function(){throw Error(c(522))},D:o,C:o,L:o,m:o,X:o,S:o,M:o},p:0,findDOMNode:null},h=Symbol.for("react.portal");function x(b,g,S){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:h,key:y==null?null:""+y,children:b,containerInfo:g,implementation:S}}var v=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(b,g){if(b==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Ht.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=d,Ht.createPortal=function(b,g){var S=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(c(299));return x(b,g,null,S)},Ht.flushSync=function(b){var g=v.T,S=d.p;try{if(v.T=null,d.p=2,b)return b()}finally{v.T=g,d.p=S,d.d.f()}},Ht.preconnect=function(b,g){typeof b=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,d.d.C(b,g))},Ht.prefetchDNS=function(b){typeof b=="string"&&d.d.D(b)},Ht.preinit=function(b,g){if(typeof b=="string"&&g&&typeof g.as=="string"){var S=g.as,y=p(S,g.crossOrigin),O=typeof g.integrity=="string"?g.integrity:void 0,A=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;S==="style"?d.d.S(b,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:y,integrity:O,fetchPriority:A}):S==="script"&&d.d.X(b,{crossOrigin:y,integrity:O,fetchPriority:A,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Ht.preinitModule=function(b,g){if(typeof b=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var S=p(g.as,g.crossOrigin);d.d.M(b,{crossOrigin:S,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&d.d.M(b)},Ht.preload=function(b,g){if(typeof b=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var S=g.as,y=p(S,g.crossOrigin);d.d.L(b,S,{crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Ht.preloadModule=function(b,g){if(typeof b=="string")if(g){var S=p(g.as,g.crossOrigin);d.d.m(b,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:S,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else d.d.m(b)},Ht.requestFormReset=function(b){d.d.r(b)},Ht.unstable_batchedUpdates=function(b,g){return b(g)},Ht.useFormState=function(b,g,S){return v.H.useFormState(b,g,S)},Ht.useFormStatus=function(){return v.H.useHostTransitionStatus()},Ht.version="19.2.0",Ht}var Im;function yh(){if(Im)return Eo.exports;Im=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(c){console.error(c)}}return i(),Eo.exports=xp(),Eo.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wm;function gp(){if(Wm)return Cs;Wm=1;var i=hp(),c=Yo(),o=yh();function d(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)t+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function h(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function x(e){var t=e,l=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(l=t.return),e=t.return;while(e)}return t.tag===3?l:null}function v(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function p(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function b(e){if(x(e)!==e)throw Error(d(188))}function g(e){var t=e.alternate;if(!t){if(t=x(e),t===null)throw Error(d(188));return t!==e?null:e}for(var l=e,a=t;;){var s=l.return;if(s===null)break;var r=s.alternate;if(r===null){if(a=s.return,a!==null){l=a;continue}break}if(s.child===r.child){for(r=s.child;r;){if(r===l)return b(s),e;if(r===a)return b(s),t;r=r.sibling}throw Error(d(188))}if(l.return!==a.return)l=s,a=r;else{for(var u=!1,f=s.child;f;){if(f===l){u=!0,l=s,a=r;break}if(f===a){u=!0,a=s,l=r;break}f=f.sibling}if(!u){for(f=r.child;f;){if(f===l){u=!0,l=r,a=s;break}if(f===a){u=!0,a=r,l=s;break}f=f.sibling}if(!u)throw Error(d(189))}}if(l.alternate!==a)throw Error(d(190))}if(l.tag!==3)throw Error(d(188));return l.stateNode.current===l?e:t}function S(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=S(e),t!==null)return t;e=e.sibling}return null}var y=Object.assign,O=Symbol.for("react.element"),A=Symbol.for("react.transitional.element"),V=Symbol.for("react.portal"),R=Symbol.for("react.fragment"),H=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),Q=Symbol.for("react.consumer"),M=Symbol.for("react.context"),Y=Symbol.for("react.forward_ref"),ee=Symbol.for("react.suspense"),X=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),P=Symbol.for("react.lazy"),ne=Symbol.for("react.activity"),de=Symbol.for("react.memo_cache_sentinel"),le=Symbol.iterator;function ce(e){return e===null||typeof e!="object"?null:(e=le&&e[le]||e["@@iterator"],typeof e=="function"?e:null)}var Se=Symbol.for("react.client.reference");function se(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Se?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case R:return"Fragment";case E:return"Profiler";case H:return"StrictMode";case ee:return"Suspense";case X:return"SuspenseList";case ne:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case V:return"Portal";case M:return e.displayName||"Context";case Q:return(e._context.displayName||"Context")+".Consumer";case Y:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case D:return t=e.displayName||null,t!==null?t:se(e.type)||"Memo";case P:t=e._payload,e=e._init;try{return se(e(t))}catch{}}return null}var J=Array.isArray,C=c.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,G=o.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,B={pending:!1,data:null,method:null,action:null},ae=[],ge=-1;function w(e){return{current:e}}function Z(e){0>ge||(e.current=ae[ge],ae[ge]=null,ge--)}function te(e,t){ge++,ae[ge]=e.current,e.current=t}var re=w(null),fe=w(null),be=w(null),xe=w(null);function Ve(e,t){switch(te(be,t),te(fe,e),te(re,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?mm(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=mm(t),e=hm(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Z(re),te(re,e)}function De(){Z(re),Z(fe),Z(be)}function Ee(e){e.memoizedState!==null&&te(xe,e);var t=re.current,l=hm(t,e.type);t!==l&&(te(fe,e),te(re,l))}function Lt(e){fe.current===e&&(Z(re),Z(fe)),xe.current===e&&(Z(xe),js._currentValue=B)}var Et,yt;function lt(e){if(Et===void 0)try{throw Error()}catch(l){var t=l.stack.trim().match(/\n( *(at )?)/);Et=t&&t[1]||"",yt=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Et+e+yt}var Ot=!1;function Xt(e,t){if(!e||Ot)return"";Ot=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var a={DetermineComponentFrameRoot:function(){try{if(t){var I=function(){throw Error()};if(Object.defineProperty(I.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(I,[])}catch(q){var L=q}Reflect.construct(e,[],I)}else{try{I.call()}catch(q){L=q}e.call(I.prototype)}}else{try{throw Error()}catch(q){L=q}(I=e())&&typeof I.catch=="function"&&I.catch(function(){})}}catch(q){if(q&&L&&typeof q.stack=="string")return[q.stack,L.stack]}return[null,null]}};a.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var s=Object.getOwnPropertyDescriptor(a.DetermineComponentFrameRoot,"name");s&&s.configurable&&Object.defineProperty(a.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var r=a.DetermineComponentFrameRoot(),u=r[0],f=r[1];if(u&&f){var N=u.split(`
`),k=f.split(`
`);for(s=a=0;a<N.length&&!N[a].includes("DetermineComponentFrameRoot");)a++;for(;s<k.length&&!k[s].includes("DetermineComponentFrameRoot");)s++;if(a===N.length||s===k.length)for(a=N.length-1,s=k.length-1;1<=a&&0<=s&&N[a]!==k[s];)s--;for(;1<=a&&0<=s;a--,s--)if(N[a]!==k[s]){if(a!==1||s!==1)do if(a--,s--,0>s||N[a]!==k[s]){var K=`
`+N[a].replace(" at new "," at ");return e.displayName&&K.includes("<anonymous>")&&(K=K.replace("<anonymous>",e.displayName)),K}while(1<=a&&0<=s);break}}}finally{Ot=!1,Error.prepareStackTrace=l}return(l=e?e.displayName||e.name:"")?lt(l):""}function Ml(e,t){switch(e.tag){case 26:case 27:case 5:return lt(e.type);case 16:return lt("Lazy");case 13:return e.child!==t&&t!==null?lt("Suspense Fallback"):lt("Suspense");case 19:return lt("SuspenseList");case 0:case 15:return Xt(e.type,!1);case 11:return Xt(e.type.render,!1);case 1:return Xt(e.type,!0);case 31:return lt("Activity");default:return""}}function Ll(e){try{var t="",l=null;do t+=Ml(e,l),l=e,e=e.return;while(e);return t}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}var ll=Object.prototype.hasOwnProperty,Rt=i.unstable_scheduleCallback,at=i.unstable_cancelCallback,gt=i.unstable_shouldYield,Qt=i.unstable_requestPaint,ct=i.unstable_now,Bl=i.unstable_getCurrentPriorityLevel,zl=i.unstable_ImmediatePriority,Bt=i.unstable_UserBlockingPriority,nt=i.unstable_NormalPriority,ye=i.unstable_LowPriority,At=i.unstable_IdlePriority,Ut=i.log,z=i.unstable_setDisableYieldValue,F=null,W=null;function he(e){if(typeof Ut=="function"&&z(e),W&&typeof W.setStrictMode=="function")try{W.setStrictMode(F,e)}catch{}}var pe=Math.clz32?Math.clz32:vt,Re=Math.log,Ae=Math.LN2;function vt(e){return e>>>=0,e===0?32:31-(Re(e)/Ae|0)|0}var jt=256,al=262144,Be=4194304;function He(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Xe(e,t,l){var a=e.pendingLanes;if(a===0)return 0;var s=0,r=e.suspendedLanes,u=e.pingedLanes;e=e.warmLanes;var f=a&134217727;return f!==0?(a=f&~r,a!==0?s=He(a):(u&=f,u!==0?s=He(u):l||(l=f&~e,l!==0&&(s=He(l))))):(f=a&~r,f!==0?s=He(f):u!==0?s=He(u):l||(l=a&~e,l!==0&&(s=He(l)))),s===0?0:t!==0&&t!==s&&(t&r)===0&&(r=s&-s,l=t&-t,r>=l||r===32&&(l&4194048)!==0)?t:s}function Le(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Fe(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function st(){var e=Be;return Be<<=1,(Be&62914560)===0&&(Be=4194304),e}function kt(e){for(var t=[],l=0;31>l;l++)t.push(e);return t}function Zt(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function ot(e,t,l,a,s,r){var u=e.pendingLanes;e.pendingLanes=l,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=l,e.entangledLanes&=l,e.errorRecoveryDisabledLanes&=l,e.shellSuspendCounter=0;var f=e.entanglements,N=e.expirationTimes,k=e.hiddenUpdates;for(l=u&~l;0<l;){var K=31-pe(l),I=1<<K;f[K]=0,N[K]=-1;var L=k[K];if(L!==null)for(k[K]=null,K=0;K<L.length;K++){var q=L[K];q!==null&&(q.lane&=-536870913)}l&=~I}a!==0&&nl(e,a,0),r!==0&&s===0&&e.tag!==0&&(e.suspendedLanes|=r&~(u&~t))}function nl(e,t,l){e.pendingLanes|=t,e.suspendedLanes&=~t;var a=31-pe(t);e.entangledLanes|=t,e.entanglements[a]=e.entanglements[a]|1073741824|l&261930}function Nt(e,t){var l=e.entangledLanes|=t;for(e=e.entanglements;l;){var a=31-pe(l),s=1<<a;s&t|e[a]&t&&(e[a]|=t),l&=~s}}function Yt(e,t){var l=t&-t;return l=(l&42)!==0?1:fl(l),(l&(e.suspendedLanes|t))!==0?0:l}function fl(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function ml(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Vt(){var e=G.p;return e!==0?e:(e=window.event,e===void 0?32:Hm(e.type))}function Tl(e,t){var l=G.p;try{return G.p=e,t()}finally{G.p=l}}var Gt=Math.random().toString(36).slice(2),j="__reactFiber$"+Gt,ie="__reactProps$"+Gt,oe="__reactContainer$"+Gt,Ie="__reactEvents$"+Gt,Cl="__reactListeners$"+Gt,Aa="__reactHandles$"+Gt,Po="__reactResources$"+Gt,kn="__reactMarker$"+Gt;function mr(e){delete e[j],delete e[ie],delete e[Ie],delete e[Cl],delete e[Aa]}function Ka(e){var t=e[j];if(t)return t;for(var l=e.parentNode;l;){if(t=l[oe]||l[j]){if(l=t.alternate,t.child!==null||l!==null&&l.child!==null)for(e=jm(e);e!==null;){if(l=e[j])return l;e=jm(e)}return t}e=l,l=e.parentNode}return null}function Ja(e){if(e=e[j]||e[oe]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function Hn(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(d(33))}function $a(e){var t=e[Po];return t||(t=e[Po]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function St(e){e[kn]=!0}var eu=new Set,tu={};function Da(e,t){Fa(e,t),Fa(e+"Capture",t)}function Fa(e,t){for(tu[e]=t,e=0;e<t.length;e++)eu.add(t[e])}var tx=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),lu={},au={};function lx(e){return ll.call(au,e)?!0:ll.call(lu,e)?!1:tx.test(e)?au[e]=!0:(lu[e]=!0,!1)}function Gs(e,t,l){if(lx(t))if(l===null)e.removeAttribute(t);else{switch(typeof l){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var a=t.toLowerCase().slice(0,5);if(a!=="data-"&&a!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+l)}}function qs(e,t,l){if(l===null)e.removeAttribute(t);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+l)}}function Yl(e,t,l,a){if(a===null)e.removeAttribute(l);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(l);return}e.setAttributeNS(t,l,""+a)}}function hl(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function nu(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function ax(e,t,l){var a=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var s=a.get,r=a.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(u){l=""+u,r.call(this,u)}}),Object.defineProperty(e,t,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(u){l=""+u},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function hr(e){if(!e._valueTracker){var t=nu(e)?"checked":"value";e._valueTracker=ax(e,t,""+e[t])}}function su(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var l=t.getValue(),a="";return e&&(a=nu(e)?e.checked?"true":"false":e.value),e=a,e!==l?(t.setValue(e),!0):!1}function Xs(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var nx=/[\n"\\]/g;function xl(e){return e.replace(nx,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function xr(e,t,l,a,s,r,u,f){e.name="",u!=null&&typeof u!="function"&&typeof u!="symbol"&&typeof u!="boolean"?e.type=u:e.removeAttribute("type"),t!=null?u==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+hl(t)):e.value!==""+hl(t)&&(e.value=""+hl(t)):u!=="submit"&&u!=="reset"||e.removeAttribute("value"),t!=null?gr(e,u,hl(t)):l!=null?gr(e,u,hl(l)):a!=null&&e.removeAttribute("value"),s==null&&r!=null&&(e.defaultChecked=!!r),s!=null&&(e.checked=s&&typeof s!="function"&&typeof s!="symbol"),f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"?e.name=""+hl(f):e.removeAttribute("name")}function iu(e,t,l,a,s,r,u,f){if(r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"&&(e.type=r),t!=null||l!=null){if(!(r!=="submit"&&r!=="reset"||t!=null)){hr(e);return}l=l!=null?""+hl(l):"",t=t!=null?""+hl(t):l,f||t===e.value||(e.value=t),e.defaultValue=t}a=a??s,a=typeof a!="function"&&typeof a!="symbol"&&!!a,e.checked=f?e.checked:!!a,e.defaultChecked=!!a,u!=null&&typeof u!="function"&&typeof u!="symbol"&&typeof u!="boolean"&&(e.name=u),hr(e)}function gr(e,t,l){t==="number"&&Xs(e.ownerDocument)===e||e.defaultValue===""+l||(e.defaultValue=""+l)}function Ia(e,t,l,a){if(e=e.options,t){t={};for(var s=0;s<l.length;s++)t["$"+l[s]]=!0;for(l=0;l<e.length;l++)s=t.hasOwnProperty("$"+e[l].value),e[l].selected!==s&&(e[l].selected=s),s&&a&&(e[l].defaultSelected=!0)}else{for(l=""+hl(l),t=null,s=0;s<e.length;s++){if(e[s].value===l){e[s].selected=!0,a&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function ru(e,t,l){if(t!=null&&(t=""+hl(t),t!==e.value&&(e.value=t),l==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=l!=null?""+hl(l):""}function cu(e,t,l,a){if(t==null){if(a!=null){if(l!=null)throw Error(d(92));if(J(a)){if(1<a.length)throw Error(d(93));a=a[0]}l=a}l==null&&(l=""),t=l}l=hl(t),e.defaultValue=l,a=e.textContent,a===l&&a!==""&&a!==null&&(e.value=a),hr(e)}function Wa(e,t){if(t){var l=e.firstChild;if(l&&l===e.lastChild&&l.nodeType===3){l.nodeValue=t;return}}e.textContent=t}var sx=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ou(e,t,l){var a=t.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?a?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":a?e.setProperty(t,l):typeof l!="number"||l===0||sx.has(t)?t==="float"?e.cssFloat=l:e[t]=(""+l).trim():e[t]=l+"px"}function uu(e,t,l){if(t!=null&&typeof t!="object")throw Error(d(62));if(e=e.style,l!=null){for(var a in l)!l.hasOwnProperty(a)||t!=null&&t.hasOwnProperty(a)||(a.indexOf("--")===0?e.setProperty(a,""):a==="float"?e.cssFloat="":e[a]="");for(var s in t)a=t[s],t.hasOwnProperty(s)&&l[s]!==a&&ou(e,s,a)}else for(var r in t)t.hasOwnProperty(r)&&ou(e,r,t[r])}function pr(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ix=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),rx=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Qs(e){return rx.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Gl(){}var br=null;function yr(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Pa=null,en=null;function du(e){var t=Ja(e);if(t&&(e=t.stateNode)){var l=e[ie]||null;e:switch(e=t.stateNode,t.type){case"input":if(xr(e,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),t=l.name,l.type==="radio"&&t!=null){for(l=e;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+xl(""+t)+'"][type="radio"]'),t=0;t<l.length;t++){var a=l[t];if(a!==e&&a.form===e.form){var s=a[ie]||null;if(!s)throw Error(d(90));xr(a,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name)}}for(t=0;t<l.length;t++)a=l[t],a.form===e.form&&su(a)}break e;case"textarea":ru(e,l.value,l.defaultValue);break e;case"select":t=l.value,t!=null&&Ia(e,!!l.multiple,t,!1)}}}var vr=!1;function fu(e,t,l){if(vr)return e(t,l);vr=!0;try{var a=e(t);return a}finally{if(vr=!1,(Pa!==null||en!==null)&&(Mi(),Pa&&(t=Pa,e=en,en=Pa=null,du(t),e)))for(t=0;t<e.length;t++)du(e[t])}}function Ln(e,t){var l=e.stateNode;if(l===null)return null;var a=l[ie]||null;if(a===null)return null;l=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(l&&typeof l!="function")throw Error(d(231,t,typeof l));return l}var ql=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),jr=!1;if(ql)try{var Bn={};Object.defineProperty(Bn,"passive",{get:function(){jr=!0}}),window.addEventListener("test",Bn,Bn),window.removeEventListener("test",Bn,Bn)}catch{jr=!1}var na=null,Nr=null,Zs=null;function mu(){if(Zs)return Zs;var e,t=Nr,l=t.length,a,s="value"in na?na.value:na.textContent,r=s.length;for(e=0;e<l&&t[e]===s[e];e++);var u=l-e;for(a=1;a<=u&&t[l-a]===s[r-a];a++);return Zs=s.slice(e,1<a?1-a:void 0)}function Vs(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ks(){return!0}function hu(){return!1}function Kt(e){function t(l,a,s,r,u){this._reactName=l,this._targetInst=s,this.type=a,this.nativeEvent=r,this.target=u,this.currentTarget=null;for(var f in e)e.hasOwnProperty(f)&&(l=e[f],this[f]=l?l(r):r[f]);return this.isDefaultPrevented=(r.defaultPrevented!=null?r.defaultPrevented:r.returnValue===!1)?Ks:hu,this.isPropagationStopped=hu,this}return y(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Ks)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Ks)},persist:function(){},isPersistent:Ks}),t}var _a={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Js=Kt(_a),Yn=y({},_a,{view:0,detail:0}),cx=Kt(Yn),Sr,wr,Gn,$s=y({},Yn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cr,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Gn&&(Gn&&e.type==="mousemove"?(Sr=e.screenX-Gn.screenX,wr=e.screenY-Gn.screenY):wr=Sr=0,Gn=e),Sr)},movementY:function(e){return"movementY"in e?e.movementY:wr}}),xu=Kt($s),ox=y({},$s,{dataTransfer:0}),ux=Kt(ox),dx=y({},Yn,{relatedTarget:0}),Tr=Kt(dx),fx=y({},_a,{animationName:0,elapsedTime:0,pseudoElement:0}),mx=Kt(fx),hx=y({},_a,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),xx=Kt(hx),gx=y({},_a,{data:0}),gu=Kt(gx),px={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bx={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yx={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function vx(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=yx[e])?!!t[e]:!1}function Cr(){return vx}var jx=y({},Yn,{key:function(e){if(e.key){var t=px[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Vs(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?bx[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cr,charCode:function(e){return e.type==="keypress"?Vs(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Vs(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Nx=Kt(jx),Sx=y({},$s,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),pu=Kt(Sx),wx=y({},Yn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cr}),Tx=Kt(wx),Cx=y({},_a,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ex=Kt(Cx),Ax=y({},$s,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Dx=Kt(Ax),_x=y({},_a,{newState:0,oldState:0}),Mx=Kt(_x),zx=[9,13,27,32],Er=ql&&"CompositionEvent"in window,qn=null;ql&&"documentMode"in document&&(qn=document.documentMode);var Ox=ql&&"TextEvent"in window&&!qn,bu=ql&&(!Er||qn&&8<qn&&11>=qn),yu=" ",vu=!1;function ju(e,t){switch(e){case"keyup":return zx.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Nu(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var tn=!1;function Rx(e,t){switch(e){case"compositionend":return Nu(t);case"keypress":return t.which!==32?null:(vu=!0,yu);case"textInput":return e=t.data,e===yu&&vu?null:e;default:return null}}function Ux(e,t){if(tn)return e==="compositionend"||!Er&&ju(e,t)?(e=mu(),Zs=Nr=na=null,tn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return bu&&t.locale!=="ko"?null:t.data;default:return null}}var kx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Su(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!kx[e.type]:t==="textarea"}function wu(e,t,l,a){Pa?en?en.push(a):en=[a]:Pa=a,t=Li(t,"onChange"),0<t.length&&(l=new Js("onChange","change",null,l,a),e.push({event:l,listeners:t}))}var Xn=null,Qn=null;function Hx(e){rm(e,0)}function Fs(e){var t=Hn(e);if(su(t))return e}function Tu(e,t){if(e==="change")return t}var Cu=!1;if(ql){var Ar;if(ql){var Dr="oninput"in document;if(!Dr){var Eu=document.createElement("div");Eu.setAttribute("oninput","return;"),Dr=typeof Eu.oninput=="function"}Ar=Dr}else Ar=!1;Cu=Ar&&(!document.documentMode||9<document.documentMode)}function Au(){Xn&&(Xn.detachEvent("onpropertychange",Du),Qn=Xn=null)}function Du(e){if(e.propertyName==="value"&&Fs(Qn)){var t=[];wu(t,Qn,e,yr(e)),fu(Hx,t)}}function Lx(e,t,l){e==="focusin"?(Au(),Xn=t,Qn=l,Xn.attachEvent("onpropertychange",Du)):e==="focusout"&&Au()}function Bx(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Fs(Qn)}function Yx(e,t){if(e==="click")return Fs(t)}function Gx(e,t){if(e==="input"||e==="change")return Fs(t)}function qx(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var sl=typeof Object.is=="function"?Object.is:qx;function Zn(e,t){if(sl(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var l=Object.keys(e),a=Object.keys(t);if(l.length!==a.length)return!1;for(a=0;a<l.length;a++){var s=l[a];if(!ll.call(t,s)||!sl(e[s],t[s]))return!1}return!0}function _u(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Mu(e,t){var l=_u(e);e=0;for(var a;l;){if(l.nodeType===3){if(a=e+l.textContent.length,e<=t&&a>=t)return{node:l,offset:t-e};e=a}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=_u(l)}}function zu(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?zu(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Ou(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Xs(e.document);t instanceof e.HTMLIFrameElement;){try{var l=typeof t.contentWindow.location.href=="string"}catch{l=!1}if(l)e=t.contentWindow;else break;t=Xs(e.document)}return t}function _r(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var Xx=ql&&"documentMode"in document&&11>=document.documentMode,ln=null,Mr=null,Vn=null,zr=!1;function Ru(e,t,l){var a=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;zr||ln==null||ln!==Xs(a)||(a=ln,"selectionStart"in a&&_r(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),Vn&&Zn(Vn,a)||(Vn=a,a=Li(Mr,"onSelect"),0<a.length&&(t=new Js("onSelect","select",null,t,l),e.push({event:t,listeners:a}),t.target=ln)))}function Ma(e,t){var l={};return l[e.toLowerCase()]=t.toLowerCase(),l["Webkit"+e]="webkit"+t,l["Moz"+e]="moz"+t,l}var an={animationend:Ma("Animation","AnimationEnd"),animationiteration:Ma("Animation","AnimationIteration"),animationstart:Ma("Animation","AnimationStart"),transitionrun:Ma("Transition","TransitionRun"),transitionstart:Ma("Transition","TransitionStart"),transitioncancel:Ma("Transition","TransitionCancel"),transitionend:Ma("Transition","TransitionEnd")},Or={},Uu={};ql&&(Uu=document.createElement("div").style,"AnimationEvent"in window||(delete an.animationend.animation,delete an.animationiteration.animation,delete an.animationstart.animation),"TransitionEvent"in window||delete an.transitionend.transition);function za(e){if(Or[e])return Or[e];if(!an[e])return e;var t=an[e],l;for(l in t)if(t.hasOwnProperty(l)&&l in Uu)return Or[e]=t[l];return e}var ku=za("animationend"),Hu=za("animationiteration"),Lu=za("animationstart"),Qx=za("transitionrun"),Zx=za("transitionstart"),Vx=za("transitioncancel"),Bu=za("transitionend"),Yu=new Map,Rr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Rr.push("scrollEnd");function El(e,t){Yu.set(e,t),Da(t,[e])}var Is=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},gl=[],nn=0,Ur=0;function Ws(){for(var e=nn,t=Ur=nn=0;t<e;){var l=gl[t];gl[t++]=null;var a=gl[t];gl[t++]=null;var s=gl[t];gl[t++]=null;var r=gl[t];if(gl[t++]=null,a!==null&&s!==null){var u=a.pending;u===null?s.next=s:(s.next=u.next,u.next=s),a.pending=s}r!==0&&Gu(l,s,r)}}function Ps(e,t,l,a){gl[nn++]=e,gl[nn++]=t,gl[nn++]=l,gl[nn++]=a,Ur|=a,e.lanes|=a,e=e.alternate,e!==null&&(e.lanes|=a)}function kr(e,t,l,a){return Ps(e,t,l,a),ei(e)}function Oa(e,t){return Ps(e,null,null,t),ei(e)}function Gu(e,t,l){e.lanes|=l;var a=e.alternate;a!==null&&(a.lanes|=l);for(var s=!1,r=e.return;r!==null;)r.childLanes|=l,a=r.alternate,a!==null&&(a.childLanes|=l),r.tag===22&&(e=r.stateNode,e===null||e._visibility&1||(s=!0)),e=r,r=r.return;return e.tag===3?(r=e.stateNode,s&&t!==null&&(s=31-pe(l),e=r.hiddenUpdates,a=e[s],a===null?e[s]=[t]:a.push(t),t.lane=l|536870912),r):null}function ei(e){if(50<hs)throw hs=0,Zc=null,Error(d(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var sn={};function Kx(e,t,l,a){this.tag=e,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function il(e,t,l,a){return new Kx(e,t,l,a)}function Hr(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Xl(e,t){var l=e.alternate;return l===null?(l=il(e.tag,t,e.key,e.mode),l.elementType=e.elementType,l.type=e.type,l.stateNode=e.stateNode,l.alternate=e,e.alternate=l):(l.pendingProps=t,l.type=e.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=e.flags&65011712,l.childLanes=e.childLanes,l.lanes=e.lanes,l.child=e.child,l.memoizedProps=e.memoizedProps,l.memoizedState=e.memoizedState,l.updateQueue=e.updateQueue,t=e.dependencies,l.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},l.sibling=e.sibling,l.index=e.index,l.ref=e.ref,l.refCleanup=e.refCleanup,l}function qu(e,t){e.flags&=65011714;var l=e.alternate;return l===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=l.childLanes,e.lanes=l.lanes,e.child=l.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=l.memoizedProps,e.memoizedState=l.memoizedState,e.updateQueue=l.updateQueue,e.type=l.type,t=l.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function ti(e,t,l,a,s,r){var u=0;if(a=e,typeof e=="function")Hr(e)&&(u=1);else if(typeof e=="string")u=Wg(e,l,re.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case ne:return e=il(31,l,t,s),e.elementType=ne,e.lanes=r,e;case R:return Ra(l.children,s,r,t);case H:u=8,s|=24;break;case E:return e=il(12,l,t,s|2),e.elementType=E,e.lanes=r,e;case ee:return e=il(13,l,t,s),e.elementType=ee,e.lanes=r,e;case X:return e=il(19,l,t,s),e.elementType=X,e.lanes=r,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case M:u=10;break e;case Q:u=9;break e;case Y:u=11;break e;case D:u=14;break e;case P:u=16,a=null;break e}u=29,l=Error(d(130,e===null?"null":typeof e,"")),a=null}return t=il(u,l,t,s),t.elementType=e,t.type=a,t.lanes=r,t}function Ra(e,t,l,a){return e=il(7,e,a,t),e.lanes=l,e}function Lr(e,t,l){return e=il(6,e,null,t),e.lanes=l,e}function Xu(e){var t=il(18,null,null,0);return t.stateNode=e,t}function Br(e,t,l){return t=il(4,e.children!==null?e.children:[],e.key,t),t.lanes=l,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Qu=new WeakMap;function pl(e,t){if(typeof e=="object"&&e!==null){var l=Qu.get(e);return l!==void 0?l:(t={value:e,source:t,stack:Ll(t)},Qu.set(e,t),t)}return{value:e,source:t,stack:Ll(t)}}var rn=[],cn=0,li=null,Kn=0,bl=[],yl=0,sa=null,Ol=1,Rl="";function Ql(e,t){rn[cn++]=Kn,rn[cn++]=li,li=e,Kn=t}function Zu(e,t,l){bl[yl++]=Ol,bl[yl++]=Rl,bl[yl++]=sa,sa=e;var a=Ol;e=Rl;var s=32-pe(a)-1;a&=~(1<<s),l+=1;var r=32-pe(t)+s;if(30<r){var u=s-s%5;r=(a&(1<<u)-1).toString(32),a>>=u,s-=u,Ol=1<<32-pe(t)+s|l<<s|a,Rl=r+e}else Ol=1<<r|l<<s|a,Rl=e}function Yr(e){e.return!==null&&(Ql(e,1),Zu(e,1,0))}function Gr(e){for(;e===li;)li=rn[--cn],rn[cn]=null,Kn=rn[--cn],rn[cn]=null;for(;e===sa;)sa=bl[--yl],bl[yl]=null,Rl=bl[--yl],bl[yl]=null,Ol=bl[--yl],bl[yl]=null}function Vu(e,t){bl[yl++]=Ol,bl[yl++]=Rl,bl[yl++]=sa,Ol=t.id,Rl=t.overflow,sa=e}var Dt=null,Pe=null,Ue=!1,ia=null,vl=!1,qr=Error(d(519));function ra(e){var t=Error(d(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Jn(pl(t,e)),qr}function Ku(e){var t=e.stateNode,l=e.type,a=e.memoizedProps;switch(t[j]=e,t[ie]=a,l){case"dialog":Me("cancel",t),Me("close",t);break;case"iframe":case"object":case"embed":Me("load",t);break;case"video":case"audio":for(l=0;l<gs.length;l++)Me(gs[l],t);break;case"source":Me("error",t);break;case"img":case"image":case"link":Me("error",t),Me("load",t);break;case"details":Me("toggle",t);break;case"input":Me("invalid",t),iu(t,a.value,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name,!0);break;case"select":Me("invalid",t);break;case"textarea":Me("invalid",t),cu(t,a.value,a.defaultValue,a.children)}l=a.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||t.textContent===""+l||a.suppressHydrationWarning===!0||dm(t.textContent,l)?(a.popover!=null&&(Me("beforetoggle",t),Me("toggle",t)),a.onScroll!=null&&Me("scroll",t),a.onScrollEnd!=null&&Me("scrollend",t),a.onClick!=null&&(t.onclick=Gl),t=!0):t=!1,t||ra(e,!0)}function Ju(e){for(Dt=e.return;Dt;)switch(Dt.tag){case 5:case 31:case 13:vl=!1;return;case 27:case 3:vl=!0;return;default:Dt=Dt.return}}function on(e){if(e!==Dt)return!1;if(!Ue)return Ju(e),Ue=!0,!1;var t=e.tag,l;if((l=t!==3&&t!==27)&&((l=t===5)&&(l=e.type,l=!(l!=="form"&&l!=="button")||io(e.type,e.memoizedProps)),l=!l),l&&Pe&&ra(e),Ju(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(d(317));Pe=vm(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(d(317));Pe=vm(e)}else t===27?(t=Pe,ja(e.type)?(e=fo,fo=null,Pe=e):Pe=t):Pe=Dt?Nl(e.stateNode.nextSibling):null;return!0}function Ua(){Pe=Dt=null,Ue=!1}function Xr(){var e=ia;return e!==null&&(It===null?It=e:It.push.apply(It,e),ia=null),e}function Jn(e){ia===null?ia=[e]:ia.push(e)}var Qr=w(null),ka=null,Zl=null;function ca(e,t,l){te(Qr,t._currentValue),t._currentValue=l}function Vl(e){e._currentValue=Qr.current,Z(Qr)}function Zr(e,t,l){for(;e!==null;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,a!==null&&(a.childLanes|=t)):a!==null&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===l)break;e=e.return}}function Vr(e,t,l,a){var s=e.child;for(s!==null&&(s.return=e);s!==null;){var r=s.dependencies;if(r!==null){var u=s.child;r=r.firstContext;e:for(;r!==null;){var f=r;r=s;for(var N=0;N<t.length;N++)if(f.context===t[N]){r.lanes|=l,f=r.alternate,f!==null&&(f.lanes|=l),Zr(r.return,l,e),a||(u=null);break e}r=f.next}}else if(s.tag===18){if(u=s.return,u===null)throw Error(d(341));u.lanes|=l,r=u.alternate,r!==null&&(r.lanes|=l),Zr(u,l,e),u=null}else u=s.child;if(u!==null)u.return=s;else for(u=s;u!==null;){if(u===e){u=null;break}if(s=u.sibling,s!==null){s.return=u.return,u=s;break}u=u.return}s=u}}function un(e,t,l,a){e=null;for(var s=t,r=!1;s!==null;){if(!r){if((s.flags&524288)!==0)r=!0;else if((s.flags&262144)!==0)break}if(s.tag===10){var u=s.alternate;if(u===null)throw Error(d(387));if(u=u.memoizedProps,u!==null){var f=s.type;sl(s.pendingProps.value,u.value)||(e!==null?e.push(f):e=[f])}}else if(s===xe.current){if(u=s.alternate,u===null)throw Error(d(387));u.memoizedState.memoizedState!==s.memoizedState.memoizedState&&(e!==null?e.push(js):e=[js])}s=s.return}e!==null&&Vr(t,e,l,a),t.flags|=262144}function ai(e){for(e=e.firstContext;e!==null;){if(!sl(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ha(e){ka=e,Zl=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function _t(e){return $u(ka,e)}function ni(e,t){return ka===null&&Ha(e),$u(e,t)}function $u(e,t){var l=t._currentValue;if(t={context:t,memoizedValue:l,next:null},Zl===null){if(e===null)throw Error(d(308));Zl=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Zl=Zl.next=t;return l}var Jx=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(l,a){e.push(a)}};this.abort=function(){t.aborted=!0,e.forEach(function(l){return l()})}},$x=i.unstable_scheduleCallback,Fx=i.unstable_NormalPriority,ft={$$typeof:M,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Kr(){return{controller:new Jx,data:new Map,refCount:0}}function $n(e){e.refCount--,e.refCount===0&&$x(Fx,function(){e.controller.abort()})}var Fn=null,Jr=0,dn=0,fn=null;function Ix(e,t){if(Fn===null){var l=Fn=[];Jr=0,dn=Ic(),fn={status:"pending",value:void 0,then:function(a){l.push(a)}}}return Jr++,t.then(Fu,Fu),t}function Fu(){if(--Jr===0&&Fn!==null){fn!==null&&(fn.status="fulfilled");var e=Fn;Fn=null,dn=0,fn=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function Wx(e,t){var l=[],a={status:"pending",value:null,reason:null,then:function(s){l.push(s)}};return e.then(function(){a.status="fulfilled",a.value=t;for(var s=0;s<l.length;s++)(0,l[s])(t)},function(s){for(a.status="rejected",a.reason=s,s=0;s<l.length;s++)(0,l[s])(void 0)}),a}var Iu=C.S;C.S=function(e,t){Uf=ct(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&Ix(e,t),Iu!==null&&Iu(e,t)};var La=w(null);function $r(){var e=La.current;return e!==null?e:We.pooledCache}function si(e,t){t===null?te(La,La.current):te(La,t.pool)}function Wu(){var e=$r();return e===null?null:{parent:ft._currentValue,pool:e}}var mn=Error(d(460)),Fr=Error(d(474)),ii=Error(d(542)),ri={then:function(){}};function Pu(e){return e=e.status,e==="fulfilled"||e==="rejected"}function ed(e,t,l){switch(l=e[l],l===void 0?e.push(t):l!==t&&(t.then(Gl,Gl),t=l),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,ld(e),e;default:if(typeof t.status=="string")t.then(Gl,Gl);else{if(e=We,e!==null&&100<e.shellSuspendCounter)throw Error(d(482));e=t,e.status="pending",e.then(function(a){if(t.status==="pending"){var s=t;s.status="fulfilled",s.value=a}},function(a){if(t.status==="pending"){var s=t;s.status="rejected",s.reason=a}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,ld(e),e}throw Ya=t,mn}}function Ba(e){try{var t=e._init;return t(e._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(Ya=l,mn):l}}var Ya=null;function td(){if(Ya===null)throw Error(d(459));var e=Ya;return Ya=null,e}function ld(e){if(e===mn||e===ii)throw Error(d(483))}var hn=null,In=0;function ci(e){var t=In;return In+=1,hn===null&&(hn=[]),ed(hn,e,t)}function Wn(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function oi(e,t){throw t.$$typeof===O?Error(d(525)):(e=Object.prototype.toString.call(t),Error(d(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function ad(e){function t(_,T){if(e){var U=_.deletions;U===null?(_.deletions=[T],_.flags|=16):U.push(T)}}function l(_,T){if(!e)return null;for(;T!==null;)t(_,T),T=T.sibling;return null}function a(_){for(var T=new Map;_!==null;)_.key!==null?T.set(_.key,_):T.set(_.index,_),_=_.sibling;return T}function s(_,T){return _=Xl(_,T),_.index=0,_.sibling=null,_}function r(_,T,U){return _.index=U,e?(U=_.alternate,U!==null?(U=U.index,U<T?(_.flags|=67108866,T):U):(_.flags|=67108866,T)):(_.flags|=1048576,T)}function u(_){return e&&_.alternate===null&&(_.flags|=67108866),_}function f(_,T,U,$){return T===null||T.tag!==6?(T=Lr(U,_.mode,$),T.return=_,T):(T=s(T,U),T.return=_,T)}function N(_,T,U,$){var ve=U.type;return ve===R?K(_,T,U.props.children,$,U.key):T!==null&&(T.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===P&&Ba(ve)===T.type)?(T=s(T,U.props),Wn(T,U),T.return=_,T):(T=ti(U.type,U.key,U.props,null,_.mode,$),Wn(T,U),T.return=_,T)}function k(_,T,U,$){return T===null||T.tag!==4||T.stateNode.containerInfo!==U.containerInfo||T.stateNode.implementation!==U.implementation?(T=Br(U,_.mode,$),T.return=_,T):(T=s(T,U.children||[]),T.return=_,T)}function K(_,T,U,$,ve){return T===null||T.tag!==7?(T=Ra(U,_.mode,$,ve),T.return=_,T):(T=s(T,U),T.return=_,T)}function I(_,T,U){if(typeof T=="string"&&T!==""||typeof T=="number"||typeof T=="bigint")return T=Lr(""+T,_.mode,U),T.return=_,T;if(typeof T=="object"&&T!==null){switch(T.$$typeof){case A:return U=ti(T.type,T.key,T.props,null,_.mode,U),Wn(U,T),U.return=_,U;case V:return T=Br(T,_.mode,U),T.return=_,T;case P:return T=Ba(T),I(_,T,U)}if(J(T)||ce(T))return T=Ra(T,_.mode,U,null),T.return=_,T;if(typeof T.then=="function")return I(_,ci(T),U);if(T.$$typeof===M)return I(_,ni(_,T),U);oi(_,T)}return null}function L(_,T,U,$){var ve=T!==null?T.key:null;if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return ve!==null?null:f(_,T,""+U,$);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case A:return U.key===ve?N(_,T,U,$):null;case V:return U.key===ve?k(_,T,U,$):null;case P:return U=Ba(U),L(_,T,U,$)}if(J(U)||ce(U))return ve!==null?null:K(_,T,U,$,null);if(typeof U.then=="function")return L(_,T,ci(U),$);if(U.$$typeof===M)return L(_,T,ni(_,U),$);oi(_,U)}return null}function q(_,T,U,$,ve){if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return _=_.get(U)||null,f(T,_,""+$,ve);if(typeof $=="object"&&$!==null){switch($.$$typeof){case A:return _=_.get($.key===null?U:$.key)||null,N(T,_,$,ve);case V:return _=_.get($.key===null?U:$.key)||null,k(T,_,$,ve);case P:return $=Ba($),q(_,T,U,$,ve)}if(J($)||ce($))return _=_.get(U)||null,K(T,_,$,ve,null);if(typeof $.then=="function")return q(_,T,U,ci($),ve);if($.$$typeof===M)return q(_,T,U,ni(T,$),ve);oi(T,$)}return null}function ue(_,T,U,$){for(var ve=null,Ye=null,me=T,Te=T=0,Oe=null;me!==null&&Te<U.length;Te++){me.index>Te?(Oe=me,me=null):Oe=me.sibling;var Ge=L(_,me,U[Te],$);if(Ge===null){me===null&&(me=Oe);break}e&&me&&Ge.alternate===null&&t(_,me),T=r(Ge,T,Te),Ye===null?ve=Ge:Ye.sibling=Ge,Ye=Ge,me=Oe}if(Te===U.length)return l(_,me),Ue&&Ql(_,Te),ve;if(me===null){for(;Te<U.length;Te++)me=I(_,U[Te],$),me!==null&&(T=r(me,T,Te),Ye===null?ve=me:Ye.sibling=me,Ye=me);return Ue&&Ql(_,Te),ve}for(me=a(me);Te<U.length;Te++)Oe=q(me,_,Te,U[Te],$),Oe!==null&&(e&&Oe.alternate!==null&&me.delete(Oe.key===null?Te:Oe.key),T=r(Oe,T,Te),Ye===null?ve=Oe:Ye.sibling=Oe,Ye=Oe);return e&&me.forEach(function(Ca){return t(_,Ca)}),Ue&&Ql(_,Te),ve}function je(_,T,U,$){if(U==null)throw Error(d(151));for(var ve=null,Ye=null,me=T,Te=T=0,Oe=null,Ge=U.next();me!==null&&!Ge.done;Te++,Ge=U.next()){me.index>Te?(Oe=me,me=null):Oe=me.sibling;var Ca=L(_,me,Ge.value,$);if(Ca===null){me===null&&(me=Oe);break}e&&me&&Ca.alternate===null&&t(_,me),T=r(Ca,T,Te),Ye===null?ve=Ca:Ye.sibling=Ca,Ye=Ca,me=Oe}if(Ge.done)return l(_,me),Ue&&Ql(_,Te),ve;if(me===null){for(;!Ge.done;Te++,Ge=U.next())Ge=I(_,Ge.value,$),Ge!==null&&(T=r(Ge,T,Te),Ye===null?ve=Ge:Ye.sibling=Ge,Ye=Ge);return Ue&&Ql(_,Te),ve}for(me=a(me);!Ge.done;Te++,Ge=U.next())Ge=q(me,_,Te,Ge.value,$),Ge!==null&&(e&&Ge.alternate!==null&&me.delete(Ge.key===null?Te:Ge.key),T=r(Ge,T,Te),Ye===null?ve=Ge:Ye.sibling=Ge,Ye=Ge);return e&&me.forEach(function(op){return t(_,op)}),Ue&&Ql(_,Te),ve}function $e(_,T,U,$){if(typeof U=="object"&&U!==null&&U.type===R&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case A:e:{for(var ve=U.key;T!==null;){if(T.key===ve){if(ve=U.type,ve===R){if(T.tag===7){l(_,T.sibling),$=s(T,U.props.children),$.return=_,_=$;break e}}else if(T.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===P&&Ba(ve)===T.type){l(_,T.sibling),$=s(T,U.props),Wn($,U),$.return=_,_=$;break e}l(_,T);break}else t(_,T);T=T.sibling}U.type===R?($=Ra(U.props.children,_.mode,$,U.key),$.return=_,_=$):($=ti(U.type,U.key,U.props,null,_.mode,$),Wn($,U),$.return=_,_=$)}return u(_);case V:e:{for(ve=U.key;T!==null;){if(T.key===ve)if(T.tag===4&&T.stateNode.containerInfo===U.containerInfo&&T.stateNode.implementation===U.implementation){l(_,T.sibling),$=s(T,U.children||[]),$.return=_,_=$;break e}else{l(_,T);break}else t(_,T);T=T.sibling}$=Br(U,_.mode,$),$.return=_,_=$}return u(_);case P:return U=Ba(U),$e(_,T,U,$)}if(J(U))return ue(_,T,U,$);if(ce(U)){if(ve=ce(U),typeof ve!="function")throw Error(d(150));return U=ve.call(U),je(_,T,U,$)}if(typeof U.then=="function")return $e(_,T,ci(U),$);if(U.$$typeof===M)return $e(_,T,ni(_,U),$);oi(_,U)}return typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint"?(U=""+U,T!==null&&T.tag===6?(l(_,T.sibling),$=s(T,U),$.return=_,_=$):(l(_,T),$=Lr(U,_.mode,$),$.return=_,_=$),u(_)):l(_,T)}return function(_,T,U,$){try{In=0;var ve=$e(_,T,U,$);return hn=null,ve}catch(me){if(me===mn||me===ii)throw me;var Ye=il(29,me,null,_.mode);return Ye.lanes=$,Ye.return=_,Ye}finally{}}}var Ga=ad(!0),nd=ad(!1),oa=!1;function Ir(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Wr(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ua(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function da(e,t,l){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,(qe&2)!==0){var s=a.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),a.pending=t,t=ei(e),Gu(e,null,l),t}return Ps(e,a,t,l),ei(e)}function Pn(e,t,l){if(t=t.updateQueue,t!==null&&(t=t.shared,(l&4194048)!==0)){var a=t.lanes;a&=e.pendingLanes,l|=a,t.lanes=l,Nt(e,l)}}function Pr(e,t){var l=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,l===a)){var s=null,r=null;if(l=l.firstBaseUpdate,l!==null){do{var u={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};r===null?s=r=u:r=r.next=u,l=l.next}while(l!==null);r===null?s=r=t:r=r.next=t}else s=r=t;l={baseState:a.baseState,firstBaseUpdate:s,lastBaseUpdate:r,shared:a.shared,callbacks:a.callbacks},e.updateQueue=l;return}e=l.lastBaseUpdate,e===null?l.firstBaseUpdate=t:e.next=t,l.lastBaseUpdate=t}var ec=!1;function es(){if(ec){var e=fn;if(e!==null)throw e}}function ts(e,t,l,a){ec=!1;var s=e.updateQueue;oa=!1;var r=s.firstBaseUpdate,u=s.lastBaseUpdate,f=s.shared.pending;if(f!==null){s.shared.pending=null;var N=f,k=N.next;N.next=null,u===null?r=k:u.next=k,u=N;var K=e.alternate;K!==null&&(K=K.updateQueue,f=K.lastBaseUpdate,f!==u&&(f===null?K.firstBaseUpdate=k:f.next=k,K.lastBaseUpdate=N))}if(r!==null){var I=s.baseState;u=0,K=k=N=null,f=r;do{var L=f.lane&-536870913,q=L!==f.lane;if(q?(ze&L)===L:(a&L)===L){L!==0&&L===dn&&(ec=!0),K!==null&&(K=K.next={lane:0,tag:f.tag,payload:f.payload,callback:null,next:null});e:{var ue=e,je=f;L=t;var $e=l;switch(je.tag){case 1:if(ue=je.payload,typeof ue=="function"){I=ue.call($e,I,L);break e}I=ue;break e;case 3:ue.flags=ue.flags&-65537|128;case 0:if(ue=je.payload,L=typeof ue=="function"?ue.call($e,I,L):ue,L==null)break e;I=y({},I,L);break e;case 2:oa=!0}}L=f.callback,L!==null&&(e.flags|=64,q&&(e.flags|=8192),q=s.callbacks,q===null?s.callbacks=[L]:q.push(L))}else q={lane:L,tag:f.tag,payload:f.payload,callback:f.callback,next:null},K===null?(k=K=q,N=I):K=K.next=q,u|=L;if(f=f.next,f===null){if(f=s.shared.pending,f===null)break;q=f,f=q.next,q.next=null,s.lastBaseUpdate=q,s.shared.pending=null}}while(!0);K===null&&(N=I),s.baseState=N,s.firstBaseUpdate=k,s.lastBaseUpdate=K,r===null&&(s.shared.lanes=0),ga|=u,e.lanes=u,e.memoizedState=I}}function sd(e,t){if(typeof e!="function")throw Error(d(191,e));e.call(t)}function id(e,t){var l=e.callbacks;if(l!==null)for(e.callbacks=null,e=0;e<l.length;e++)sd(l[e],t)}var xn=w(null),ui=w(0);function rd(e,t){e=ta,te(ui,e),te(xn,t),ta=e|t.baseLanes}function tc(){te(ui,ta),te(xn,xn.current)}function lc(){ta=ui.current,Z(xn),Z(ui)}var rl=w(null),jl=null;function fa(e){var t=e.alternate;te(ut,ut.current&1),te(rl,e),jl===null&&(t===null||xn.current!==null||t.memoizedState!==null)&&(jl=e)}function ac(e){te(ut,ut.current),te(rl,e),jl===null&&(jl=e)}function cd(e){e.tag===22?(te(ut,ut.current),te(rl,e),jl===null&&(jl=e)):ma()}function ma(){te(ut,ut.current),te(rl,rl.current)}function cl(e){Z(rl),jl===e&&(jl=null),Z(ut)}var ut=w(0);function di(e){for(var t=e;t!==null;){if(t.tag===13){var l=t.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||oo(l)||uo(l)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Kl=0,we=null,Ke=null,mt=null,fi=!1,gn=!1,qa=!1,mi=0,ls=0,pn=null,Px=0;function it(){throw Error(d(321))}function nc(e,t){if(t===null)return!1;for(var l=0;l<t.length&&l<e.length;l++)if(!sl(e[l],t[l]))return!1;return!0}function sc(e,t,l,a,s,r){return Kl=r,we=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,C.H=e===null||e.memoizedState===null?Zd:vc,qa=!1,r=l(a,s),qa=!1,gn&&(r=ud(t,l,a,s)),od(e),r}function od(e){C.H=ss;var t=Ke!==null&&Ke.next!==null;if(Kl=0,mt=Ke=we=null,fi=!1,ls=0,pn=null,t)throw Error(d(300));e===null||ht||(e=e.dependencies,e!==null&&ai(e)&&(ht=!0))}function ud(e,t,l,a){we=e;var s=0;do{if(gn&&(pn=null),ls=0,gn=!1,25<=s)throw Error(d(301));if(s+=1,mt=Ke=null,e.updateQueue!=null){var r=e.updateQueue;r.lastEffect=null,r.events=null,r.stores=null,r.memoCache!=null&&(r.memoCache.index=0)}C.H=Vd,r=t(l,a)}while(gn);return r}function eg(){var e=C.H,t=e.useState()[0];return t=typeof t.then=="function"?as(t):t,e=e.useState()[0],(Ke!==null?Ke.memoizedState:null)!==e&&(we.flags|=1024),t}function ic(){var e=mi!==0;return mi=0,e}function rc(e,t,l){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l}function cc(e){if(fi){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}fi=!1}Kl=0,mt=Ke=we=null,gn=!1,ls=mi=0,pn=null}function qt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return mt===null?we.memoizedState=mt=e:mt=mt.next=e,mt}function dt(){if(Ke===null){var e=we.alternate;e=e!==null?e.memoizedState:null}else e=Ke.next;var t=mt===null?we.memoizedState:mt.next;if(t!==null)mt=t,Ke=e;else{if(e===null)throw we.alternate===null?Error(d(467)):Error(d(310));Ke=e,e={memoizedState:Ke.memoizedState,baseState:Ke.baseState,baseQueue:Ke.baseQueue,queue:Ke.queue,next:null},mt===null?we.memoizedState=mt=e:mt=mt.next=e}return mt}function hi(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function as(e){var t=ls;return ls+=1,pn===null&&(pn=[]),e=ed(pn,e,t),t=we,(mt===null?t.memoizedState:mt.next)===null&&(t=t.alternate,C.H=t===null||t.memoizedState===null?Zd:vc),e}function xi(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return as(e);if(e.$$typeof===M)return _t(e)}throw Error(d(438,String(e)))}function oc(e){var t=null,l=we.updateQueue;if(l!==null&&(t=l.memoCache),t==null){var a=we.alternate;a!==null&&(a=a.updateQueue,a!==null&&(a=a.memoCache,a!=null&&(t={data:a.data.map(function(s){return s.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),l===null&&(l=hi(),we.updateQueue=l),l.memoCache=t,l=t.data[t.index],l===void 0)for(l=t.data[t.index]=Array(e),a=0;a<e;a++)l[a]=de;return t.index++,l}function Jl(e,t){return typeof t=="function"?t(e):t}function gi(e){var t=dt();return uc(t,Ke,e)}function uc(e,t,l){var a=e.queue;if(a===null)throw Error(d(311));a.lastRenderedReducer=l;var s=e.baseQueue,r=a.pending;if(r!==null){if(s!==null){var u=s.next;s.next=r.next,r.next=u}t.baseQueue=s=r,a.pending=null}if(r=e.baseState,s===null)e.memoizedState=r;else{t=s.next;var f=u=null,N=null,k=t,K=!1;do{var I=k.lane&-536870913;if(I!==k.lane?(ze&I)===I:(Kl&I)===I){var L=k.revertLane;if(L===0)N!==null&&(N=N.next={lane:0,revertLane:0,gesture:null,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null}),I===dn&&(K=!0);else if((Kl&L)===L){k=k.next,L===dn&&(K=!0);continue}else I={lane:0,revertLane:k.revertLane,gesture:null,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null},N===null?(f=N=I,u=r):N=N.next=I,we.lanes|=L,ga|=L;I=k.action,qa&&l(r,I),r=k.hasEagerState?k.eagerState:l(r,I)}else L={lane:I,revertLane:k.revertLane,gesture:k.gesture,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null},N===null?(f=N=L,u=r):N=N.next=L,we.lanes|=I,ga|=I;k=k.next}while(k!==null&&k!==t);if(N===null?u=r:N.next=f,!sl(r,e.memoizedState)&&(ht=!0,K&&(l=fn,l!==null)))throw l;e.memoizedState=r,e.baseState=u,e.baseQueue=N,a.lastRenderedState=r}return s===null&&(a.lanes=0),[e.memoizedState,a.dispatch]}function dc(e){var t=dt(),l=t.queue;if(l===null)throw Error(d(311));l.lastRenderedReducer=e;var a=l.dispatch,s=l.pending,r=t.memoizedState;if(s!==null){l.pending=null;var u=s=s.next;do r=e(r,u.action),u=u.next;while(u!==s);sl(r,t.memoizedState)||(ht=!0),t.memoizedState=r,t.baseQueue===null&&(t.baseState=r),l.lastRenderedState=r}return[r,a]}function dd(e,t,l){var a=we,s=dt(),r=Ue;if(r){if(l===void 0)throw Error(d(407));l=l()}else l=t();var u=!sl((Ke||s).memoizedState,l);if(u&&(s.memoizedState=l,ht=!0),s=s.queue,hc(hd.bind(null,a,s,e),[e]),s.getSnapshot!==t||u||mt!==null&&mt.memoizedState.tag&1){if(a.flags|=2048,bn(9,{destroy:void 0},md.bind(null,a,s,l,t),null),We===null)throw Error(d(349));r||(Kl&127)!==0||fd(a,t,l)}return l}function fd(e,t,l){e.flags|=16384,e={getSnapshot:t,value:l},t=we.updateQueue,t===null?(t=hi(),we.updateQueue=t,t.stores=[e]):(l=t.stores,l===null?t.stores=[e]:l.push(e))}function md(e,t,l,a){t.value=l,t.getSnapshot=a,xd(t)&&gd(e)}function hd(e,t,l){return l(function(){xd(t)&&gd(e)})}function xd(e){var t=e.getSnapshot;e=e.value;try{var l=t();return!sl(e,l)}catch{return!0}}function gd(e){var t=Oa(e,2);t!==null&&Wt(t,e,2)}function fc(e){var t=qt();if(typeof e=="function"){var l=e;if(e=l(),qa){he(!0);try{l()}finally{he(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Jl,lastRenderedState:e},t}function pd(e,t,l,a){return e.baseState=l,uc(e,Ke,typeof a=="function"?a:Jl)}function tg(e,t,l,a,s){if(yi(e))throw Error(d(485));if(e=t.action,e!==null){var r={payload:s,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(u){r.listeners.push(u)}};C.T!==null?l(!0):r.isTransition=!1,a(r),l=t.pending,l===null?(r.next=t.pending=r,bd(t,r)):(r.next=l.next,t.pending=l.next=r)}}function bd(e,t){var l=t.action,a=t.payload,s=e.state;if(t.isTransition){var r=C.T,u={};C.T=u;try{var f=l(s,a),N=C.S;N!==null&&N(u,f),yd(e,t,f)}catch(k){mc(e,t,k)}finally{r!==null&&u.types!==null&&(r.types=u.types),C.T=r}}else try{r=l(s,a),yd(e,t,r)}catch(k){mc(e,t,k)}}function yd(e,t,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(a){vd(e,t,a)},function(a){return mc(e,t,a)}):vd(e,t,l)}function vd(e,t,l){t.status="fulfilled",t.value=l,jd(t),e.state=l,t=e.pending,t!==null&&(l=t.next,l===t?e.pending=null:(l=l.next,t.next=l,bd(e,l)))}function mc(e,t,l){var a=e.pending;if(e.pending=null,a!==null){a=a.next;do t.status="rejected",t.reason=l,jd(t),t=t.next;while(t!==a)}e.action=null}function jd(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Nd(e,t){return t}function Sd(e,t){if(Ue){var l=We.formState;if(l!==null){e:{var a=we;if(Ue){if(Pe){t:{for(var s=Pe,r=vl;s.nodeType!==8;){if(!r){s=null;break t}if(s=Nl(s.nextSibling),s===null){s=null;break t}}r=s.data,s=r==="F!"||r==="F"?s:null}if(s){Pe=Nl(s.nextSibling),a=s.data==="F!";break e}}ra(a)}a=!1}a&&(t=l[0])}}return l=qt(),l.memoizedState=l.baseState=t,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Nd,lastRenderedState:t},l.queue=a,l=qd.bind(null,we,a),a.dispatch=l,a=fc(!1),r=yc.bind(null,we,!1,a.queue),a=qt(),s={state:t,dispatch:null,action:e,pending:null},a.queue=s,l=tg.bind(null,we,s,r,l),s.dispatch=l,a.memoizedState=e,[t,l,!1]}function wd(e){var t=dt();return Td(t,Ke,e)}function Td(e,t,l){if(t=uc(e,t,Nd)[0],e=gi(Jl)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var a=as(t)}catch(u){throw u===mn?ii:u}else a=t;t=dt();var s=t.queue,r=s.dispatch;return l!==t.memoizedState&&(we.flags|=2048,bn(9,{destroy:void 0},lg.bind(null,s,l),null)),[a,r,e]}function lg(e,t){e.action=t}function Cd(e){var t=dt(),l=Ke;if(l!==null)return Td(t,l,e);dt(),t=t.memoizedState,l=dt();var a=l.queue.dispatch;return l.memoizedState=e,[t,a,!1]}function bn(e,t,l,a){return e={tag:e,create:l,deps:a,inst:t,next:null},t=we.updateQueue,t===null&&(t=hi(),we.updateQueue=t),l=t.lastEffect,l===null?t.lastEffect=e.next=e:(a=l.next,l.next=e,e.next=a,t.lastEffect=e),e}function Ed(){return dt().memoizedState}function pi(e,t,l,a){var s=qt();we.flags|=e,s.memoizedState=bn(1|t,{destroy:void 0},l,a===void 0?null:a)}function bi(e,t,l,a){var s=dt();a=a===void 0?null:a;var r=s.memoizedState.inst;Ke!==null&&a!==null&&nc(a,Ke.memoizedState.deps)?s.memoizedState=bn(t,r,l,a):(we.flags|=e,s.memoizedState=bn(1|t,r,l,a))}function Ad(e,t){pi(8390656,8,e,t)}function hc(e,t){bi(2048,8,e,t)}function ag(e){we.flags|=4;var t=we.updateQueue;if(t===null)t=hi(),we.updateQueue=t,t.events=[e];else{var l=t.events;l===null?t.events=[e]:l.push(e)}}function Dd(e){var t=dt().memoizedState;return ag({ref:t,nextImpl:e}),function(){if((qe&2)!==0)throw Error(d(440));return t.impl.apply(void 0,arguments)}}function _d(e,t){return bi(4,2,e,t)}function Md(e,t){return bi(4,4,e,t)}function zd(e,t){if(typeof t=="function"){e=e();var l=t(e);return function(){typeof l=="function"?l():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Od(e,t,l){l=l!=null?l.concat([e]):null,bi(4,4,zd.bind(null,t,e),l)}function xc(){}function Rd(e,t){var l=dt();t=t===void 0?null:t;var a=l.memoizedState;return t!==null&&nc(t,a[1])?a[0]:(l.memoizedState=[e,t],e)}function Ud(e,t){var l=dt();t=t===void 0?null:t;var a=l.memoizedState;if(t!==null&&nc(t,a[1]))return a[0];if(a=e(),qa){he(!0);try{e()}finally{he(!1)}}return l.memoizedState=[a,t],a}function gc(e,t,l){return l===void 0||(Kl&1073741824)!==0&&(ze&261930)===0?e.memoizedState=t:(e.memoizedState=l,e=Hf(),we.lanes|=e,ga|=e,l)}function kd(e,t,l,a){return sl(l,t)?l:xn.current!==null?(e=gc(e,l,a),sl(e,t)||(ht=!0),e):(Kl&42)===0||(Kl&1073741824)!==0&&(ze&261930)===0?(ht=!0,e.memoizedState=l):(e=Hf(),we.lanes|=e,ga|=e,t)}function Hd(e,t,l,a,s){var r=G.p;G.p=r!==0&&8>r?r:8;var u=C.T,f={};C.T=f,yc(e,!1,t,l);try{var N=s(),k=C.S;if(k!==null&&k(f,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var K=Wx(N,a);ns(e,t,K,dl(e))}else ns(e,t,a,dl(e))}catch(I){ns(e,t,{then:function(){},status:"rejected",reason:I},dl())}finally{G.p=r,u!==null&&f.types!==null&&(u.types=f.types),C.T=u}}function ng(){}function pc(e,t,l,a){if(e.tag!==5)throw Error(d(476));var s=Ld(e).queue;Hd(e,s,t,B,l===null?ng:function(){return Bd(e),l(a)})}function Ld(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:B,baseState:B,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Jl,lastRenderedState:B},next:null};var l={};return t.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Jl,lastRenderedState:l},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Bd(e){var t=Ld(e);t.next===null&&(t=e.alternate.memoizedState),ns(e,t.next.queue,{},dl())}function bc(){return _t(js)}function Yd(){return dt().memoizedState}function Gd(){return dt().memoizedState}function sg(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var l=dl();e=ua(l);var a=da(t,e,l);a!==null&&(Wt(a,t,l),Pn(a,t,l)),t={cache:Kr()},e.payload=t;return}t=t.return}}function ig(e,t,l){var a=dl();l={lane:a,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},yi(e)?Xd(t,l):(l=kr(e,t,l,a),l!==null&&(Wt(l,e,a),Qd(l,t,a)))}function qd(e,t,l){var a=dl();ns(e,t,l,a)}function ns(e,t,l,a){var s={lane:a,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(yi(e))Xd(t,s);else{var r=e.alternate;if(e.lanes===0&&(r===null||r.lanes===0)&&(r=t.lastRenderedReducer,r!==null))try{var u=t.lastRenderedState,f=r(u,l);if(s.hasEagerState=!0,s.eagerState=f,sl(f,u))return Ps(e,t,s,0),We===null&&Ws(),!1}catch{}finally{}if(l=kr(e,t,s,a),l!==null)return Wt(l,e,a),Qd(l,t,a),!0}return!1}function yc(e,t,l,a){if(a={lane:2,revertLane:Ic(),gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},yi(e)){if(t)throw Error(d(479))}else t=kr(e,l,a,2),t!==null&&Wt(t,e,2)}function yi(e){var t=e.alternate;return e===we||t!==null&&t===we}function Xd(e,t){gn=fi=!0;var l=e.pending;l===null?t.next=t:(t.next=l.next,l.next=t),e.pending=t}function Qd(e,t,l){if((l&4194048)!==0){var a=t.lanes;a&=e.pendingLanes,l|=a,t.lanes=l,Nt(e,l)}}var ss={readContext:_t,use:xi,useCallback:it,useContext:it,useEffect:it,useImperativeHandle:it,useLayoutEffect:it,useInsertionEffect:it,useMemo:it,useReducer:it,useRef:it,useState:it,useDebugValue:it,useDeferredValue:it,useTransition:it,useSyncExternalStore:it,useId:it,useHostTransitionStatus:it,useFormState:it,useActionState:it,useOptimistic:it,useMemoCache:it,useCacheRefresh:it};ss.useEffectEvent=it;var Zd={readContext:_t,use:xi,useCallback:function(e,t){return qt().memoizedState=[e,t===void 0?null:t],e},useContext:_t,useEffect:Ad,useImperativeHandle:function(e,t,l){l=l!=null?l.concat([e]):null,pi(4194308,4,zd.bind(null,t,e),l)},useLayoutEffect:function(e,t){return pi(4194308,4,e,t)},useInsertionEffect:function(e,t){pi(4,2,e,t)},useMemo:function(e,t){var l=qt();t=t===void 0?null:t;var a=e();if(qa){he(!0);try{e()}finally{he(!1)}}return l.memoizedState=[a,t],a},useReducer:function(e,t,l){var a=qt();if(l!==void 0){var s=l(t);if(qa){he(!0);try{l(t)}finally{he(!1)}}}else s=t;return a.memoizedState=a.baseState=s,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:s},a.queue=e,e=e.dispatch=ig.bind(null,we,e),[a.memoizedState,e]},useRef:function(e){var t=qt();return e={current:e},t.memoizedState=e},useState:function(e){e=fc(e);var t=e.queue,l=qd.bind(null,we,t);return t.dispatch=l,[e.memoizedState,l]},useDebugValue:xc,useDeferredValue:function(e,t){var l=qt();return gc(l,e,t)},useTransition:function(){var e=fc(!1);return e=Hd.bind(null,we,e.queue,!0,!1),qt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,l){var a=we,s=qt();if(Ue){if(l===void 0)throw Error(d(407));l=l()}else{if(l=t(),We===null)throw Error(d(349));(ze&127)!==0||fd(a,t,l)}s.memoizedState=l;var r={value:l,getSnapshot:t};return s.queue=r,Ad(hd.bind(null,a,r,e),[e]),a.flags|=2048,bn(9,{destroy:void 0},md.bind(null,a,r,l,t),null),l},useId:function(){var e=qt(),t=We.identifierPrefix;if(Ue){var l=Rl,a=Ol;l=(a&~(1<<32-pe(a)-1)).toString(32)+l,t="_"+t+"R_"+l,l=mi++,0<l&&(t+="H"+l.toString(32)),t+="_"}else l=Px++,t="_"+t+"r_"+l.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:bc,useFormState:Sd,useActionState:Sd,useOptimistic:function(e){var t=qt();t.memoizedState=t.baseState=e;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=l,t=yc.bind(null,we,!0,l),l.dispatch=t,[e,t]},useMemoCache:oc,useCacheRefresh:function(){return qt().memoizedState=sg.bind(null,we)},useEffectEvent:function(e){var t=qt(),l={impl:e};return t.memoizedState=l,function(){if((qe&2)!==0)throw Error(d(440));return l.impl.apply(void 0,arguments)}}},vc={readContext:_t,use:xi,useCallback:Rd,useContext:_t,useEffect:hc,useImperativeHandle:Od,useInsertionEffect:_d,useLayoutEffect:Md,useMemo:Ud,useReducer:gi,useRef:Ed,useState:function(){return gi(Jl)},useDebugValue:xc,useDeferredValue:function(e,t){var l=dt();return kd(l,Ke.memoizedState,e,t)},useTransition:function(){var e=gi(Jl)[0],t=dt().memoizedState;return[typeof e=="boolean"?e:as(e),t]},useSyncExternalStore:dd,useId:Yd,useHostTransitionStatus:bc,useFormState:wd,useActionState:wd,useOptimistic:function(e,t){var l=dt();return pd(l,Ke,e,t)},useMemoCache:oc,useCacheRefresh:Gd};vc.useEffectEvent=Dd;var Vd={readContext:_t,use:xi,useCallback:Rd,useContext:_t,useEffect:hc,useImperativeHandle:Od,useInsertionEffect:_d,useLayoutEffect:Md,useMemo:Ud,useReducer:dc,useRef:Ed,useState:function(){return dc(Jl)},useDebugValue:xc,useDeferredValue:function(e,t){var l=dt();return Ke===null?gc(l,e,t):kd(l,Ke.memoizedState,e,t)},useTransition:function(){var e=dc(Jl)[0],t=dt().memoizedState;return[typeof e=="boolean"?e:as(e),t]},useSyncExternalStore:dd,useId:Yd,useHostTransitionStatus:bc,useFormState:Cd,useActionState:Cd,useOptimistic:function(e,t){var l=dt();return Ke!==null?pd(l,Ke,e,t):(l.baseState=e,[e,l.queue.dispatch])},useMemoCache:oc,useCacheRefresh:Gd};Vd.useEffectEvent=Dd;function jc(e,t,l,a){t=e.memoizedState,l=l(a,t),l=l==null?t:y({},t,l),e.memoizedState=l,e.lanes===0&&(e.updateQueue.baseState=l)}var Nc={enqueueSetState:function(e,t,l){e=e._reactInternals;var a=dl(),s=ua(a);s.payload=t,l!=null&&(s.callback=l),t=da(e,s,a),t!==null&&(Wt(t,e,a),Pn(t,e,a))},enqueueReplaceState:function(e,t,l){e=e._reactInternals;var a=dl(),s=ua(a);s.tag=1,s.payload=t,l!=null&&(s.callback=l),t=da(e,s,a),t!==null&&(Wt(t,e,a),Pn(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var l=dl(),a=ua(l);a.tag=2,t!=null&&(a.callback=t),t=da(e,a,l),t!==null&&(Wt(t,e,l),Pn(t,e,l))}};function Kd(e,t,l,a,s,r,u){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,r,u):t.prototype&&t.prototype.isPureReactComponent?!Zn(l,a)||!Zn(s,r):!0}function Jd(e,t,l,a){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(l,a),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(l,a),t.state!==e&&Nc.enqueueReplaceState(t,t.state,null)}function Xa(e,t){var l=t;if("ref"in t){l={};for(var a in t)a!=="ref"&&(l[a]=t[a])}if(e=e.defaultProps){l===t&&(l=y({},l));for(var s in e)l[s]===void 0&&(l[s]=e[s])}return l}function $d(e){Is(e)}function Fd(e){console.error(e)}function Id(e){Is(e)}function vi(e,t){try{var l=e.onUncaughtError;l(t.value,{componentStack:t.stack})}catch(a){setTimeout(function(){throw a})}}function Wd(e,t,l){try{var a=e.onCaughtError;a(l.value,{componentStack:l.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(s){setTimeout(function(){throw s})}}function Sc(e,t,l){return l=ua(l),l.tag=3,l.payload={element:null},l.callback=function(){vi(e,t)},l}function Pd(e){return e=ua(e),e.tag=3,e}function ef(e,t,l,a){var s=l.type.getDerivedStateFromError;if(typeof s=="function"){var r=a.value;e.payload=function(){return s(r)},e.callback=function(){Wd(t,l,a)}}var u=l.stateNode;u!==null&&typeof u.componentDidCatch=="function"&&(e.callback=function(){Wd(t,l,a),typeof s!="function"&&(pa===null?pa=new Set([this]):pa.add(this));var f=a.stack;this.componentDidCatch(a.value,{componentStack:f!==null?f:""})})}function rg(e,t,l,a,s){if(l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){if(t=l.alternate,t!==null&&un(t,l,s,!0),l=rl.current,l!==null){switch(l.tag){case 31:case 13:return jl===null?zi():l.alternate===null&&rt===0&&(rt=3),l.flags&=-257,l.flags|=65536,l.lanes=s,a===ri?l.flags|=16384:(t=l.updateQueue,t===null?l.updateQueue=new Set([a]):t.add(a),Jc(e,a,s)),!1;case 22:return l.flags|=65536,a===ri?l.flags|=16384:(t=l.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([a])},l.updateQueue=t):(l=t.retryQueue,l===null?t.retryQueue=new Set([a]):l.add(a)),Jc(e,a,s)),!1}throw Error(d(435,l.tag))}return Jc(e,a,s),zi(),!1}if(Ue)return t=rl.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=s,a!==qr&&(e=Error(d(422),{cause:a}),Jn(pl(e,l)))):(a!==qr&&(t=Error(d(423),{cause:a}),Jn(pl(t,l))),e=e.current.alternate,e.flags|=65536,s&=-s,e.lanes|=s,a=pl(a,l),s=Sc(e.stateNode,a,s),Pr(e,s),rt!==4&&(rt=2)),!1;var r=Error(d(520),{cause:a});if(r=pl(r,l),ms===null?ms=[r]:ms.push(r),rt!==4&&(rt=2),t===null)return!0;a=pl(a,l),l=t;do{switch(l.tag){case 3:return l.flags|=65536,e=s&-s,l.lanes|=e,e=Sc(l.stateNode,a,e),Pr(l,e),!1;case 1:if(t=l.type,r=l.stateNode,(l.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||r!==null&&typeof r.componentDidCatch=="function"&&(pa===null||!pa.has(r))))return l.flags|=65536,s&=-s,l.lanes|=s,s=Pd(s),ef(s,e,l,a),Pr(l,s),!1}l=l.return}while(l!==null);return!1}var wc=Error(d(461)),ht=!1;function Mt(e,t,l,a){t.child=e===null?nd(t,null,l,a):Ga(t,e.child,l,a)}function tf(e,t,l,a,s){l=l.render;var r=t.ref;if("ref"in a){var u={};for(var f in a)f!=="ref"&&(u[f]=a[f])}else u=a;return Ha(t),a=sc(e,t,l,u,r,s),f=ic(),e!==null&&!ht?(rc(e,t,s),$l(e,t,s)):(Ue&&f&&Yr(t),t.flags|=1,Mt(e,t,a,s),t.child)}function lf(e,t,l,a,s){if(e===null){var r=l.type;return typeof r=="function"&&!Hr(r)&&r.defaultProps===void 0&&l.compare===null?(t.tag=15,t.type=r,af(e,t,r,a,s)):(e=ti(l.type,null,a,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(r=e.child,!zc(e,s)){var u=r.memoizedProps;if(l=l.compare,l=l!==null?l:Zn,l(u,a)&&e.ref===t.ref)return $l(e,t,s)}return t.flags|=1,e=Xl(r,a),e.ref=t.ref,e.return=t,t.child=e}function af(e,t,l,a,s){if(e!==null){var r=e.memoizedProps;if(Zn(r,a)&&e.ref===t.ref)if(ht=!1,t.pendingProps=a=r,zc(e,s))(e.flags&131072)!==0&&(ht=!0);else return t.lanes=e.lanes,$l(e,t,s)}return Tc(e,t,l,a,s)}function nf(e,t,l,a){var s=a.children,r=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.mode==="hidden"){if((t.flags&128)!==0){if(r=r!==null?r.baseLanes|l:l,e!==null){for(a=t.child=e.child,s=0;a!==null;)s=s|a.lanes|a.childLanes,a=a.sibling;a=s&~r}else a=0,t.child=null;return sf(e,t,r,l,a)}if((l&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&si(t,r!==null?r.cachePool:null),r!==null?rd(t,r):tc(),cd(t);else return a=t.lanes=536870912,sf(e,t,r!==null?r.baseLanes|l:l,l,a)}else r!==null?(si(t,r.cachePool),rd(t,r),ma(),t.memoizedState=null):(e!==null&&si(t,null),tc(),ma());return Mt(e,t,s,l),t.child}function is(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function sf(e,t,l,a,s){var r=$r();return r=r===null?null:{parent:ft._currentValue,pool:r},t.memoizedState={baseLanes:l,cachePool:r},e!==null&&si(t,null),tc(),cd(t),e!==null&&un(e,t,a,!0),t.childLanes=s,null}function ji(e,t){return t=Si({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function rf(e,t,l){return Ga(t,e.child,null,l),e=ji(t,t.pendingProps),e.flags|=2,cl(t),t.memoizedState=null,e}function cg(e,t,l){var a=t.pendingProps,s=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(Ue){if(a.mode==="hidden")return e=ji(t,a),t.lanes=536870912,is(null,e);if(ac(t),(e=Pe)?(e=ym(e,vl),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:sa!==null?{id:Ol,overflow:Rl}:null,retryLane:536870912,hydrationErrors:null},l=Xu(e),l.return=t,t.child=l,Dt=t,Pe=null)):e=null,e===null)throw ra(t);return t.lanes=536870912,null}return ji(t,a)}var r=e.memoizedState;if(r!==null){var u=r.dehydrated;if(ac(t),s)if(t.flags&256)t.flags&=-257,t=rf(e,t,l);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(d(558));else if(ht||un(e,t,l,!1),s=(l&e.childLanes)!==0,ht||s){if(a=We,a!==null&&(u=Yt(a,l),u!==0&&u!==r.retryLane))throw r.retryLane=u,Oa(e,u),Wt(a,e,u),wc;zi(),t=rf(e,t,l)}else e=r.treeContext,Pe=Nl(u.nextSibling),Dt=t,Ue=!0,ia=null,vl=!1,e!==null&&Vu(t,e),t=ji(t,a),t.flags|=4096;return t}return e=Xl(e.child,{mode:a.mode,children:a.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Ni(e,t){var l=t.ref;if(l===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(d(284));(e===null||e.ref!==l)&&(t.flags|=4194816)}}function Tc(e,t,l,a,s){return Ha(t),l=sc(e,t,l,a,void 0,s),a=ic(),e!==null&&!ht?(rc(e,t,s),$l(e,t,s)):(Ue&&a&&Yr(t),t.flags|=1,Mt(e,t,l,s),t.child)}function cf(e,t,l,a,s,r){return Ha(t),t.updateQueue=null,l=ud(t,a,l,s),od(e),a=ic(),e!==null&&!ht?(rc(e,t,r),$l(e,t,r)):(Ue&&a&&Yr(t),t.flags|=1,Mt(e,t,l,r),t.child)}function of(e,t,l,a,s){if(Ha(t),t.stateNode===null){var r=sn,u=l.contextType;typeof u=="object"&&u!==null&&(r=_t(u)),r=new l(a,r),t.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=Nc,t.stateNode=r,r._reactInternals=t,r=t.stateNode,r.props=a,r.state=t.memoizedState,r.refs={},Ir(t),u=l.contextType,r.context=typeof u=="object"&&u!==null?_t(u):sn,r.state=t.memoizedState,u=l.getDerivedStateFromProps,typeof u=="function"&&(jc(t,l,u,a),r.state=t.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(u=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),u!==r.state&&Nc.enqueueReplaceState(r,r.state,null),ts(t,a,r,s),es(),r.state=t.memoizedState),typeof r.componentDidMount=="function"&&(t.flags|=4194308),a=!0}else if(e===null){r=t.stateNode;var f=t.memoizedProps,N=Xa(l,f);r.props=N;var k=r.context,K=l.contextType;u=sn,typeof K=="object"&&K!==null&&(u=_t(K));var I=l.getDerivedStateFromProps;K=typeof I=="function"||typeof r.getSnapshotBeforeUpdate=="function",f=t.pendingProps!==f,K||typeof r.UNSAFE_componentWillReceiveProps!="function"&&typeof r.componentWillReceiveProps!="function"||(f||k!==u)&&Jd(t,r,a,u),oa=!1;var L=t.memoizedState;r.state=L,ts(t,a,r,s),es(),k=t.memoizedState,f||L!==k||oa?(typeof I=="function"&&(jc(t,l,I,a),k=t.memoizedState),(N=oa||Kd(t,l,N,a,L,k,u))?(K||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount()),typeof r.componentDidMount=="function"&&(t.flags|=4194308)):(typeof r.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=k),r.props=a,r.state=k,r.context=u,a=N):(typeof r.componentDidMount=="function"&&(t.flags|=4194308),a=!1)}else{r=t.stateNode,Wr(e,t),u=t.memoizedProps,K=Xa(l,u),r.props=K,I=t.pendingProps,L=r.context,k=l.contextType,N=sn,typeof k=="object"&&k!==null&&(N=_t(k)),f=l.getDerivedStateFromProps,(k=typeof f=="function"||typeof r.getSnapshotBeforeUpdate=="function")||typeof r.UNSAFE_componentWillReceiveProps!="function"&&typeof r.componentWillReceiveProps!="function"||(u!==I||L!==N)&&Jd(t,r,a,N),oa=!1,L=t.memoizedState,r.state=L,ts(t,a,r,s),es();var q=t.memoizedState;u!==I||L!==q||oa||e!==null&&e.dependencies!==null&&ai(e.dependencies)?(typeof f=="function"&&(jc(t,l,f,a),q=t.memoizedState),(K=oa||Kd(t,l,K,a,L,q,N)||e!==null&&e.dependencies!==null&&ai(e.dependencies))?(k||typeof r.UNSAFE_componentWillUpdate!="function"&&typeof r.componentWillUpdate!="function"||(typeof r.componentWillUpdate=="function"&&r.componentWillUpdate(a,q,N),typeof r.UNSAFE_componentWillUpdate=="function"&&r.UNSAFE_componentWillUpdate(a,q,N)),typeof r.componentDidUpdate=="function"&&(t.flags|=4),typeof r.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof r.componentDidUpdate!="function"||u===e.memoizedProps&&L===e.memoizedState||(t.flags|=4),typeof r.getSnapshotBeforeUpdate!="function"||u===e.memoizedProps&&L===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=q),r.props=a,r.state=q,r.context=N,a=K):(typeof r.componentDidUpdate!="function"||u===e.memoizedProps&&L===e.memoizedState||(t.flags|=4),typeof r.getSnapshotBeforeUpdate!="function"||u===e.memoizedProps&&L===e.memoizedState||(t.flags|=1024),a=!1)}return r=a,Ni(e,t),a=(t.flags&128)!==0,r||a?(r=t.stateNode,l=a&&typeof l.getDerivedStateFromError!="function"?null:r.render(),t.flags|=1,e!==null&&a?(t.child=Ga(t,e.child,null,s),t.child=Ga(t,null,l,s)):Mt(e,t,l,s),t.memoizedState=r.state,e=t.child):e=$l(e,t,s),e}function uf(e,t,l,a){return Ua(),t.flags|=256,Mt(e,t,l,a),t.child}var Cc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ec(e){return{baseLanes:e,cachePool:Wu()}}function Ac(e,t,l){return e=e!==null?e.childLanes&~l:0,t&&(e|=ul),e}function df(e,t,l){var a=t.pendingProps,s=!1,r=(t.flags&128)!==0,u;if((u=r)||(u=e!==null&&e.memoizedState===null?!1:(ut.current&2)!==0),u&&(s=!0,t.flags&=-129),u=(t.flags&32)!==0,t.flags&=-33,e===null){if(Ue){if(s?fa(t):ma(),(e=Pe)?(e=ym(e,vl),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:sa!==null?{id:Ol,overflow:Rl}:null,retryLane:536870912,hydrationErrors:null},l=Xu(e),l.return=t,t.child=l,Dt=t,Pe=null)):e=null,e===null)throw ra(t);return uo(e)?t.lanes=32:t.lanes=536870912,null}var f=a.children;return a=a.fallback,s?(ma(),s=t.mode,f=Si({mode:"hidden",children:f},s),a=Ra(a,s,l,null),f.return=t,a.return=t,f.sibling=a,t.child=f,a=t.child,a.memoizedState=Ec(l),a.childLanes=Ac(e,u,l),t.memoizedState=Cc,is(null,a)):(fa(t),Dc(t,f))}var N=e.memoizedState;if(N!==null&&(f=N.dehydrated,f!==null)){if(r)t.flags&256?(fa(t),t.flags&=-257,t=_c(e,t,l)):t.memoizedState!==null?(ma(),t.child=e.child,t.flags|=128,t=null):(ma(),f=a.fallback,s=t.mode,a=Si({mode:"visible",children:a.children},s),f=Ra(f,s,l,null),f.flags|=2,a.return=t,f.return=t,a.sibling=f,t.child=a,Ga(t,e.child,null,l),a=t.child,a.memoizedState=Ec(l),a.childLanes=Ac(e,u,l),t.memoizedState=Cc,t=is(null,a));else if(fa(t),uo(f)){if(u=f.nextSibling&&f.nextSibling.dataset,u)var k=u.dgst;u=k,a=Error(d(419)),a.stack="",a.digest=u,Jn({value:a,source:null,stack:null}),t=_c(e,t,l)}else if(ht||un(e,t,l,!1),u=(l&e.childLanes)!==0,ht||u){if(u=We,u!==null&&(a=Yt(u,l),a!==0&&a!==N.retryLane))throw N.retryLane=a,Oa(e,a),Wt(u,e,a),wc;oo(f)||zi(),t=_c(e,t,l)}else oo(f)?(t.flags|=192,t.child=e.child,t=null):(e=N.treeContext,Pe=Nl(f.nextSibling),Dt=t,Ue=!0,ia=null,vl=!1,e!==null&&Vu(t,e),t=Dc(t,a.children),t.flags|=4096);return t}return s?(ma(),f=a.fallback,s=t.mode,N=e.child,k=N.sibling,a=Xl(N,{mode:"hidden",children:a.children}),a.subtreeFlags=N.subtreeFlags&65011712,k!==null?f=Xl(k,f):(f=Ra(f,s,l,null),f.flags|=2),f.return=t,a.return=t,a.sibling=f,t.child=a,is(null,a),a=t.child,f=e.child.memoizedState,f===null?f=Ec(l):(s=f.cachePool,s!==null?(N=ft._currentValue,s=s.parent!==N?{parent:N,pool:N}:s):s=Wu(),f={baseLanes:f.baseLanes|l,cachePool:s}),a.memoizedState=f,a.childLanes=Ac(e,u,l),t.memoizedState=Cc,is(e.child,a)):(fa(t),l=e.child,e=l.sibling,l=Xl(l,{mode:"visible",children:a.children}),l.return=t,l.sibling=null,e!==null&&(u=t.deletions,u===null?(t.deletions=[e],t.flags|=16):u.push(e)),t.child=l,t.memoizedState=null,l)}function Dc(e,t){return t=Si({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Si(e,t){return e=il(22,e,null,t),e.lanes=0,e}function _c(e,t,l){return Ga(t,e.child,null,l),e=Dc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function ff(e,t,l){e.lanes|=t;var a=e.alternate;a!==null&&(a.lanes|=t),Zr(e.return,t,l)}function Mc(e,t,l,a,s,r){var u=e.memoizedState;u===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:l,tailMode:s,treeForkCount:r}:(u.isBackwards=t,u.rendering=null,u.renderingStartTime=0,u.last=a,u.tail=l,u.tailMode=s,u.treeForkCount=r)}function mf(e,t,l){var a=t.pendingProps,s=a.revealOrder,r=a.tail;a=a.children;var u=ut.current,f=(u&2)!==0;if(f?(u=u&1|2,t.flags|=128):u&=1,te(ut,u),Mt(e,t,a,l),a=Ue?Kn:0,!f&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ff(e,l,t);else if(e.tag===19)ff(e,l,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(s){case"forwards":for(l=t.child,s=null;l!==null;)e=l.alternate,e!==null&&di(e)===null&&(s=l),l=l.sibling;l=s,l===null?(s=t.child,t.child=null):(s=l.sibling,l.sibling=null),Mc(t,!1,s,l,r,a);break;case"backwards":case"unstable_legacy-backwards":for(l=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&di(e)===null){t.child=s;break}e=s.sibling,s.sibling=l,l=s,s=e}Mc(t,!0,l,null,r,a);break;case"together":Mc(t,!1,null,null,void 0,a);break;default:t.memoizedState=null}return t.child}function $l(e,t,l){if(e!==null&&(t.dependencies=e.dependencies),ga|=t.lanes,(l&t.childLanes)===0)if(e!==null){if(un(e,t,l,!1),(l&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(d(153));if(t.child!==null){for(e=t.child,l=Xl(e,e.pendingProps),t.child=l,l.return=t;e.sibling!==null;)e=e.sibling,l=l.sibling=Xl(e,e.pendingProps),l.return=t;l.sibling=null}return t.child}function zc(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&ai(e)))}function og(e,t,l){switch(t.tag){case 3:Ve(t,t.stateNode.containerInfo),ca(t,ft,e.memoizedState.cache),Ua();break;case 27:case 5:Ee(t);break;case 4:Ve(t,t.stateNode.containerInfo);break;case 10:ca(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,ac(t),null;break;case 13:var a=t.memoizedState;if(a!==null)return a.dehydrated!==null?(fa(t),t.flags|=128,null):(l&t.child.childLanes)!==0?df(e,t,l):(fa(t),e=$l(e,t,l),e!==null?e.sibling:null);fa(t);break;case 19:var s=(e.flags&128)!==0;if(a=(l&t.childLanes)!==0,a||(un(e,t,l,!1),a=(l&t.childLanes)!==0),s){if(a)return mf(e,t,l);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),te(ut,ut.current),a)break;return null;case 22:return t.lanes=0,nf(e,t,l,t.pendingProps);case 24:ca(t,ft,e.memoizedState.cache)}return $l(e,t,l)}function hf(e,t,l){if(e!==null)if(e.memoizedProps!==t.pendingProps)ht=!0;else{if(!zc(e,l)&&(t.flags&128)===0)return ht=!1,og(e,t,l);ht=(e.flags&131072)!==0}else ht=!1,Ue&&(t.flags&1048576)!==0&&Zu(t,Kn,t.index);switch(t.lanes=0,t.tag){case 16:e:{var a=t.pendingProps;if(e=Ba(t.elementType),t.type=e,typeof e=="function")Hr(e)?(a=Xa(e,a),t.tag=1,t=of(null,t,e,a,l)):(t.tag=0,t=Tc(null,t,e,a,l));else{if(e!=null){var s=e.$$typeof;if(s===Y){t.tag=11,t=tf(null,t,e,a,l);break e}else if(s===D){t.tag=14,t=lf(null,t,e,a,l);break e}}throw t=se(e)||e,Error(d(306,t,""))}}return t;case 0:return Tc(e,t,t.type,t.pendingProps,l);case 1:return a=t.type,s=Xa(a,t.pendingProps),of(e,t,a,s,l);case 3:e:{if(Ve(t,t.stateNode.containerInfo),e===null)throw Error(d(387));a=t.pendingProps;var r=t.memoizedState;s=r.element,Wr(e,t),ts(t,a,null,l);var u=t.memoizedState;if(a=u.cache,ca(t,ft,a),a!==r.cache&&Vr(t,[ft],l,!0),es(),a=u.element,r.isDehydrated)if(r={element:a,isDehydrated:!1,cache:u.cache},t.updateQueue.baseState=r,t.memoizedState=r,t.flags&256){t=uf(e,t,a,l);break e}else if(a!==s){s=pl(Error(d(424)),t),Jn(s),t=uf(e,t,a,l);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Pe=Nl(e.firstChild),Dt=t,Ue=!0,ia=null,vl=!0,l=nd(t,null,a,l),t.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(Ua(),a===s){t=$l(e,t,l);break e}Mt(e,t,a,l)}t=t.child}return t;case 26:return Ni(e,t),e===null?(l=Tm(t.type,null,t.pendingProps,null))?t.memoizedState=l:Ue||(l=t.type,e=t.pendingProps,a=Bi(be.current).createElement(l),a[j]=t,a[ie]=e,zt(a,l,e),St(a),t.stateNode=a):t.memoizedState=Tm(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Ee(t),e===null&&Ue&&(a=t.stateNode=Nm(t.type,t.pendingProps,be.current),Dt=t,vl=!0,s=Pe,ja(t.type)?(fo=s,Pe=Nl(a.firstChild)):Pe=s),Mt(e,t,t.pendingProps.children,l),Ni(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Ue&&((s=a=Pe)&&(a=Bg(a,t.type,t.pendingProps,vl),a!==null?(t.stateNode=a,Dt=t,Pe=Nl(a.firstChild),vl=!1,s=!0):s=!1),s||ra(t)),Ee(t),s=t.type,r=t.pendingProps,u=e!==null?e.memoizedProps:null,a=r.children,io(s,r)?a=null:u!==null&&io(s,u)&&(t.flags|=32),t.memoizedState!==null&&(s=sc(e,t,eg,null,null,l),js._currentValue=s),Ni(e,t),Mt(e,t,a,l),t.child;case 6:return e===null&&Ue&&((e=l=Pe)&&(l=Yg(l,t.pendingProps,vl),l!==null?(t.stateNode=l,Dt=t,Pe=null,e=!0):e=!1),e||ra(t)),null;case 13:return df(e,t,l);case 4:return Ve(t,t.stateNode.containerInfo),a=t.pendingProps,e===null?t.child=Ga(t,null,a,l):Mt(e,t,a,l),t.child;case 11:return tf(e,t,t.type,t.pendingProps,l);case 7:return Mt(e,t,t.pendingProps,l),t.child;case 8:return Mt(e,t,t.pendingProps.children,l),t.child;case 12:return Mt(e,t,t.pendingProps.children,l),t.child;case 10:return a=t.pendingProps,ca(t,t.type,a.value),Mt(e,t,a.children,l),t.child;case 9:return s=t.type._context,a=t.pendingProps.children,Ha(t),s=_t(s),a=a(s),t.flags|=1,Mt(e,t,a,l),t.child;case 14:return lf(e,t,t.type,t.pendingProps,l);case 15:return af(e,t,t.type,t.pendingProps,l);case 19:return mf(e,t,l);case 31:return cg(e,t,l);case 22:return nf(e,t,l,t.pendingProps);case 24:return Ha(t),a=_t(ft),e===null?(s=$r(),s===null&&(s=We,r=Kr(),s.pooledCache=r,r.refCount++,r!==null&&(s.pooledCacheLanes|=l),s=r),t.memoizedState={parent:a,cache:s},Ir(t),ca(t,ft,s)):((e.lanes&l)!==0&&(Wr(e,t),ts(t,null,null,l),es()),s=e.memoizedState,r=t.memoizedState,s.parent!==a?(s={parent:a,cache:a},t.memoizedState=s,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=s),ca(t,ft,a)):(a=r.cache,ca(t,ft,a),a!==s.cache&&Vr(t,[ft],l,!0))),Mt(e,t,t.pendingProps.children,l),t.child;case 29:throw t.pendingProps}throw Error(d(156,t.tag))}function Fl(e){e.flags|=4}function Oc(e,t,l,a,s){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(s&335544128)===s)if(e.stateNode.complete)e.flags|=8192;else if(Gf())e.flags|=8192;else throw Ya=ri,Fr}else e.flags&=-16777217}function xf(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!_m(t))if(Gf())e.flags|=8192;else throw Ya=ri,Fr}function wi(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?st():536870912,e.lanes|=t,Nn|=t)}function rs(e,t){if(!Ue)switch(e.tailMode){case"hidden":t=e.tail;for(var l=null;t!==null;)t.alternate!==null&&(l=t),t=t.sibling;l===null?e.tail=null:l.sibling=null;break;case"collapsed":l=e.tail;for(var a=null;l!==null;)l.alternate!==null&&(a=l),l=l.sibling;a===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function et(e){var t=e.alternate!==null&&e.alternate.child===e.child,l=0,a=0;if(t)for(var s=e.child;s!==null;)l|=s.lanes|s.childLanes,a|=s.subtreeFlags&65011712,a|=s.flags&65011712,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)l|=s.lanes|s.childLanes,a|=s.subtreeFlags,a|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=a,e.childLanes=l,t}function ug(e,t,l){var a=t.pendingProps;switch(Gr(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return et(t),null;case 1:return et(t),null;case 3:return l=t.stateNode,a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),Vl(ft),De(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(e===null||e.child===null)&&(on(t)?Fl(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Xr())),et(t),null;case 26:var s=t.type,r=t.memoizedState;return e===null?(Fl(t),r!==null?(et(t),xf(t,r)):(et(t),Oc(t,s,null,a,l))):r?r!==e.memoizedState?(Fl(t),et(t),xf(t,r)):(et(t),t.flags&=-16777217):(e=e.memoizedProps,e!==a&&Fl(t),et(t),Oc(t,s,e,a,l)),null;case 27:if(Lt(t),l=be.current,s=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==a&&Fl(t);else{if(!a){if(t.stateNode===null)throw Error(d(166));return et(t),null}e=re.current,on(t)?Ku(t):(e=Nm(s,a,l),t.stateNode=e,Fl(t))}return et(t),null;case 5:if(Lt(t),s=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==a&&Fl(t);else{if(!a){if(t.stateNode===null)throw Error(d(166));return et(t),null}if(r=re.current,on(t))Ku(t);else{var u=Bi(be.current);switch(r){case 1:r=u.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:r=u.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":r=u.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":r=u.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":r=u.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof a.is=="string"?u.createElement("select",{is:a.is}):u.createElement("select"),a.multiple?r.multiple=!0:a.size&&(r.size=a.size);break;default:r=typeof a.is=="string"?u.createElement(s,{is:a.is}):u.createElement(s)}}r[j]=t,r[ie]=a;e:for(u=t.child;u!==null;){if(u.tag===5||u.tag===6)r.appendChild(u.stateNode);else if(u.tag!==4&&u.tag!==27&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===t)break e;for(;u.sibling===null;){if(u.return===null||u.return===t)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}t.stateNode=r;e:switch(zt(r,s,a),s){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}a&&Fl(t)}}return et(t),Oc(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,l),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==a&&Fl(t);else{if(typeof a!="string"&&t.stateNode===null)throw Error(d(166));if(e=be.current,on(t)){if(e=t.stateNode,l=t.memoizedProps,a=null,s=Dt,s!==null)switch(s.tag){case 27:case 5:a=s.memoizedProps}e[j]=t,e=!!(e.nodeValue===l||a!==null&&a.suppressHydrationWarning===!0||dm(e.nodeValue,l)),e||ra(t,!0)}else e=Bi(e).createTextNode(a),e[j]=t,t.stateNode=e}return et(t),null;case 31:if(l=t.memoizedState,e===null||e.memoizedState!==null){if(a=on(t),l!==null){if(e===null){if(!a)throw Error(d(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(d(557));e[j]=t}else Ua(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;et(t),e=!1}else l=Xr(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=l),e=!0;if(!e)return t.flags&256?(cl(t),t):(cl(t),null);if((t.flags&128)!==0)throw Error(d(558))}return et(t),null;case 13:if(a=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(s=on(t),a!==null&&a.dehydrated!==null){if(e===null){if(!s)throw Error(d(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(d(317));s[j]=t}else Ua(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;et(t),s=!1}else s=Xr(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),s=!0;if(!s)return t.flags&256?(cl(t),t):(cl(t),null)}return cl(t),(t.flags&128)!==0?(t.lanes=l,t):(l=a!==null,e=e!==null&&e.memoizedState!==null,l&&(a=t.child,s=null,a.alternate!==null&&a.alternate.memoizedState!==null&&a.alternate.memoizedState.cachePool!==null&&(s=a.alternate.memoizedState.cachePool.pool),r=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(r=a.memoizedState.cachePool.pool),r!==s&&(a.flags|=2048)),l!==e&&l&&(t.child.flags|=8192),wi(t,t.updateQueue),et(t),null);case 4:return De(),e===null&&to(t.stateNode.containerInfo),et(t),null;case 10:return Vl(t.type),et(t),null;case 19:if(Z(ut),a=t.memoizedState,a===null)return et(t),null;if(s=(t.flags&128)!==0,r=a.rendering,r===null)if(s)rs(a,!1);else{if(rt!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(r=di(e),r!==null){for(t.flags|=128,rs(a,!1),e=r.updateQueue,t.updateQueue=e,wi(t,e),t.subtreeFlags=0,e=l,l=t.child;l!==null;)qu(l,e),l=l.sibling;return te(ut,ut.current&1|2),Ue&&Ql(t,a.treeForkCount),t.child}e=e.sibling}a.tail!==null&&ct()>Di&&(t.flags|=128,s=!0,rs(a,!1),t.lanes=4194304)}else{if(!s)if(e=di(r),e!==null){if(t.flags|=128,s=!0,e=e.updateQueue,t.updateQueue=e,wi(t,e),rs(a,!0),a.tail===null&&a.tailMode==="hidden"&&!r.alternate&&!Ue)return et(t),null}else 2*ct()-a.renderingStartTime>Di&&l!==536870912&&(t.flags|=128,s=!0,rs(a,!1),t.lanes=4194304);a.isBackwards?(r.sibling=t.child,t.child=r):(e=a.last,e!==null?e.sibling=r:t.child=r,a.last=r)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=ct(),e.sibling=null,l=ut.current,te(ut,s?l&1|2:l&1),Ue&&Ql(t,a.treeForkCount),e):(et(t),null);case 22:case 23:return cl(t),lc(),a=t.memoizedState!==null,e!==null?e.memoizedState!==null!==a&&(t.flags|=8192):a&&(t.flags|=8192),a?(l&536870912)!==0&&(t.flags&128)===0&&(et(t),t.subtreeFlags&6&&(t.flags|=8192)):et(t),l=t.updateQueue,l!==null&&wi(t,l.retryQueue),l=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(l=e.memoizedState.cachePool.pool),a=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),a!==l&&(t.flags|=2048),e!==null&&Z(La),null;case 24:return l=null,e!==null&&(l=e.memoizedState.cache),t.memoizedState.cache!==l&&(t.flags|=2048),Vl(ft),et(t),null;case 25:return null;case 30:return null}throw Error(d(156,t.tag))}function dg(e,t){switch(Gr(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Vl(ft),De(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Lt(t),null;case 31:if(t.memoizedState!==null){if(cl(t),t.alternate===null)throw Error(d(340));Ua()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(cl(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(d(340));Ua()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Z(ut),null;case 4:return De(),null;case 10:return Vl(t.type),null;case 22:case 23:return cl(t),lc(),e!==null&&Z(La),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Vl(ft),null;case 25:return null;default:return null}}function gf(e,t){switch(Gr(t),t.tag){case 3:Vl(ft),De();break;case 26:case 27:case 5:Lt(t);break;case 4:De();break;case 31:t.memoizedState!==null&&cl(t);break;case 13:cl(t);break;case 19:Z(ut);break;case 10:Vl(t.type);break;case 22:case 23:cl(t),lc(),e!==null&&Z(La);break;case 24:Vl(ft)}}function cs(e,t){try{var l=t.updateQueue,a=l!==null?l.lastEffect:null;if(a!==null){var s=a.next;l=s;do{if((l.tag&e)===e){a=void 0;var r=l.create,u=l.inst;a=r(),u.destroy=a}l=l.next}while(l!==s)}}catch(f){Ze(t,t.return,f)}}function ha(e,t,l){try{var a=t.updateQueue,s=a!==null?a.lastEffect:null;if(s!==null){var r=s.next;a=r;do{if((a.tag&e)===e){var u=a.inst,f=u.destroy;if(f!==void 0){u.destroy=void 0,s=t;var N=l,k=f;try{k()}catch(K){Ze(s,N,K)}}}a=a.next}while(a!==r)}}catch(K){Ze(t,t.return,K)}}function pf(e){var t=e.updateQueue;if(t!==null){var l=e.stateNode;try{id(t,l)}catch(a){Ze(e,e.return,a)}}}function bf(e,t,l){l.props=Xa(e.type,e.memoizedProps),l.state=e.memoizedState;try{l.componentWillUnmount()}catch(a){Ze(e,t,a)}}function os(e,t){try{var l=e.ref;if(l!==null){switch(e.tag){case 26:case 27:case 5:var a=e.stateNode;break;case 30:a=e.stateNode;break;default:a=e.stateNode}typeof l=="function"?e.refCleanup=l(a):l.current=a}}catch(s){Ze(e,t,s)}}function Ul(e,t){var l=e.ref,a=e.refCleanup;if(l!==null)if(typeof a=="function")try{a()}catch(s){Ze(e,t,s)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(s){Ze(e,t,s)}else l.current=null}function yf(e){var t=e.type,l=e.memoizedProps,a=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":l.autoFocus&&a.focus();break e;case"img":l.src?a.src=l.src:l.srcSet&&(a.srcset=l.srcSet)}}catch(s){Ze(e,e.return,s)}}function Rc(e,t,l){try{var a=e.stateNode;Og(a,e.type,l,t),a[ie]=t}catch(s){Ze(e,e.return,s)}}function vf(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&ja(e.type)||e.tag===4}function Uc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||vf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&ja(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function kc(e,t,l){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(e,t):(t=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,t.appendChild(e),l=l._reactRootContainer,l!=null||t.onclick!==null||(t.onclick=Gl));else if(a!==4&&(a===27&&ja(e.type)&&(l=e.stateNode,t=null),e=e.child,e!==null))for(kc(e,t,l),e=e.sibling;e!==null;)kc(e,t,l),e=e.sibling}function Ti(e,t,l){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?l.insertBefore(e,t):l.appendChild(e);else if(a!==4&&(a===27&&ja(e.type)&&(l=e.stateNode),e=e.child,e!==null))for(Ti(e,t,l),e=e.sibling;e!==null;)Ti(e,t,l),e=e.sibling}function jf(e){var t=e.stateNode,l=e.memoizedProps;try{for(var a=e.type,s=t.attributes;s.length;)t.removeAttributeNode(s[0]);zt(t,a,l),t[j]=e,t[ie]=l}catch(r){Ze(e,e.return,r)}}var Il=!1,xt=!1,Hc=!1,Nf=typeof WeakSet=="function"?WeakSet:Set,wt=null;function fg(e,t){if(e=e.containerInfo,no=Vi,e=Ou(e),_r(e)){if("selectionStart"in e)var l={start:e.selectionStart,end:e.selectionEnd};else e:{l=(l=e.ownerDocument)&&l.defaultView||window;var a=l.getSelection&&l.getSelection();if(a&&a.rangeCount!==0){l=a.anchorNode;var s=a.anchorOffset,r=a.focusNode;a=a.focusOffset;try{l.nodeType,r.nodeType}catch{l=null;break e}var u=0,f=-1,N=-1,k=0,K=0,I=e,L=null;t:for(;;){for(var q;I!==l||s!==0&&I.nodeType!==3||(f=u+s),I!==r||a!==0&&I.nodeType!==3||(N=u+a),I.nodeType===3&&(u+=I.nodeValue.length),(q=I.firstChild)!==null;)L=I,I=q;for(;;){if(I===e)break t;if(L===l&&++k===s&&(f=u),L===r&&++K===a&&(N=u),(q=I.nextSibling)!==null)break;I=L,L=I.parentNode}I=q}l=f===-1||N===-1?null:{start:f,end:N}}else l=null}l=l||{start:0,end:0}}else l=null;for(so={focusedElem:e,selectionRange:l},Vi=!1,wt=t;wt!==null;)if(t=wt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,wt=e;else for(;wt!==null;){switch(t=wt,r=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(l=0;l<e.length;l++)s=e[l],s.ref.impl=s.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&r!==null){e=void 0,l=t,s=r.memoizedProps,r=r.memoizedState,a=l.stateNode;try{var ue=Xa(l.type,s);e=a.getSnapshotBeforeUpdate(ue,r),a.__reactInternalSnapshotBeforeUpdate=e}catch(je){Ze(l,l.return,je)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,l=e.nodeType,l===9)co(e);else if(l===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":co(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(d(163))}if(e=t.sibling,e!==null){e.return=t.return,wt=e;break}wt=t.return}}function Sf(e,t,l){var a=l.flags;switch(l.tag){case 0:case 11:case 15:Pl(e,l),a&4&&cs(5,l);break;case 1:if(Pl(e,l),a&4)if(e=l.stateNode,t===null)try{e.componentDidMount()}catch(u){Ze(l,l.return,u)}else{var s=Xa(l.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(s,t,e.__reactInternalSnapshotBeforeUpdate)}catch(u){Ze(l,l.return,u)}}a&64&&pf(l),a&512&&os(l,l.return);break;case 3:if(Pl(e,l),a&64&&(e=l.updateQueue,e!==null)){if(t=null,l.child!==null)switch(l.child.tag){case 27:case 5:t=l.child.stateNode;break;case 1:t=l.child.stateNode}try{id(e,t)}catch(u){Ze(l,l.return,u)}}break;case 27:t===null&&a&4&&jf(l);case 26:case 5:Pl(e,l),t===null&&a&4&&yf(l),a&512&&os(l,l.return);break;case 12:Pl(e,l);break;case 31:Pl(e,l),a&4&&Cf(e,l);break;case 13:Pl(e,l),a&4&&Ef(e,l),a&64&&(e=l.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(l=jg.bind(null,l),Gg(e,l))));break;case 22:if(a=l.memoizedState!==null||Il,!a){t=t!==null&&t.memoizedState!==null||xt,s=Il;var r=xt;Il=a,(xt=t)&&!r?ea(e,l,(l.subtreeFlags&8772)!==0):Pl(e,l),Il=s,xt=r}break;case 30:break;default:Pl(e,l)}}function wf(e){var t=e.alternate;t!==null&&(e.alternate=null,wf(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&mr(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var tt=null,Jt=!1;function Wl(e,t,l){for(l=l.child;l!==null;)Tf(e,t,l),l=l.sibling}function Tf(e,t,l){if(W&&typeof W.onCommitFiberUnmount=="function")try{W.onCommitFiberUnmount(F,l)}catch{}switch(l.tag){case 26:xt||Ul(l,t),Wl(e,t,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:xt||Ul(l,t);var a=tt,s=Jt;ja(l.type)&&(tt=l.stateNode,Jt=!1),Wl(e,t,l),bs(l.stateNode),tt=a,Jt=s;break;case 5:xt||Ul(l,t);case 6:if(a=tt,s=Jt,tt=null,Wl(e,t,l),tt=a,Jt=s,tt!==null)if(Jt)try{(tt.nodeType===9?tt.body:tt.nodeName==="HTML"?tt.ownerDocument.body:tt).removeChild(l.stateNode)}catch(r){Ze(l,t,r)}else try{tt.removeChild(l.stateNode)}catch(r){Ze(l,t,r)}break;case 18:tt!==null&&(Jt?(e=tt,pm(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,l.stateNode),_n(e)):pm(tt,l.stateNode));break;case 4:a=tt,s=Jt,tt=l.stateNode.containerInfo,Jt=!0,Wl(e,t,l),tt=a,Jt=s;break;case 0:case 11:case 14:case 15:ha(2,l,t),xt||ha(4,l,t),Wl(e,t,l);break;case 1:xt||(Ul(l,t),a=l.stateNode,typeof a.componentWillUnmount=="function"&&bf(l,t,a)),Wl(e,t,l);break;case 21:Wl(e,t,l);break;case 22:xt=(a=xt)||l.memoizedState!==null,Wl(e,t,l),xt=a;break;default:Wl(e,t,l)}}function Cf(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{_n(e)}catch(l){Ze(t,t.return,l)}}}function Ef(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{_n(e)}catch(l){Ze(t,t.return,l)}}function mg(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Nf),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Nf),t;default:throw Error(d(435,e.tag))}}function Ci(e,t){var l=mg(e);t.forEach(function(a){if(!l.has(a)){l.add(a);var s=Ng.bind(null,e,a);a.then(s,s)}})}function $t(e,t){var l=t.deletions;if(l!==null)for(var a=0;a<l.length;a++){var s=l[a],r=e,u=t,f=u;e:for(;f!==null;){switch(f.tag){case 27:if(ja(f.type)){tt=f.stateNode,Jt=!1;break e}break;case 5:tt=f.stateNode,Jt=!1;break e;case 3:case 4:tt=f.stateNode.containerInfo,Jt=!0;break e}f=f.return}if(tt===null)throw Error(d(160));Tf(r,u,s),tt=null,Jt=!1,r=s.alternate,r!==null&&(r.return=null),s.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)Af(t,e),t=t.sibling}var Al=null;function Af(e,t){var l=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:$t(t,e),Ft(e),a&4&&(ha(3,e,e.return),cs(3,e),ha(5,e,e.return));break;case 1:$t(t,e),Ft(e),a&512&&(xt||l===null||Ul(l,l.return)),a&64&&Il&&(e=e.updateQueue,e!==null&&(a=e.callbacks,a!==null&&(l=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=l===null?a:l.concat(a))));break;case 26:var s=Al;if($t(t,e),Ft(e),a&512&&(xt||l===null||Ul(l,l.return)),a&4){var r=l!==null?l.memoizedState:null;if(a=e.memoizedState,l===null)if(a===null)if(e.stateNode===null){e:{a=e.type,l=e.memoizedProps,s=s.ownerDocument||s;t:switch(a){case"title":r=s.getElementsByTagName("title")[0],(!r||r[kn]||r[j]||r.namespaceURI==="http://www.w3.org/2000/svg"||r.hasAttribute("itemprop"))&&(r=s.createElement(a),s.head.insertBefore(r,s.querySelector("head > title"))),zt(r,a,l),r[j]=e,St(r),a=r;break e;case"link":var u=Am("link","href",s).get(a+(l.href||""));if(u){for(var f=0;f<u.length;f++)if(r=u[f],r.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&r.getAttribute("rel")===(l.rel==null?null:l.rel)&&r.getAttribute("title")===(l.title==null?null:l.title)&&r.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){u.splice(f,1);break t}}r=s.createElement(a),zt(r,a,l),s.head.appendChild(r);break;case"meta":if(u=Am("meta","content",s).get(a+(l.content||""))){for(f=0;f<u.length;f++)if(r=u[f],r.getAttribute("content")===(l.content==null?null:""+l.content)&&r.getAttribute("name")===(l.name==null?null:l.name)&&r.getAttribute("property")===(l.property==null?null:l.property)&&r.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&r.getAttribute("charset")===(l.charSet==null?null:l.charSet)){u.splice(f,1);break t}}r=s.createElement(a),zt(r,a,l),s.head.appendChild(r);break;default:throw Error(d(468,a))}r[j]=e,St(r),a=r}e.stateNode=a}else Dm(s,e.type,e.stateNode);else e.stateNode=Em(s,a,e.memoizedProps);else r!==a?(r===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):r.count--,a===null?Dm(s,e.type,e.stateNode):Em(s,a,e.memoizedProps)):a===null&&e.stateNode!==null&&Rc(e,e.memoizedProps,l.memoizedProps)}break;case 27:$t(t,e),Ft(e),a&512&&(xt||l===null||Ul(l,l.return)),l!==null&&a&4&&Rc(e,e.memoizedProps,l.memoizedProps);break;case 5:if($t(t,e),Ft(e),a&512&&(xt||l===null||Ul(l,l.return)),e.flags&32){s=e.stateNode;try{Wa(s,"")}catch(ue){Ze(e,e.return,ue)}}a&4&&e.stateNode!=null&&(s=e.memoizedProps,Rc(e,s,l!==null?l.memoizedProps:s)),a&1024&&(Hc=!0);break;case 6:if($t(t,e),Ft(e),a&4){if(e.stateNode===null)throw Error(d(162));a=e.memoizedProps,l=e.stateNode;try{l.nodeValue=a}catch(ue){Ze(e,e.return,ue)}}break;case 3:if(qi=null,s=Al,Al=Yi(t.containerInfo),$t(t,e),Al=s,Ft(e),a&4&&l!==null&&l.memoizedState.isDehydrated)try{_n(t.containerInfo)}catch(ue){Ze(e,e.return,ue)}Hc&&(Hc=!1,Df(e));break;case 4:a=Al,Al=Yi(e.stateNode.containerInfo),$t(t,e),Ft(e),Al=a;break;case 12:$t(t,e),Ft(e);break;case 31:$t(t,e),Ft(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,Ci(e,a)));break;case 13:$t(t,e),Ft(e),e.child.flags&8192&&e.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Ai=ct()),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,Ci(e,a)));break;case 22:s=e.memoizedState!==null;var N=l!==null&&l.memoizedState!==null,k=Il,K=xt;if(Il=k||s,xt=K||N,$t(t,e),xt=K,Il=k,Ft(e),a&8192)e:for(t=e.stateNode,t._visibility=s?t._visibility&-2:t._visibility|1,s&&(l===null||N||Il||xt||Qa(e)),l=null,t=e;;){if(t.tag===5||t.tag===26){if(l===null){N=l=t;try{if(r=N.stateNode,s)u=r.style,typeof u.setProperty=="function"?u.setProperty("display","none","important"):u.display="none";else{f=N.stateNode;var I=N.memoizedProps.style,L=I!=null&&I.hasOwnProperty("display")?I.display:null;f.style.display=L==null||typeof L=="boolean"?"":(""+L).trim()}}catch(ue){Ze(N,N.return,ue)}}}else if(t.tag===6){if(l===null){N=t;try{N.stateNode.nodeValue=s?"":N.memoizedProps}catch(ue){Ze(N,N.return,ue)}}}else if(t.tag===18){if(l===null){N=t;try{var q=N.stateNode;s?bm(q,!0):bm(N.stateNode,!1)}catch(ue){Ze(N,N.return,ue)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;l===t&&(l=null),t=t.return}l===t&&(l=null),t.sibling.return=t.return,t=t.sibling}a&4&&(a=e.updateQueue,a!==null&&(l=a.retryQueue,l!==null&&(a.retryQueue=null,Ci(e,l))));break;case 19:$t(t,e),Ft(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,Ci(e,a)));break;case 30:break;case 21:break;default:$t(t,e),Ft(e)}}function Ft(e){var t=e.flags;if(t&2){try{for(var l,a=e.return;a!==null;){if(vf(a)){l=a;break}a=a.return}if(l==null)throw Error(d(160));switch(l.tag){case 27:var s=l.stateNode,r=Uc(e);Ti(e,r,s);break;case 5:var u=l.stateNode;l.flags&32&&(Wa(u,""),l.flags&=-33);var f=Uc(e);Ti(e,f,u);break;case 3:case 4:var N=l.stateNode.containerInfo,k=Uc(e);kc(e,k,N);break;default:throw Error(d(161))}}catch(K){Ze(e,e.return,K)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Df(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Df(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Pl(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Sf(e,t.alternate,t),t=t.sibling}function Qa(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:ha(4,t,t.return),Qa(t);break;case 1:Ul(t,t.return);var l=t.stateNode;typeof l.componentWillUnmount=="function"&&bf(t,t.return,l),Qa(t);break;case 27:bs(t.stateNode);case 26:case 5:Ul(t,t.return),Qa(t);break;case 22:t.memoizedState===null&&Qa(t);break;case 30:Qa(t);break;default:Qa(t)}e=e.sibling}}function ea(e,t,l){for(l=l&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var a=t.alternate,s=e,r=t,u=r.flags;switch(r.tag){case 0:case 11:case 15:ea(s,r,l),cs(4,r);break;case 1:if(ea(s,r,l),a=r,s=a.stateNode,typeof s.componentDidMount=="function")try{s.componentDidMount()}catch(k){Ze(a,a.return,k)}if(a=r,s=a.updateQueue,s!==null){var f=a.stateNode;try{var N=s.shared.hiddenCallbacks;if(N!==null)for(s.shared.hiddenCallbacks=null,s=0;s<N.length;s++)sd(N[s],f)}catch(k){Ze(a,a.return,k)}}l&&u&64&&pf(r),os(r,r.return);break;case 27:jf(r);case 26:case 5:ea(s,r,l),l&&a===null&&u&4&&yf(r),os(r,r.return);break;case 12:ea(s,r,l);break;case 31:ea(s,r,l),l&&u&4&&Cf(s,r);break;case 13:ea(s,r,l),l&&u&4&&Ef(s,r);break;case 22:r.memoizedState===null&&ea(s,r,l),os(r,r.return);break;case 30:break;default:ea(s,r,l)}t=t.sibling}}function Lc(e,t){var l=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(l=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==l&&(e!=null&&e.refCount++,l!=null&&$n(l))}function Bc(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&$n(e))}function Dl(e,t,l,a){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)_f(e,t,l,a),t=t.sibling}function _f(e,t,l,a){var s=t.flags;switch(t.tag){case 0:case 11:case 15:Dl(e,t,l,a),s&2048&&cs(9,t);break;case 1:Dl(e,t,l,a);break;case 3:Dl(e,t,l,a),s&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&$n(e)));break;case 12:if(s&2048){Dl(e,t,l,a),e=t.stateNode;try{var r=t.memoizedProps,u=r.id,f=r.onPostCommit;typeof f=="function"&&f(u,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(N){Ze(t,t.return,N)}}else Dl(e,t,l,a);break;case 31:Dl(e,t,l,a);break;case 13:Dl(e,t,l,a);break;case 23:break;case 22:r=t.stateNode,u=t.alternate,t.memoizedState!==null?r._visibility&2?Dl(e,t,l,a):us(e,t):r._visibility&2?Dl(e,t,l,a):(r._visibility|=2,yn(e,t,l,a,(t.subtreeFlags&10256)!==0||!1)),s&2048&&Lc(u,t);break;case 24:Dl(e,t,l,a),s&2048&&Bc(t.alternate,t);break;default:Dl(e,t,l,a)}}function yn(e,t,l,a,s){for(s=s&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var r=e,u=t,f=l,N=a,k=u.flags;switch(u.tag){case 0:case 11:case 15:yn(r,u,f,N,s),cs(8,u);break;case 23:break;case 22:var K=u.stateNode;u.memoizedState!==null?K._visibility&2?yn(r,u,f,N,s):us(r,u):(K._visibility|=2,yn(r,u,f,N,s)),s&&k&2048&&Lc(u.alternate,u);break;case 24:yn(r,u,f,N,s),s&&k&2048&&Bc(u.alternate,u);break;default:yn(r,u,f,N,s)}t=t.sibling}}function us(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var l=e,a=t,s=a.flags;switch(a.tag){case 22:us(l,a),s&2048&&Lc(a.alternate,a);break;case 24:us(l,a),s&2048&&Bc(a.alternate,a);break;default:us(l,a)}t=t.sibling}}var ds=8192;function vn(e,t,l){if(e.subtreeFlags&ds)for(e=e.child;e!==null;)Mf(e,t,l),e=e.sibling}function Mf(e,t,l){switch(e.tag){case 26:vn(e,t,l),e.flags&ds&&e.memoizedState!==null&&Pg(l,Al,e.memoizedState,e.memoizedProps);break;case 5:vn(e,t,l);break;case 3:case 4:var a=Al;Al=Yi(e.stateNode.containerInfo),vn(e,t,l),Al=a;break;case 22:e.memoizedState===null&&(a=e.alternate,a!==null&&a.memoizedState!==null?(a=ds,ds=16777216,vn(e,t,l),ds=a):vn(e,t,l));break;default:vn(e,t,l)}}function zf(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function fs(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var l=0;l<t.length;l++){var a=t[l];wt=a,Rf(a,e)}zf(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Of(e),e=e.sibling}function Of(e){switch(e.tag){case 0:case 11:case 15:fs(e),e.flags&2048&&ha(9,e,e.return);break;case 3:fs(e);break;case 12:fs(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Ei(e)):fs(e);break;default:fs(e)}}function Ei(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var l=0;l<t.length;l++){var a=t[l];wt=a,Rf(a,e)}zf(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:ha(8,t,t.return),Ei(t);break;case 22:l=t.stateNode,l._visibility&2&&(l._visibility&=-3,Ei(t));break;default:Ei(t)}e=e.sibling}}function Rf(e,t){for(;wt!==null;){var l=wt;switch(l.tag){case 0:case 11:case 15:ha(8,l,t);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var a=l.memoizedState.cachePool.pool;a!=null&&a.refCount++}break;case 24:$n(l.memoizedState.cache)}if(a=l.child,a!==null)a.return=l,wt=a;else e:for(l=e;wt!==null;){a=wt;var s=a.sibling,r=a.return;if(wf(a),a===l){wt=null;break e}if(s!==null){s.return=r,wt=s;break e}wt=r}}}var hg={getCacheForType:function(e){var t=_t(ft),l=t.data.get(e);return l===void 0&&(l=e(),t.data.set(e,l)),l},cacheSignal:function(){return _t(ft).controller.signal}},xg=typeof WeakMap=="function"?WeakMap:Map,qe=0,We=null,_e=null,ze=0,Qe=0,ol=null,xa=!1,jn=!1,Yc=!1,ta=0,rt=0,ga=0,Za=0,Gc=0,ul=0,Nn=0,ms=null,It=null,qc=!1,Ai=0,Uf=0,Di=1/0,_i=null,pa=null,pt=0,ba=null,Sn=null,la=0,Xc=0,Qc=null,kf=null,hs=0,Zc=null;function dl(){return(qe&2)!==0&&ze!==0?ze&-ze:C.T!==null?Ic():Vt()}function Hf(){if(ul===0)if((ze&536870912)===0||Ue){var e=al;al<<=1,(al&3932160)===0&&(al=262144),ul=e}else ul=536870912;return e=rl.current,e!==null&&(e.flags|=32),ul}function Wt(e,t,l){(e===We&&(Qe===2||Qe===9)||e.cancelPendingCommit!==null)&&(wn(e,0),ya(e,ze,ul,!1)),Zt(e,l),((qe&2)===0||e!==We)&&(e===We&&((qe&2)===0&&(Za|=l),rt===4&&ya(e,ze,ul,!1)),kl(e))}function Lf(e,t,l){if((qe&6)!==0)throw Error(d(327));var a=!l&&(t&127)===0&&(t&e.expiredLanes)===0||Le(e,t),s=a?bg(e,t):Kc(e,t,!0),r=a;do{if(s===0){jn&&!a&&ya(e,t,0,!1);break}else{if(l=e.current.alternate,r&&!gg(l)){s=Kc(e,t,!1),r=!1;continue}if(s===2){if(r=t,e.errorRecoveryDisabledLanes&r)var u=0;else u=e.pendingLanes&-536870913,u=u!==0?u:u&536870912?536870912:0;if(u!==0){t=u;e:{var f=e;s=ms;var N=f.current.memoizedState.isDehydrated;if(N&&(wn(f,u).flags|=256),u=Kc(f,u,!1),u!==2){if(Yc&&!N){f.errorRecoveryDisabledLanes|=r,Za|=r,s=4;break e}r=It,It=s,r!==null&&(It===null?It=r:It.push.apply(It,r))}s=u}if(r=!1,s!==2)continue}}if(s===1){wn(e,0),ya(e,t,0,!0);break}e:{switch(a=e,r=s,r){case 0:case 1:throw Error(d(345));case 4:if((t&4194048)!==t)break;case 6:ya(a,t,ul,!xa);break e;case 2:It=null;break;case 3:case 5:break;default:throw Error(d(329))}if((t&62914560)===t&&(s=Ai+300-ct(),10<s)){if(ya(a,t,ul,!xa),Xe(a,0,!0)!==0)break e;la=t,a.timeoutHandle=xm(Bf.bind(null,a,l,It,_i,qc,t,ul,Za,Nn,xa,r,"Throttled",-0,0),s);break e}Bf(a,l,It,_i,qc,t,ul,Za,Nn,xa,r,null,-0,0)}}break}while(!0);kl(e)}function Bf(e,t,l,a,s,r,u,f,N,k,K,I,L,q){if(e.timeoutHandle=-1,I=t.subtreeFlags,I&8192||(I&16785408)===16785408){I={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Gl},Mf(t,r,I);var ue=(r&62914560)===r?Ai-ct():(r&4194048)===r?Uf-ct():0;if(ue=ep(I,ue),ue!==null){la=r,e.cancelPendingCommit=ue(Kf.bind(null,e,t,r,l,a,s,u,f,N,K,I,null,L,q)),ya(e,r,u,!k);return}}Kf(e,t,r,l,a,s,u,f,N)}function gg(e){for(var t=e;;){var l=t.tag;if((l===0||l===11||l===15)&&t.flags&16384&&(l=t.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var a=0;a<l.length;a++){var s=l[a],r=s.getSnapshot;s=s.value;try{if(!sl(r(),s))return!1}catch{return!1}}if(l=t.child,t.subtreeFlags&16384&&l!==null)l.return=t,t=l;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ya(e,t,l,a){t&=~Gc,t&=~Za,e.suspendedLanes|=t,e.pingedLanes&=~t,a&&(e.warmLanes|=t),a=e.expirationTimes;for(var s=t;0<s;){var r=31-pe(s),u=1<<r;a[r]=-1,s&=~u}l!==0&&nl(e,l,t)}function Mi(){return(qe&6)===0?(xs(0),!1):!0}function Vc(){if(_e!==null){if(Qe===0)var e=_e.return;else e=_e,Zl=ka=null,cc(e),hn=null,In=0,e=_e;for(;e!==null;)gf(e.alternate,e),e=e.return;_e=null}}function wn(e,t){var l=e.timeoutHandle;l!==-1&&(e.timeoutHandle=-1,kg(l)),l=e.cancelPendingCommit,l!==null&&(e.cancelPendingCommit=null,l()),la=0,Vc(),We=e,_e=l=Xl(e.current,null),ze=t,Qe=0,ol=null,xa=!1,jn=Le(e,t),Yc=!1,Nn=ul=Gc=Za=ga=rt=0,It=ms=null,qc=!1,(t&8)!==0&&(t|=t&32);var a=e.entangledLanes;if(a!==0)for(e=e.entanglements,a&=t;0<a;){var s=31-pe(a),r=1<<s;t|=e[s],a&=~r}return ta=t,Ws(),l}function Yf(e,t){we=null,C.H=ss,t===mn||t===ii?(t=td(),Qe=3):t===Fr?(t=td(),Qe=4):Qe=t===wc?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,ol=t,_e===null&&(rt=1,vi(e,pl(t,e.current)))}function Gf(){var e=rl.current;return e===null?!0:(ze&4194048)===ze?jl===null:(ze&62914560)===ze||(ze&536870912)!==0?e===jl:!1}function qf(){var e=C.H;return C.H=ss,e===null?ss:e}function Xf(){var e=C.A;return C.A=hg,e}function zi(){rt=4,xa||(ze&4194048)!==ze&&rl.current!==null||(jn=!0),(ga&134217727)===0&&(Za&134217727)===0||We===null||ya(We,ze,ul,!1)}function Kc(e,t,l){var a=qe;qe|=2;var s=qf(),r=Xf();(We!==e||ze!==t)&&(_i=null,wn(e,t)),t=!1;var u=rt;e:do try{if(Qe!==0&&_e!==null){var f=_e,N=ol;switch(Qe){case 8:Vc(),u=6;break e;case 3:case 2:case 9:case 6:rl.current===null&&(t=!0);var k=Qe;if(Qe=0,ol=null,Tn(e,f,N,k),l&&jn){u=0;break e}break;default:k=Qe,Qe=0,ol=null,Tn(e,f,N,k)}}pg(),u=rt;break}catch(K){Yf(e,K)}while(!0);return t&&e.shellSuspendCounter++,Zl=ka=null,qe=a,C.H=s,C.A=r,_e===null&&(We=null,ze=0,Ws()),u}function pg(){for(;_e!==null;)Qf(_e)}function bg(e,t){var l=qe;qe|=2;var a=qf(),s=Xf();We!==e||ze!==t?(_i=null,Di=ct()+500,wn(e,t)):jn=Le(e,t);e:do try{if(Qe!==0&&_e!==null){t=_e;var r=ol;t:switch(Qe){case 1:Qe=0,ol=null,Tn(e,t,r,1);break;case 2:case 9:if(Pu(r)){Qe=0,ol=null,Zf(t);break}t=function(){Qe!==2&&Qe!==9||We!==e||(Qe=7),kl(e)},r.then(t,t);break e;case 3:Qe=7;break e;case 4:Qe=5;break e;case 7:Pu(r)?(Qe=0,ol=null,Zf(t)):(Qe=0,ol=null,Tn(e,t,r,7));break;case 5:var u=null;switch(_e.tag){case 26:u=_e.memoizedState;case 5:case 27:var f=_e;if(u?_m(u):f.stateNode.complete){Qe=0,ol=null;var N=f.sibling;if(N!==null)_e=N;else{var k=f.return;k!==null?(_e=k,Oi(k)):_e=null}break t}}Qe=0,ol=null,Tn(e,t,r,5);break;case 6:Qe=0,ol=null,Tn(e,t,r,6);break;case 8:Vc(),rt=6;break e;default:throw Error(d(462))}}yg();break}catch(K){Yf(e,K)}while(!0);return Zl=ka=null,C.H=a,C.A=s,qe=l,_e!==null?0:(We=null,ze=0,Ws(),rt)}function yg(){for(;_e!==null&&!gt();)Qf(_e)}function Qf(e){var t=hf(e.alternate,e,ta);e.memoizedProps=e.pendingProps,t===null?Oi(e):_e=t}function Zf(e){var t=e,l=t.alternate;switch(t.tag){case 15:case 0:t=cf(l,t,t.pendingProps,t.type,void 0,ze);break;case 11:t=cf(l,t,t.pendingProps,t.type.render,t.ref,ze);break;case 5:cc(t);default:gf(l,t),t=_e=qu(t,ta),t=hf(l,t,ta)}e.memoizedProps=e.pendingProps,t===null?Oi(e):_e=t}function Tn(e,t,l,a){Zl=ka=null,cc(t),hn=null,In=0;var s=t.return;try{if(rg(e,s,t,l,ze)){rt=1,vi(e,pl(l,e.current)),_e=null;return}}catch(r){if(s!==null)throw _e=s,r;rt=1,vi(e,pl(l,e.current)),_e=null;return}t.flags&32768?(Ue||a===1?e=!0:jn||(ze&536870912)!==0?e=!1:(xa=e=!0,(a===2||a===9||a===3||a===6)&&(a=rl.current,a!==null&&a.tag===13&&(a.flags|=16384))),Vf(t,e)):Oi(t)}function Oi(e){var t=e;do{if((t.flags&32768)!==0){Vf(t,xa);return}e=t.return;var l=ug(t.alternate,t,ta);if(l!==null){_e=l;return}if(t=t.sibling,t!==null){_e=t;return}_e=t=e}while(t!==null);rt===0&&(rt=5)}function Vf(e,t){do{var l=dg(e.alternate,e);if(l!==null){l.flags&=32767,_e=l;return}if(l=e.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!t&&(e=e.sibling,e!==null)){_e=e;return}_e=e=l}while(e!==null);rt=6,_e=null}function Kf(e,t,l,a,s,r,u,f,N){e.cancelPendingCommit=null;do Ri();while(pt!==0);if((qe&6)!==0)throw Error(d(327));if(t!==null){if(t===e.current)throw Error(d(177));if(r=t.lanes|t.childLanes,r|=Ur,ot(e,l,r,u,f,N),e===We&&(_e=We=null,ze=0),Sn=t,ba=e,la=l,Xc=r,Qc=s,kf=a,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Sg(nt,function(){return Wf(),null})):(e.callbackNode=null,e.callbackPriority=0),a=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||a){a=C.T,C.T=null,s=G.p,G.p=2,u=qe,qe|=4;try{fg(e,t,l)}finally{qe=u,G.p=s,C.T=a}}pt=1,Jf(),$f(),Ff()}}function Jf(){if(pt===1){pt=0;var e=ba,t=Sn,l=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||l){l=C.T,C.T=null;var a=G.p;G.p=2;var s=qe;qe|=4;try{Af(t,e);var r=so,u=Ou(e.containerInfo),f=r.focusedElem,N=r.selectionRange;if(u!==f&&f&&f.ownerDocument&&zu(f.ownerDocument.documentElement,f)){if(N!==null&&_r(f)){var k=N.start,K=N.end;if(K===void 0&&(K=k),"selectionStart"in f)f.selectionStart=k,f.selectionEnd=Math.min(K,f.value.length);else{var I=f.ownerDocument||document,L=I&&I.defaultView||window;if(L.getSelection){var q=L.getSelection(),ue=f.textContent.length,je=Math.min(N.start,ue),$e=N.end===void 0?je:Math.min(N.end,ue);!q.extend&&je>$e&&(u=$e,$e=je,je=u);var _=Mu(f,je),T=Mu(f,$e);if(_&&T&&(q.rangeCount!==1||q.anchorNode!==_.node||q.anchorOffset!==_.offset||q.focusNode!==T.node||q.focusOffset!==T.offset)){var U=I.createRange();U.setStart(_.node,_.offset),q.removeAllRanges(),je>$e?(q.addRange(U),q.extend(T.node,T.offset)):(U.setEnd(T.node,T.offset),q.addRange(U))}}}}for(I=[],q=f;q=q.parentNode;)q.nodeType===1&&I.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof f.focus=="function"&&f.focus(),f=0;f<I.length;f++){var $=I[f];$.element.scrollLeft=$.left,$.element.scrollTop=$.top}}Vi=!!no,so=no=null}finally{qe=s,G.p=a,C.T=l}}e.current=t,pt=2}}function $f(){if(pt===2){pt=0;var e=ba,t=Sn,l=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||l){l=C.T,C.T=null;var a=G.p;G.p=2;var s=qe;qe|=4;try{Sf(e,t.alternate,t)}finally{qe=s,G.p=a,C.T=l}}pt=3}}function Ff(){if(pt===4||pt===3){pt=0,Qt();var e=ba,t=Sn,l=la,a=kf;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?pt=5:(pt=0,Sn=ba=null,If(e,e.pendingLanes));var s=e.pendingLanes;if(s===0&&(pa=null),ml(l),t=t.stateNode,W&&typeof W.onCommitFiberRoot=="function")try{W.onCommitFiberRoot(F,t,void 0,(t.current.flags&128)===128)}catch{}if(a!==null){t=C.T,s=G.p,G.p=2,C.T=null;try{for(var r=e.onRecoverableError,u=0;u<a.length;u++){var f=a[u];r(f.value,{componentStack:f.stack})}}finally{C.T=t,G.p=s}}(la&3)!==0&&Ri(),kl(e),s=e.pendingLanes,(l&261930)!==0&&(s&42)!==0?e===Zc?hs++:(hs=0,Zc=e):hs=0,xs(0)}}function If(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,$n(t)))}function Ri(){return Jf(),$f(),Ff(),Wf()}function Wf(){if(pt!==5)return!1;var e=ba,t=Xc;Xc=0;var l=ml(la),a=C.T,s=G.p;try{G.p=32>l?32:l,C.T=null,l=Qc,Qc=null;var r=ba,u=la;if(pt=0,Sn=ba=null,la=0,(qe&6)!==0)throw Error(d(331));var f=qe;if(qe|=4,Of(r.current),_f(r,r.current,u,l),qe=f,xs(0,!1),W&&typeof W.onPostCommitFiberRoot=="function")try{W.onPostCommitFiberRoot(F,r)}catch{}return!0}finally{G.p=s,C.T=a,If(e,t)}}function Pf(e,t,l){t=pl(l,t),t=Sc(e.stateNode,t,2),e=da(e,t,2),e!==null&&(Zt(e,2),kl(e))}function Ze(e,t,l){if(e.tag===3)Pf(e,e,l);else for(;t!==null;){if(t.tag===3){Pf(t,e,l);break}else if(t.tag===1){var a=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(pa===null||!pa.has(a))){e=pl(l,e),l=Pd(2),a=da(t,l,2),a!==null&&(ef(l,a,t,e),Zt(a,2),kl(a));break}}t=t.return}}function Jc(e,t,l){var a=e.pingCache;if(a===null){a=e.pingCache=new xg;var s=new Set;a.set(t,s)}else s=a.get(t),s===void 0&&(s=new Set,a.set(t,s));s.has(l)||(Yc=!0,s.add(l),e=vg.bind(null,e,t,l),t.then(e,e))}function vg(e,t,l){var a=e.pingCache;a!==null&&a.delete(t),e.pingedLanes|=e.suspendedLanes&l,e.warmLanes&=~l,We===e&&(ze&l)===l&&(rt===4||rt===3&&(ze&62914560)===ze&&300>ct()-Ai?(qe&2)===0&&wn(e,0):Gc|=l,Nn===ze&&(Nn=0)),kl(e)}function em(e,t){t===0&&(t=st()),e=Oa(e,t),e!==null&&(Zt(e,t),kl(e))}function jg(e){var t=e.memoizedState,l=0;t!==null&&(l=t.retryLane),em(e,l)}function Ng(e,t){var l=0;switch(e.tag){case 31:case 13:var a=e.stateNode,s=e.memoizedState;s!==null&&(l=s.retryLane);break;case 19:a=e.stateNode;break;case 22:a=e.stateNode._retryCache;break;default:throw Error(d(314))}a!==null&&a.delete(t),em(e,l)}function Sg(e,t){return Rt(e,t)}var Ui=null,Cn=null,$c=!1,ki=!1,Fc=!1,va=0;function kl(e){e!==Cn&&e.next===null&&(Cn===null?Ui=Cn=e:Cn=Cn.next=e),ki=!0,$c||($c=!0,Tg())}function xs(e,t){if(!Fc&&ki){Fc=!0;do for(var l=!1,a=Ui;a!==null;){if(e!==0){var s=a.pendingLanes;if(s===0)var r=0;else{var u=a.suspendedLanes,f=a.pingedLanes;r=(1<<31-pe(42|e)+1)-1,r&=s&~(u&~f),r=r&201326741?r&201326741|1:r?r|2:0}r!==0&&(l=!0,nm(a,r))}else r=ze,r=Xe(a,a===We?r:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),(r&3)===0||Le(a,r)||(l=!0,nm(a,r));a=a.next}while(l);Fc=!1}}function wg(){tm()}function tm(){ki=$c=!1;var e=0;va!==0&&Ug()&&(e=va);for(var t=ct(),l=null,a=Ui;a!==null;){var s=a.next,r=lm(a,t);r===0?(a.next=null,l===null?Ui=s:l.next=s,s===null&&(Cn=l)):(l=a,(e!==0||(r&3)!==0)&&(ki=!0)),a=s}pt!==0&&pt!==5||xs(e),va!==0&&(va=0)}function lm(e,t){for(var l=e.suspendedLanes,a=e.pingedLanes,s=e.expirationTimes,r=e.pendingLanes&-62914561;0<r;){var u=31-pe(r),f=1<<u,N=s[u];N===-1?((f&l)===0||(f&a)!==0)&&(s[u]=Fe(f,t)):N<=t&&(e.expiredLanes|=f),r&=~f}if(t=We,l=ze,l=Xe(e,e===t?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a=e.callbackNode,l===0||e===t&&(Qe===2||Qe===9)||e.cancelPendingCommit!==null)return a!==null&&a!==null&&at(a),e.callbackNode=null,e.callbackPriority=0;if((l&3)===0||Le(e,l)){if(t=l&-l,t===e.callbackPriority)return t;switch(a!==null&&at(a),ml(l)){case 2:case 8:l=Bt;break;case 32:l=nt;break;case 268435456:l=At;break;default:l=nt}return a=am.bind(null,e),l=Rt(l,a),e.callbackPriority=t,e.callbackNode=l,t}return a!==null&&a!==null&&at(a),e.callbackPriority=2,e.callbackNode=null,2}function am(e,t){if(pt!==0&&pt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var l=e.callbackNode;if(Ri()&&e.callbackNode!==l)return null;var a=ze;return a=Xe(e,e===We?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a===0?null:(Lf(e,a,t),lm(e,ct()),e.callbackNode!=null&&e.callbackNode===l?am.bind(null,e):null)}function nm(e,t){if(Ri())return null;Lf(e,t,!0)}function Tg(){Hg(function(){(qe&6)!==0?Rt(zl,wg):tm()})}function Ic(){if(va===0){var e=dn;e===0&&(e=jt,jt<<=1,(jt&261888)===0&&(jt=256)),va=e}return va}function sm(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Qs(""+e)}function im(e,t){var l=t.ownerDocument.createElement("input");return l.name=t.name,l.value=t.value,e.id&&l.setAttribute("form",e.id),t.parentNode.insertBefore(l,t),e=new FormData(e),l.parentNode.removeChild(l),e}function Cg(e,t,l,a,s){if(t==="submit"&&l&&l.stateNode===s){var r=sm((s[ie]||null).action),u=a.submitter;u&&(t=(t=u[ie]||null)?sm(t.formAction):u.getAttribute("formAction"),t!==null&&(r=t,u=null));var f=new Js("action","action",null,a,s);e.push({event:f,listeners:[{instance:null,listener:function(){if(a.defaultPrevented){if(va!==0){var N=u?im(s,u):new FormData(s);pc(l,{pending:!0,data:N,method:s.method,action:r},null,N)}}else typeof r=="function"&&(f.preventDefault(),N=u?im(s,u):new FormData(s),pc(l,{pending:!0,data:N,method:s.method,action:r},r,N))},currentTarget:s}]})}}for(var Wc=0;Wc<Rr.length;Wc++){var Pc=Rr[Wc],Eg=Pc.toLowerCase(),Ag=Pc[0].toUpperCase()+Pc.slice(1);El(Eg,"on"+Ag)}El(ku,"onAnimationEnd"),El(Hu,"onAnimationIteration"),El(Lu,"onAnimationStart"),El("dblclick","onDoubleClick"),El("focusin","onFocus"),El("focusout","onBlur"),El(Qx,"onTransitionRun"),El(Zx,"onTransitionStart"),El(Vx,"onTransitionCancel"),El(Bu,"onTransitionEnd"),Fa("onMouseEnter",["mouseout","mouseover"]),Fa("onMouseLeave",["mouseout","mouseover"]),Fa("onPointerEnter",["pointerout","pointerover"]),Fa("onPointerLeave",["pointerout","pointerover"]),Da("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Da("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Da("onBeforeInput",["compositionend","keypress","textInput","paste"]),Da("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Da("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Da("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var gs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Dg=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(gs));function rm(e,t){t=(t&4)!==0;for(var l=0;l<e.length;l++){var a=e[l],s=a.event;a=a.listeners;e:{var r=void 0;if(t)for(var u=a.length-1;0<=u;u--){var f=a[u],N=f.instance,k=f.currentTarget;if(f=f.listener,N!==r&&s.isPropagationStopped())break e;r=f,s.currentTarget=k;try{r(s)}catch(K){Is(K)}s.currentTarget=null,r=N}else for(u=0;u<a.length;u++){if(f=a[u],N=f.instance,k=f.currentTarget,f=f.listener,N!==r&&s.isPropagationStopped())break e;r=f,s.currentTarget=k;try{r(s)}catch(K){Is(K)}s.currentTarget=null,r=N}}}}function Me(e,t){var l=t[Ie];l===void 0&&(l=t[Ie]=new Set);var a=e+"__bubble";l.has(a)||(cm(t,e,2,!1),l.add(a))}function eo(e,t,l){var a=0;t&&(a|=4),cm(l,e,a,t)}var Hi="_reactListening"+Math.random().toString(36).slice(2);function to(e){if(!e[Hi]){e[Hi]=!0,eu.forEach(function(l){l!=="selectionchange"&&(Dg.has(l)||eo(l,!1,e),eo(l,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Hi]||(t[Hi]=!0,eo("selectionchange",!1,t))}}function cm(e,t,l,a){switch(Hm(t)){case 2:var s=ap;break;case 8:s=np;break;default:s=po}l=s.bind(null,t,l,e),s=void 0,!jr||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),a?s!==void 0?e.addEventListener(t,l,{capture:!0,passive:s}):e.addEventListener(t,l,!0):s!==void 0?e.addEventListener(t,l,{passive:s}):e.addEventListener(t,l,!1)}function lo(e,t,l,a,s){var r=a;if((t&1)===0&&(t&2)===0&&a!==null)e:for(;;){if(a===null)return;var u=a.tag;if(u===3||u===4){var f=a.stateNode.containerInfo;if(f===s)break;if(u===4)for(u=a.return;u!==null;){var N=u.tag;if((N===3||N===4)&&u.stateNode.containerInfo===s)return;u=u.return}for(;f!==null;){if(u=Ka(f),u===null)return;if(N=u.tag,N===5||N===6||N===26||N===27){a=r=u;continue e}f=f.parentNode}}a=a.return}fu(function(){var k=r,K=yr(l),I=[];e:{var L=Yu.get(e);if(L!==void 0){var q=Js,ue=e;switch(e){case"keypress":if(Vs(l)===0)break e;case"keydown":case"keyup":q=Nx;break;case"focusin":ue="focus",q=Tr;break;case"focusout":ue="blur",q=Tr;break;case"beforeblur":case"afterblur":q=Tr;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=xu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=ux;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=Tx;break;case ku:case Hu:case Lu:q=mx;break;case Bu:q=Ex;break;case"scroll":case"scrollend":q=cx;break;case"wheel":q=Dx;break;case"copy":case"cut":case"paste":q=xx;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=pu;break;case"toggle":case"beforetoggle":q=Mx}var je=(t&4)!==0,$e=!je&&(e==="scroll"||e==="scrollend"),_=je?L!==null?L+"Capture":null:L;je=[];for(var T=k,U;T!==null;){var $=T;if(U=$.stateNode,$=$.tag,$!==5&&$!==26&&$!==27||U===null||_===null||($=Ln(T,_),$!=null&&je.push(ps(T,$,U))),$e)break;T=T.return}0<je.length&&(L=new q(L,ue,null,l,K),I.push({event:L,listeners:je}))}}if((t&7)===0){e:{if(L=e==="mouseover"||e==="pointerover",q=e==="mouseout"||e==="pointerout",L&&l!==br&&(ue=l.relatedTarget||l.fromElement)&&(Ka(ue)||ue[oe]))break e;if((q||L)&&(L=K.window===K?K:(L=K.ownerDocument)?L.defaultView||L.parentWindow:window,q?(ue=l.relatedTarget||l.toElement,q=k,ue=ue?Ka(ue):null,ue!==null&&($e=x(ue),je=ue.tag,ue!==$e||je!==5&&je!==27&&je!==6)&&(ue=null)):(q=null,ue=k),q!==ue)){if(je=xu,$="onMouseLeave",_="onMouseEnter",T="mouse",(e==="pointerout"||e==="pointerover")&&(je=pu,$="onPointerLeave",_="onPointerEnter",T="pointer"),$e=q==null?L:Hn(q),U=ue==null?L:Hn(ue),L=new je($,T+"leave",q,l,K),L.target=$e,L.relatedTarget=U,$=null,Ka(K)===k&&(je=new je(_,T+"enter",ue,l,K),je.target=U,je.relatedTarget=$e,$=je),$e=$,q&&ue)t:{for(je=_g,_=q,T=ue,U=0,$=_;$;$=je($))U++;$=0;for(var ve=T;ve;ve=je(ve))$++;for(;0<U-$;)_=je(_),U--;for(;0<$-U;)T=je(T),$--;for(;U--;){if(_===T||T!==null&&_===T.alternate){je=_;break t}_=je(_),T=je(T)}je=null}else je=null;q!==null&&om(I,L,q,je,!1),ue!==null&&$e!==null&&om(I,$e,ue,je,!0)}}e:{if(L=k?Hn(k):window,q=L.nodeName&&L.nodeName.toLowerCase(),q==="select"||q==="input"&&L.type==="file")var Ye=Tu;else if(Su(L))if(Cu)Ye=Gx;else{Ye=Bx;var me=Lx}else q=L.nodeName,!q||q.toLowerCase()!=="input"||L.type!=="checkbox"&&L.type!=="radio"?k&&pr(k.elementType)&&(Ye=Tu):Ye=Yx;if(Ye&&(Ye=Ye(e,k))){wu(I,Ye,l,K);break e}me&&me(e,L,k),e==="focusout"&&k&&L.type==="number"&&k.memoizedProps.value!=null&&gr(L,"number",L.value)}switch(me=k?Hn(k):window,e){case"focusin":(Su(me)||me.contentEditable==="true")&&(ln=me,Mr=k,Vn=null);break;case"focusout":Vn=Mr=ln=null;break;case"mousedown":zr=!0;break;case"contextmenu":case"mouseup":case"dragend":zr=!1,Ru(I,l,K);break;case"selectionchange":if(Xx)break;case"keydown":case"keyup":Ru(I,l,K)}var Te;if(Er)e:{switch(e){case"compositionstart":var Oe="onCompositionStart";break e;case"compositionend":Oe="onCompositionEnd";break e;case"compositionupdate":Oe="onCompositionUpdate";break e}Oe=void 0}else tn?ju(e,l)&&(Oe="onCompositionEnd"):e==="keydown"&&l.keyCode===229&&(Oe="onCompositionStart");Oe&&(bu&&l.locale!=="ko"&&(tn||Oe!=="onCompositionStart"?Oe==="onCompositionEnd"&&tn&&(Te=mu()):(na=K,Nr="value"in na?na.value:na.textContent,tn=!0)),me=Li(k,Oe),0<me.length&&(Oe=new gu(Oe,e,null,l,K),I.push({event:Oe,listeners:me}),Te?Oe.data=Te:(Te=Nu(l),Te!==null&&(Oe.data=Te)))),(Te=Ox?Rx(e,l):Ux(e,l))&&(Oe=Li(k,"onBeforeInput"),0<Oe.length&&(me=new gu("onBeforeInput","beforeinput",null,l,K),I.push({event:me,listeners:Oe}),me.data=Te)),Cg(I,e,k,l,K)}rm(I,t)})}function ps(e,t,l){return{instance:e,listener:t,currentTarget:l}}function Li(e,t){for(var l=t+"Capture",a=[];e!==null;){var s=e,r=s.stateNode;if(s=s.tag,s!==5&&s!==26&&s!==27||r===null||(s=Ln(e,l),s!=null&&a.unshift(ps(e,s,r)),s=Ln(e,t),s!=null&&a.push(ps(e,s,r))),e.tag===3)return a;e=e.return}return[]}function _g(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function om(e,t,l,a,s){for(var r=t._reactName,u=[];l!==null&&l!==a;){var f=l,N=f.alternate,k=f.stateNode;if(f=f.tag,N!==null&&N===a)break;f!==5&&f!==26&&f!==27||k===null||(N=k,s?(k=Ln(l,r),k!=null&&u.unshift(ps(l,k,N))):s||(k=Ln(l,r),k!=null&&u.push(ps(l,k,N)))),l=l.return}u.length!==0&&e.push({event:t,listeners:u})}var Mg=/\r\n?/g,zg=/\u0000|\uFFFD/g;function um(e){return(typeof e=="string"?e:""+e).replace(Mg,`
`).replace(zg,"")}function dm(e,t){return t=um(t),um(e)===t}function Je(e,t,l,a,s,r){switch(l){case"children":typeof a=="string"?t==="body"||t==="textarea"&&a===""||Wa(e,a):(typeof a=="number"||typeof a=="bigint")&&t!=="body"&&Wa(e,""+a);break;case"className":qs(e,"class",a);break;case"tabIndex":qs(e,"tabindex",a);break;case"dir":case"role":case"viewBox":case"width":case"height":qs(e,l,a);break;case"style":uu(e,a,r);break;case"data":if(t!=="object"){qs(e,"data",a);break}case"src":case"href":if(a===""&&(t!=="a"||l!=="href")){e.removeAttribute(l);break}if(a==null||typeof a=="function"||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(l);break}a=Qs(""+a),e.setAttribute(l,a);break;case"action":case"formAction":if(typeof a=="function"){e.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof r=="function"&&(l==="formAction"?(t!=="input"&&Je(e,t,"name",s.name,s,null),Je(e,t,"formEncType",s.formEncType,s,null),Je(e,t,"formMethod",s.formMethod,s,null),Je(e,t,"formTarget",s.formTarget,s,null)):(Je(e,t,"encType",s.encType,s,null),Je(e,t,"method",s.method,s,null),Je(e,t,"target",s.target,s,null)));if(a==null||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(l);break}a=Qs(""+a),e.setAttribute(l,a);break;case"onClick":a!=null&&(e.onclick=Gl);break;case"onScroll":a!=null&&Me("scroll",e);break;case"onScrollEnd":a!=null&&Me("scrollend",e);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(d(61));if(l=a.__html,l!=null){if(s.children!=null)throw Error(d(60));e.innerHTML=l}}break;case"multiple":e.multiple=a&&typeof a!="function"&&typeof a!="symbol";break;case"muted":e.muted=a&&typeof a!="function"&&typeof a!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(a==null||typeof a=="function"||typeof a=="boolean"||typeof a=="symbol"){e.removeAttribute("xlink:href");break}l=Qs(""+a),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(l,""+a):e.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":a&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(l,""):e.removeAttribute(l);break;case"capture":case"download":a===!0?e.setAttribute(l,""):a!==!1&&a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(l,a):e.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":a!=null&&typeof a!="function"&&typeof a!="symbol"&&!isNaN(a)&&1<=a?e.setAttribute(l,a):e.removeAttribute(l);break;case"rowSpan":case"start":a==null||typeof a=="function"||typeof a=="symbol"||isNaN(a)?e.removeAttribute(l):e.setAttribute(l,a);break;case"popover":Me("beforetoggle",e),Me("toggle",e),Gs(e,"popover",a);break;case"xlinkActuate":Yl(e,"http://www.w3.org/1999/xlink","xlink:actuate",a);break;case"xlinkArcrole":Yl(e,"http://www.w3.org/1999/xlink","xlink:arcrole",a);break;case"xlinkRole":Yl(e,"http://www.w3.org/1999/xlink","xlink:role",a);break;case"xlinkShow":Yl(e,"http://www.w3.org/1999/xlink","xlink:show",a);break;case"xlinkTitle":Yl(e,"http://www.w3.org/1999/xlink","xlink:title",a);break;case"xlinkType":Yl(e,"http://www.w3.org/1999/xlink","xlink:type",a);break;case"xmlBase":Yl(e,"http://www.w3.org/XML/1998/namespace","xml:base",a);break;case"xmlLang":Yl(e,"http://www.w3.org/XML/1998/namespace","xml:lang",a);break;case"xmlSpace":Yl(e,"http://www.w3.org/XML/1998/namespace","xml:space",a);break;case"is":Gs(e,"is",a);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=ix.get(l)||l,Gs(e,l,a))}}function ao(e,t,l,a,s,r){switch(l){case"style":uu(e,a,r);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(d(61));if(l=a.__html,l!=null){if(s.children!=null)throw Error(d(60));e.innerHTML=l}}break;case"children":typeof a=="string"?Wa(e,a):(typeof a=="number"||typeof a=="bigint")&&Wa(e,""+a);break;case"onScroll":a!=null&&Me("scroll",e);break;case"onScrollEnd":a!=null&&Me("scrollend",e);break;case"onClick":a!=null&&(e.onclick=Gl);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!tu.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(s=l.endsWith("Capture"),t=l.slice(2,s?l.length-7:void 0),r=e[ie]||null,r=r!=null?r[l]:null,typeof r=="function"&&e.removeEventListener(t,r,s),typeof a=="function")){typeof r!="function"&&r!==null&&(l in e?e[l]=null:e.hasAttribute(l)&&e.removeAttribute(l)),e.addEventListener(t,a,s);break e}l in e?e[l]=a:a===!0?e.setAttribute(l,""):Gs(e,l,a)}}}function zt(e,t,l){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Me("error",e),Me("load",e);var a=!1,s=!1,r;for(r in l)if(l.hasOwnProperty(r)){var u=l[r];if(u!=null)switch(r){case"src":a=!0;break;case"srcSet":s=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(d(137,t));default:Je(e,t,r,u,l,null)}}s&&Je(e,t,"srcSet",l.srcSet,l,null),a&&Je(e,t,"src",l.src,l,null);return;case"input":Me("invalid",e);var f=r=u=s=null,N=null,k=null;for(a in l)if(l.hasOwnProperty(a)){var K=l[a];if(K!=null)switch(a){case"name":s=K;break;case"type":u=K;break;case"checked":N=K;break;case"defaultChecked":k=K;break;case"value":r=K;break;case"defaultValue":f=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(d(137,t));break;default:Je(e,t,a,K,l,null)}}iu(e,r,f,N,k,u,s,!1);return;case"select":Me("invalid",e),a=u=r=null;for(s in l)if(l.hasOwnProperty(s)&&(f=l[s],f!=null))switch(s){case"value":r=f;break;case"defaultValue":u=f;break;case"multiple":a=f;default:Je(e,t,s,f,l,null)}t=r,l=u,e.multiple=!!a,t!=null?Ia(e,!!a,t,!1):l!=null&&Ia(e,!!a,l,!0);return;case"textarea":Me("invalid",e),r=s=a=null;for(u in l)if(l.hasOwnProperty(u)&&(f=l[u],f!=null))switch(u){case"value":a=f;break;case"defaultValue":s=f;break;case"children":r=f;break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(d(91));break;default:Je(e,t,u,f,l,null)}cu(e,a,s,r);return;case"option":for(N in l)if(l.hasOwnProperty(N)&&(a=l[N],a!=null))switch(N){case"selected":e.selected=a&&typeof a!="function"&&typeof a!="symbol";break;default:Je(e,t,N,a,l,null)}return;case"dialog":Me("beforetoggle",e),Me("toggle",e),Me("cancel",e),Me("close",e);break;case"iframe":case"object":Me("load",e);break;case"video":case"audio":for(a=0;a<gs.length;a++)Me(gs[a],e);break;case"image":Me("error",e),Me("load",e);break;case"details":Me("toggle",e);break;case"embed":case"source":case"link":Me("error",e),Me("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(k in l)if(l.hasOwnProperty(k)&&(a=l[k],a!=null))switch(k){case"children":case"dangerouslySetInnerHTML":throw Error(d(137,t));default:Je(e,t,k,a,l,null)}return;default:if(pr(t)){for(K in l)l.hasOwnProperty(K)&&(a=l[K],a!==void 0&&ao(e,t,K,a,l,void 0));return}}for(f in l)l.hasOwnProperty(f)&&(a=l[f],a!=null&&Je(e,t,f,a,l,null))}function Og(e,t,l,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var s=null,r=null,u=null,f=null,N=null,k=null,K=null;for(q in l){var I=l[q];if(l.hasOwnProperty(q)&&I!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":N=I;default:a.hasOwnProperty(q)||Je(e,t,q,null,a,I)}}for(var L in a){var q=a[L];if(I=l[L],a.hasOwnProperty(L)&&(q!=null||I!=null))switch(L){case"type":r=q;break;case"name":s=q;break;case"checked":k=q;break;case"defaultChecked":K=q;break;case"value":u=q;break;case"defaultValue":f=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(d(137,t));break;default:q!==I&&Je(e,t,L,q,a,I)}}xr(e,u,f,N,k,K,r,s);return;case"select":q=u=f=L=null;for(r in l)if(N=l[r],l.hasOwnProperty(r)&&N!=null)switch(r){case"value":break;case"multiple":q=N;default:a.hasOwnProperty(r)||Je(e,t,r,null,a,N)}for(s in a)if(r=a[s],N=l[s],a.hasOwnProperty(s)&&(r!=null||N!=null))switch(s){case"value":L=r;break;case"defaultValue":f=r;break;case"multiple":u=r;default:r!==N&&Je(e,t,s,r,a,N)}t=f,l=u,a=q,L!=null?Ia(e,!!l,L,!1):!!a!=!!l&&(t!=null?Ia(e,!!l,t,!0):Ia(e,!!l,l?[]:"",!1));return;case"textarea":q=L=null;for(f in l)if(s=l[f],l.hasOwnProperty(f)&&s!=null&&!a.hasOwnProperty(f))switch(f){case"value":break;case"children":break;default:Je(e,t,f,null,a,s)}for(u in a)if(s=a[u],r=l[u],a.hasOwnProperty(u)&&(s!=null||r!=null))switch(u){case"value":L=s;break;case"defaultValue":q=s;break;case"children":break;case"dangerouslySetInnerHTML":if(s!=null)throw Error(d(91));break;default:s!==r&&Je(e,t,u,s,a,r)}ru(e,L,q);return;case"option":for(var ue in l)if(L=l[ue],l.hasOwnProperty(ue)&&L!=null&&!a.hasOwnProperty(ue))switch(ue){case"selected":e.selected=!1;break;default:Je(e,t,ue,null,a,L)}for(N in a)if(L=a[N],q=l[N],a.hasOwnProperty(N)&&L!==q&&(L!=null||q!=null))switch(N){case"selected":e.selected=L&&typeof L!="function"&&typeof L!="symbol";break;default:Je(e,t,N,L,a,q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var je in l)L=l[je],l.hasOwnProperty(je)&&L!=null&&!a.hasOwnProperty(je)&&Je(e,t,je,null,a,L);for(k in a)if(L=a[k],q=l[k],a.hasOwnProperty(k)&&L!==q&&(L!=null||q!=null))switch(k){case"children":case"dangerouslySetInnerHTML":if(L!=null)throw Error(d(137,t));break;default:Je(e,t,k,L,a,q)}return;default:if(pr(t)){for(var $e in l)L=l[$e],l.hasOwnProperty($e)&&L!==void 0&&!a.hasOwnProperty($e)&&ao(e,t,$e,void 0,a,L);for(K in a)L=a[K],q=l[K],!a.hasOwnProperty(K)||L===q||L===void 0&&q===void 0||ao(e,t,K,L,a,q);return}}for(var _ in l)L=l[_],l.hasOwnProperty(_)&&L!=null&&!a.hasOwnProperty(_)&&Je(e,t,_,null,a,L);for(I in a)L=a[I],q=l[I],!a.hasOwnProperty(I)||L===q||L==null&&q==null||Je(e,t,I,L,a,q)}function fm(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Rg(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,l=performance.getEntriesByType("resource"),a=0;a<l.length;a++){var s=l[a],r=s.transferSize,u=s.initiatorType,f=s.duration;if(r&&f&&fm(u)){for(u=0,f=s.responseEnd,a+=1;a<l.length;a++){var N=l[a],k=N.startTime;if(k>f)break;var K=N.transferSize,I=N.initiatorType;K&&fm(I)&&(N=N.responseEnd,u+=K*(N<f?1:(f-k)/(N-k)))}if(--a,t+=8*(r+u)/(s.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var no=null,so=null;function Bi(e){return e.nodeType===9?e:e.ownerDocument}function mm(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function hm(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function io(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ro=null;function Ug(){var e=window.event;return e&&e.type==="popstate"?e===ro?!1:(ro=e,!0):(ro=null,!1)}var xm=typeof setTimeout=="function"?setTimeout:void 0,kg=typeof clearTimeout=="function"?clearTimeout:void 0,gm=typeof Promise=="function"?Promise:void 0,Hg=typeof queueMicrotask=="function"?queueMicrotask:typeof gm<"u"?function(e){return gm.resolve(null).then(e).catch(Lg)}:xm;function Lg(e){setTimeout(function(){throw e})}function ja(e){return e==="head"}function pm(e,t){var l=t,a=0;do{var s=l.nextSibling;if(e.removeChild(l),s&&s.nodeType===8)if(l=s.data,l==="/$"||l==="/&"){if(a===0){e.removeChild(s),_n(t);return}a--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")a++;else if(l==="html")bs(e.ownerDocument.documentElement);else if(l==="head"){l=e.ownerDocument.head,bs(l);for(var r=l.firstChild;r;){var u=r.nextSibling,f=r.nodeName;r[kn]||f==="SCRIPT"||f==="STYLE"||f==="LINK"&&r.rel.toLowerCase()==="stylesheet"||l.removeChild(r),r=u}}else l==="body"&&bs(e.ownerDocument.body);l=s}while(l);_n(t)}function bm(e,t){var l=e;e=0;do{var a=l.nextSibling;if(l.nodeType===1?t?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(t?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),a&&a.nodeType===8)if(l=a.data,l==="/$"){if(e===0)break;e--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||e++;l=a}while(l)}function co(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var l=t;switch(t=t.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":co(l),mr(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}e.removeChild(l)}}function Bg(e,t,l,a){for(;e.nodeType===1;){var s=l;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!a&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(a){if(!e[kn])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(r=e.getAttribute("rel"),r==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(r!==s.rel||e.getAttribute("href")!==(s.href==null||s.href===""?null:s.href)||e.getAttribute("crossorigin")!==(s.crossOrigin==null?null:s.crossOrigin)||e.getAttribute("title")!==(s.title==null?null:s.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(r=e.getAttribute("src"),(r!==(s.src==null?null:s.src)||e.getAttribute("type")!==(s.type==null?null:s.type)||e.getAttribute("crossorigin")!==(s.crossOrigin==null?null:s.crossOrigin))&&r&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var r=s.name==null?null:""+s.name;if(s.type==="hidden"&&e.getAttribute("name")===r)return e}else return e;if(e=Nl(e.nextSibling),e===null)break}return null}function Yg(e,t,l){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!l||(e=Nl(e.nextSibling),e===null))return null;return e}function ym(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Nl(e.nextSibling),e===null))return null;return e}function oo(e){return e.data==="$?"||e.data==="$~"}function uo(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Gg(e,t){var l=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||l.readyState!=="loading")t();else{var a=function(){t(),l.removeEventListener("DOMContentLoaded",a)};l.addEventListener("DOMContentLoaded",a),e._reactRetry=a}}function Nl(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var fo=null;function vm(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var l=e.data;if(l==="/$"||l==="/&"){if(t===0)return Nl(e.nextSibling);t--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||t++}e=e.nextSibling}return null}function jm(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var l=e.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(t===0)return e;t--}else l!=="/$"&&l!=="/&"||t++}e=e.previousSibling}return null}function Nm(e,t,l){switch(t=Bi(l),e){case"html":if(e=t.documentElement,!e)throw Error(d(452));return e;case"head":if(e=t.head,!e)throw Error(d(453));return e;case"body":if(e=t.body,!e)throw Error(d(454));return e;default:throw Error(d(451))}}function bs(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);mr(e)}var Sl=new Map,Sm=new Set;function Yi(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var aa=G.d;G.d={f:qg,r:Xg,D:Qg,C:Zg,L:Vg,m:Kg,X:$g,S:Jg,M:Fg};function qg(){var e=aa.f(),t=Mi();return e||t}function Xg(e){var t=Ja(e);t!==null&&t.tag===5&&t.type==="form"?Bd(t):aa.r(e)}var En=typeof document>"u"?null:document;function wm(e,t,l){var a=En;if(a&&typeof t=="string"&&t){var s=xl(t);s='link[rel="'+e+'"][href="'+s+'"]',typeof l=="string"&&(s+='[crossorigin="'+l+'"]'),Sm.has(s)||(Sm.add(s),e={rel:e,crossOrigin:l,href:t},a.querySelector(s)===null&&(t=a.createElement("link"),zt(t,"link",e),St(t),a.head.appendChild(t)))}}function Qg(e){aa.D(e),wm("dns-prefetch",e,null)}function Zg(e,t){aa.C(e,t),wm("preconnect",e,t)}function Vg(e,t,l){aa.L(e,t,l);var a=En;if(a&&e&&t){var s='link[rel="preload"][as="'+xl(t)+'"]';t==="image"&&l&&l.imageSrcSet?(s+='[imagesrcset="'+xl(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(s+='[imagesizes="'+xl(l.imageSizes)+'"]')):s+='[href="'+xl(e)+'"]';var r=s;switch(t){case"style":r=An(e);break;case"script":r=Dn(e)}Sl.has(r)||(e=y({rel:"preload",href:t==="image"&&l&&l.imageSrcSet?void 0:e,as:t},l),Sl.set(r,e),a.querySelector(s)!==null||t==="style"&&a.querySelector(ys(r))||t==="script"&&a.querySelector(vs(r))||(t=a.createElement("link"),zt(t,"link",e),St(t),a.head.appendChild(t)))}}function Kg(e,t){aa.m(e,t);var l=En;if(l&&e){var a=t&&typeof t.as=="string"?t.as:"script",s='link[rel="modulepreload"][as="'+xl(a)+'"][href="'+xl(e)+'"]',r=s;switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":r=Dn(e)}if(!Sl.has(r)&&(e=y({rel:"modulepreload",href:e},t),Sl.set(r,e),l.querySelector(s)===null)){switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(vs(r)))return}a=l.createElement("link"),zt(a,"link",e),St(a),l.head.appendChild(a)}}}function Jg(e,t,l){aa.S(e,t,l);var a=En;if(a&&e){var s=$a(a).hoistableStyles,r=An(e);t=t||"default";var u=s.get(r);if(!u){var f={loading:0,preload:null};if(u=a.querySelector(ys(r)))f.loading=5;else{e=y({rel:"stylesheet",href:e,"data-precedence":t},l),(l=Sl.get(r))&&mo(e,l);var N=u=a.createElement("link");St(N),zt(N,"link",e),N._p=new Promise(function(k,K){N.onload=k,N.onerror=K}),N.addEventListener("load",function(){f.loading|=1}),N.addEventListener("error",function(){f.loading|=2}),f.loading|=4,Gi(u,t,a)}u={type:"stylesheet",instance:u,count:1,state:f},s.set(r,u)}}}function $g(e,t){aa.X(e,t);var l=En;if(l&&e){var a=$a(l).hoistableScripts,s=Dn(e),r=a.get(s);r||(r=l.querySelector(vs(s)),r||(e=y({src:e,async:!0},t),(t=Sl.get(s))&&ho(e,t),r=l.createElement("script"),St(r),zt(r,"link",e),l.head.appendChild(r)),r={type:"script",instance:r,count:1,state:null},a.set(s,r))}}function Fg(e,t){aa.M(e,t);var l=En;if(l&&e){var a=$a(l).hoistableScripts,s=Dn(e),r=a.get(s);r||(r=l.querySelector(vs(s)),r||(e=y({src:e,async:!0,type:"module"},t),(t=Sl.get(s))&&ho(e,t),r=l.createElement("script"),St(r),zt(r,"link",e),l.head.appendChild(r)),r={type:"script",instance:r,count:1,state:null},a.set(s,r))}}function Tm(e,t,l,a){var s=(s=be.current)?Yi(s):null;if(!s)throw Error(d(446));switch(e){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(t=An(l.href),l=$a(s).hoistableStyles,a=l.get(t),a||(a={type:"style",instance:null,count:0,state:null},l.set(t,a)),a):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){e=An(l.href);var r=$a(s).hoistableStyles,u=r.get(e);if(u||(s=s.ownerDocument||s,u={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},r.set(e,u),(r=s.querySelector(ys(e)))&&!r._p&&(u.instance=r,u.state.loading=5),Sl.has(e)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Sl.set(e,l),r||Ig(s,e,l,u.state))),t&&a===null)throw Error(d(528,""));return u}if(t&&a!==null)throw Error(d(529,""));return null;case"script":return t=l.async,l=l.src,typeof l=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Dn(l),l=$a(s).hoistableScripts,a=l.get(t),a||(a={type:"script",instance:null,count:0,state:null},l.set(t,a)),a):{type:"void",instance:null,count:0,state:null};default:throw Error(d(444,e))}}function An(e){return'href="'+xl(e)+'"'}function ys(e){return'link[rel="stylesheet"]['+e+"]"}function Cm(e){return y({},e,{"data-precedence":e.precedence,precedence:null})}function Ig(e,t,l,a){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?a.loading=1:(t=e.createElement("link"),a.preload=t,t.addEventListener("load",function(){return a.loading|=1}),t.addEventListener("error",function(){return a.loading|=2}),zt(t,"link",l),St(t),e.head.appendChild(t))}function Dn(e){return'[src="'+xl(e)+'"]'}function vs(e){return"script[async]"+e}function Em(e,t,l){if(t.count++,t.instance===null)switch(t.type){case"style":var a=e.querySelector('style[data-href~="'+xl(l.href)+'"]');if(a)return t.instance=a,St(a),a;var s=y({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return a=(e.ownerDocument||e).createElement("style"),St(a),zt(a,"style",s),Gi(a,l.precedence,e),t.instance=a;case"stylesheet":s=An(l.href);var r=e.querySelector(ys(s));if(r)return t.state.loading|=4,t.instance=r,St(r),r;a=Cm(l),(s=Sl.get(s))&&mo(a,s),r=(e.ownerDocument||e).createElement("link"),St(r);var u=r;return u._p=new Promise(function(f,N){u.onload=f,u.onerror=N}),zt(r,"link",a),t.state.loading|=4,Gi(r,l.precedence,e),t.instance=r;case"script":return r=Dn(l.src),(s=e.querySelector(vs(r)))?(t.instance=s,St(s),s):(a=l,(s=Sl.get(r))&&(a=y({},l),ho(a,s)),e=e.ownerDocument||e,s=e.createElement("script"),St(s),zt(s,"link",a),e.head.appendChild(s),t.instance=s);case"void":return null;default:throw Error(d(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(a=t.instance,t.state.loading|=4,Gi(a,l.precedence,e));return t.instance}function Gi(e,t,l){for(var a=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),s=a.length?a[a.length-1]:null,r=s,u=0;u<a.length;u++){var f=a[u];if(f.dataset.precedence===t)r=f;else if(r!==s)break}r?r.parentNode.insertBefore(e,r.nextSibling):(t=l.nodeType===9?l.head:l,t.insertBefore(e,t.firstChild))}function mo(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function ho(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var qi=null;function Am(e,t,l){if(qi===null){var a=new Map,s=qi=new Map;s.set(l,a)}else s=qi,a=s.get(l),a||(a=new Map,s.set(l,a));if(a.has(e))return a;for(a.set(e,null),l=l.getElementsByTagName(e),s=0;s<l.length;s++){var r=l[s];if(!(r[kn]||r[j]||e==="link"&&r.getAttribute("rel")==="stylesheet")&&r.namespaceURI!=="http://www.w3.org/2000/svg"){var u=r.getAttribute(t)||"";u=e+u;var f=a.get(u);f?f.push(r):a.set(u,[r])}}return a}function Dm(e,t,l){e=e.ownerDocument||e,e.head.insertBefore(l,t==="title"?e.querySelector("head > title"):null)}function Wg(e,t,l){if(l===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function _m(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function Pg(e,t,l,a){if(l.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var s=An(a.href),r=t.querySelector(ys(s));if(r){t=r._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=Xi.bind(e),t.then(e,e)),l.state.loading|=4,l.instance=r,St(r);return}r=t.ownerDocument||t,a=Cm(a),(s=Sl.get(s))&&mo(a,s),r=r.createElement("link"),St(r);var u=r;u._p=new Promise(function(f,N){u.onload=f,u.onerror=N}),zt(r,"link",a),l.instance=r}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(l,t),(t=l.state.preload)&&(l.state.loading&3)===0&&(e.count++,l=Xi.bind(e),t.addEventListener("load",l),t.addEventListener("error",l))}}var xo=0;function ep(e,t){return e.stylesheets&&e.count===0&&Zi(e,e.stylesheets),0<e.count||0<e.imgCount?function(l){var a=setTimeout(function(){if(e.stylesheets&&Zi(e,e.stylesheets),e.unsuspend){var r=e.unsuspend;e.unsuspend=null,r()}},6e4+t);0<e.imgBytes&&xo===0&&(xo=62500*Rg());var s=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Zi(e,e.stylesheets),e.unsuspend)){var r=e.unsuspend;e.unsuspend=null,r()}},(e.imgBytes>xo?50:800)+t);return e.unsuspend=l,function(){e.unsuspend=null,clearTimeout(a),clearTimeout(s)}}:null}function Xi(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Zi(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Qi=null;function Zi(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Qi=new Map,t.forEach(tp,e),Qi=null,Xi.call(e))}function tp(e,t){if(!(t.state.loading&4)){var l=Qi.get(e);if(l)var a=l.get(null);else{l=new Map,Qi.set(e,l);for(var s=e.querySelectorAll("link[data-precedence],style[data-precedence]"),r=0;r<s.length;r++){var u=s[r];(u.nodeName==="LINK"||u.getAttribute("media")!=="not all")&&(l.set(u.dataset.precedence,u),a=u)}a&&l.set(null,a)}s=t.instance,u=s.getAttribute("data-precedence"),r=l.get(u)||a,r===a&&l.set(null,s),l.set(u,s),this.count++,a=Xi.bind(this),s.addEventListener("load",a),s.addEventListener("error",a),r?r.parentNode.insertBefore(s,r.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(s,e.firstChild)),t.state.loading|=4}}var js={$$typeof:M,Provider:null,Consumer:null,_currentValue:B,_currentValue2:B,_threadCount:0};function lp(e,t,l,a,s,r,u,f,N){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=kt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=kt(0),this.hiddenUpdates=kt(null),this.identifierPrefix=a,this.onUncaughtError=s,this.onCaughtError=r,this.onRecoverableError=u,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=N,this.incompleteTransitions=new Map}function Mm(e,t,l,a,s,r,u,f,N,k,K,I){return e=new lp(e,t,l,u,N,k,K,I,f),t=1,r===!0&&(t|=24),r=il(3,null,null,t),e.current=r,r.stateNode=e,t=Kr(),t.refCount++,e.pooledCache=t,t.refCount++,r.memoizedState={element:a,isDehydrated:l,cache:t},Ir(r),e}function zm(e){return e?(e=sn,e):sn}function Om(e,t,l,a,s,r){s=zm(s),a.context===null?a.context=s:a.pendingContext=s,a=ua(t),a.payload={element:l},r=r===void 0?null:r,r!==null&&(a.callback=r),l=da(e,a,t),l!==null&&(Wt(l,e,t),Pn(l,e,t))}function Rm(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var l=e.retryLane;e.retryLane=l!==0&&l<t?l:t}}function go(e,t){Rm(e,t),(e=e.alternate)&&Rm(e,t)}function Um(e){if(e.tag===13||e.tag===31){var t=Oa(e,67108864);t!==null&&Wt(t,e,67108864),go(e,67108864)}}function km(e){if(e.tag===13||e.tag===31){var t=dl();t=fl(t);var l=Oa(e,t);l!==null&&Wt(l,e,t),go(e,t)}}var Vi=!0;function ap(e,t,l,a){var s=C.T;C.T=null;var r=G.p;try{G.p=2,po(e,t,l,a)}finally{G.p=r,C.T=s}}function np(e,t,l,a){var s=C.T;C.T=null;var r=G.p;try{G.p=8,po(e,t,l,a)}finally{G.p=r,C.T=s}}function po(e,t,l,a){if(Vi){var s=bo(a);if(s===null)lo(e,t,a,Ki,l),Lm(e,a);else if(ip(s,e,t,l,a))a.stopPropagation();else if(Lm(e,a),t&4&&-1<sp.indexOf(e)){for(;s!==null;){var r=Ja(s);if(r!==null)switch(r.tag){case 3:if(r=r.stateNode,r.current.memoizedState.isDehydrated){var u=He(r.pendingLanes);if(u!==0){var f=r;for(f.pendingLanes|=2,f.entangledLanes|=2;u;){var N=1<<31-pe(u);f.entanglements[1]|=N,u&=~N}kl(r),(qe&6)===0&&(Di=ct()+500,xs(0))}}break;case 31:case 13:f=Oa(r,2),f!==null&&Wt(f,r,2),Mi(),go(r,2)}if(r=bo(a),r===null&&lo(e,t,a,Ki,l),r===s)break;s=r}s!==null&&a.stopPropagation()}else lo(e,t,a,null,l)}}function bo(e){return e=yr(e),yo(e)}var Ki=null;function yo(e){if(Ki=null,e=Ka(e),e!==null){var t=x(e);if(t===null)e=null;else{var l=t.tag;if(l===13){if(e=v(t),e!==null)return e;e=null}else if(l===31){if(e=p(t),e!==null)return e;e=null}else if(l===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Ki=e,null}function Hm(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Bl()){case zl:return 2;case Bt:return 8;case nt:case ye:return 32;case At:return 268435456;default:return 32}default:return 32}}var vo=!1,Na=null,Sa=null,wa=null,Ns=new Map,Ss=new Map,Ta=[],sp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Lm(e,t){switch(e){case"focusin":case"focusout":Na=null;break;case"dragenter":case"dragleave":Sa=null;break;case"mouseover":case"mouseout":wa=null;break;case"pointerover":case"pointerout":Ns.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ss.delete(t.pointerId)}}function ws(e,t,l,a,s,r){return e===null||e.nativeEvent!==r?(e={blockedOn:t,domEventName:l,eventSystemFlags:a,nativeEvent:r,targetContainers:[s]},t!==null&&(t=Ja(t),t!==null&&Um(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function ip(e,t,l,a,s){switch(t){case"focusin":return Na=ws(Na,e,t,l,a,s),!0;case"dragenter":return Sa=ws(Sa,e,t,l,a,s),!0;case"mouseover":return wa=ws(wa,e,t,l,a,s),!0;case"pointerover":var r=s.pointerId;return Ns.set(r,ws(Ns.get(r)||null,e,t,l,a,s)),!0;case"gotpointercapture":return r=s.pointerId,Ss.set(r,ws(Ss.get(r)||null,e,t,l,a,s)),!0}return!1}function Bm(e){var t=Ka(e.target);if(t!==null){var l=x(t);if(l!==null){if(t=l.tag,t===13){if(t=v(l),t!==null){e.blockedOn=t,Tl(e.priority,function(){km(l)});return}}else if(t===31){if(t=p(l),t!==null){e.blockedOn=t,Tl(e.priority,function(){km(l)});return}}else if(t===3&&l.stateNode.current.memoizedState.isDehydrated){e.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ji(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var l=bo(e.nativeEvent);if(l===null){l=e.nativeEvent;var a=new l.constructor(l.type,l);br=a,l.target.dispatchEvent(a),br=null}else return t=Ja(l),t!==null&&Um(t),e.blockedOn=l,!1;t.shift()}return!0}function Ym(e,t,l){Ji(e)&&l.delete(t)}function rp(){vo=!1,Na!==null&&Ji(Na)&&(Na=null),Sa!==null&&Ji(Sa)&&(Sa=null),wa!==null&&Ji(wa)&&(wa=null),Ns.forEach(Ym),Ss.forEach(Ym)}function $i(e,t){e.blockedOn===t&&(e.blockedOn=null,vo||(vo=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,rp)))}var Fi=null;function Gm(e){Fi!==e&&(Fi=e,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Fi===e&&(Fi=null);for(var t=0;t<e.length;t+=3){var l=e[t],a=e[t+1],s=e[t+2];if(typeof a!="function"){if(yo(a||l)===null)continue;break}var r=Ja(l);r!==null&&(e.splice(t,3),t-=3,pc(r,{pending:!0,data:s,method:l.method,action:a},a,s))}}))}function _n(e){function t(N){return $i(N,e)}Na!==null&&$i(Na,e),Sa!==null&&$i(Sa,e),wa!==null&&$i(wa,e),Ns.forEach(t),Ss.forEach(t);for(var l=0;l<Ta.length;l++){var a=Ta[l];a.blockedOn===e&&(a.blockedOn=null)}for(;0<Ta.length&&(l=Ta[0],l.blockedOn===null);)Bm(l),l.blockedOn===null&&Ta.shift();if(l=(e.ownerDocument||e).$$reactFormReplay,l!=null)for(a=0;a<l.length;a+=3){var s=l[a],r=l[a+1],u=s[ie]||null;if(typeof r=="function")u||Gm(l);else if(u){var f=null;if(r&&r.hasAttribute("formAction")){if(s=r,u=r[ie]||null)f=u.formAction;else if(yo(s)!==null)continue}else f=u.action;typeof f=="function"?l[a+1]=f:(l.splice(a,3),a-=3),Gm(l)}}}function qm(){function e(r){r.canIntercept&&r.info==="react-transition"&&r.intercept({handler:function(){return new Promise(function(u){return s=u})},focusReset:"manual",scroll:"manual"})}function t(){s!==null&&(s(),s=null),a||setTimeout(l,20)}function l(){if(!a&&!navigation.transition){var r=navigation.currentEntry;r&&r.url!=null&&navigation.navigate(r.url,{state:r.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var a=!1,s=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(l,100),function(){a=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),s!==null&&(s(),s=null)}}}function jo(e){this._internalRoot=e}Ii.prototype.render=jo.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(d(409));var l=t.current,a=dl();Om(l,a,e,t,null,null)},Ii.prototype.unmount=jo.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Om(e.current,2,null,e,null,null),Mi(),t[oe]=null}};function Ii(e){this._internalRoot=e}Ii.prototype.unstable_scheduleHydration=function(e){if(e){var t=Vt();e={blockedOn:null,target:e,priority:t};for(var l=0;l<Ta.length&&t!==0&&t<Ta[l].priority;l++);Ta.splice(l,0,e),l===0&&Bm(e)}};var Xm=c.version;if(Xm!=="19.2.0")throw Error(d(527,Xm,"19.2.0"));G.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(d(188)):(e=Object.keys(e).join(","),Error(d(268,e)));return e=g(t),e=e!==null?S(e):null,e=e===null?null:e.stateNode,e};var cp={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:C,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Wi=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Wi.isDisabled&&Wi.supportsFiber)try{F=Wi.inject(cp),W=Wi}catch{}}return Cs.createRoot=function(e,t){if(!h(e))throw Error(d(299));var l=!1,a="",s=$d,r=Fd,u=Id;return t!=null&&(t.unstable_strictMode===!0&&(l=!0),t.identifierPrefix!==void 0&&(a=t.identifierPrefix),t.onUncaughtError!==void 0&&(s=t.onUncaughtError),t.onCaughtError!==void 0&&(r=t.onCaughtError),t.onRecoverableError!==void 0&&(u=t.onRecoverableError)),t=Mm(e,1,!1,null,null,l,a,null,s,r,u,qm),e[oe]=t.current,to(e),new jo(t)},Cs.hydrateRoot=function(e,t,l){if(!h(e))throw Error(d(299));var a=!1,s="",r=$d,u=Fd,f=Id,N=null;return l!=null&&(l.unstable_strictMode===!0&&(a=!0),l.identifierPrefix!==void 0&&(s=l.identifierPrefix),l.onUncaughtError!==void 0&&(r=l.onUncaughtError),l.onCaughtError!==void 0&&(u=l.onCaughtError),l.onRecoverableError!==void 0&&(f=l.onRecoverableError),l.formState!==void 0&&(N=l.formState)),t=Mm(e,1,!0,t,l??null,a,s,N,r,u,f,qm),t.context=zm(null),l=t.current,a=dl(),a=fl(a),s=ua(a),s.callback=null,da(l,s,a),l=a,t.current.lanes=l,Zt(t,l),kl(t),e[oe]=t.current,to(e),new Ii(t)},Cs.version="19.2.0",Cs}var Pm;function pp(){if(Pm)return wo.exports;Pm=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(c){console.error(c)}}return i(),wo.exports=gp(),wo.exports}var bp=pp();const yp=bh(bp),As={name:"Sato User",avatar:"https://lh3.googleusercontent.com/aida-public/AB6AXuCQimBnBOGaV17gHnC1PXEG8Jb6btHzlwS_BeDfQq09PkPFjrYpGK4Ke0rjcyh2P1ov-dRtcmD_3fCir1TtililZWticg3jwg1Mp_RNZTRyBDDs6A0r_3z0mmQVXvxrvCESPAFGNK-dJF1L9eBM_cMJtGkZiOKxnd33GCuBnFraxGDyBaEAM7_eIpcyu7cIpynh6bwofwvO74oG5d3MKre2oFe6VxavIIMnS04h0amfRdsxI0CDLg4W9D6T6IVA61AWpctpgINplfQ",role:"admin"},lr=[{id:"s1",name:"",description:"",area:"Kyoto",category:"History",durationMinutes:60,rating:4.8,image:"https://lh3.googleusercontent.com/aida-public/AB6AXuAShXYjdbz-HnK7UqIW4uc4AZ496i8tXykch0UKvnQwe6n_9a-cv___S2BV1YSadUeJVTnb6Ac-Xn9i8P895lfgnXKB2U_Ql8IrJtWNuPO5bTkYvlbHbTxaqI8zSTD6EDZgX0v1YPMM6z12OloKCQ9oTnD5cf5viHlpjgpDJZow2SEA22XtgaZFIgDrllAmfp-2dXo7BO3x0_r-wEZPTXsKb_Yu3XbV-TCPEc-e9_CB0HrJbOsJ_4A7dzX6ycs0hafPVW8HFBVX_Wc",location:{lat:35.0394,lng:135.7292}},{id:"s2",name:"",description:"",area:"Kyoto",category:"History",durationMinutes:90,rating:4.9,image:"https://lh3.googleusercontent.com/aida-public/AB6AXuAIE9KY3NbwOR_uiyFxDVZghfvQkwD-MLEiMsYd3OWTd2PZVlugkL73UpjtfuR27PT9dGvsp6yba1AIFSkGvW9u9cVyWC8bNTlZY61SJIv92jn8jRNntaXLuEuyLDlKkMFLSpAAHq0aeUF-QQZE6KdIOnRYPTS4izKkioibuNR3vT83IorS0ejLIGlzO3Vuy2f4auwI2HounBs0OyWvPFsXbCpuE1aaGS6xTTFvICOVyv-2OJJc7dt4PaywbEmrpz9fhKDYDgM02wM",location:{lat:34.9671,lng:135.7727}},{id:"s3",name:" ",description:"",area:"Kyoto",category:"Nature",durationMinutes:45,rating:4.7,image:"https://lh3.googleusercontent.com/aida-public/AB6AXuAeVnterwZUcIr_dHrmXTHWem-fhJZYrRIWmGMZwaJ5KBTdMdVCQMT6KKrR8xh6-l0UMa0T2adzosld8R0KhwIM-r1FcuFvrEqutfFparfHDvBKIMg51csqjQKS1vsXZwDbGrOyTQF2jjBtvUyAP3uCnTHRSNoDlBgQzR3rYtQmRKFkjlP_haiSWh8e27yLW5bualqrI1L_rL2cgDS_brxRCN2nhQDimZbzFS9uykDAREpHbJpzQfrwr3ccva-Suc4VexVJ1kbMN5g",location:{lat:35.0169,lng:135.6713}},{id:"s4",name:"",description:"",area:"Tokyo",category:"Art",durationMinutes:120,rating:4.9,image:"https://lh3.googleusercontent.com/aida-public/AB6AXuArmdAAUBEs4_kBwVdTmpuR2OfwVfsnuqpfOW8o6YWTUrdw0JI4zs3pJeMtgQpXsDVnHvoaRj71X4LCZjWiSWhNozFKug1GWGnWbuGJjbUpFz5cOnU05JAyR-ZPjvc3AFBjpphbBBQJP7OysashtY3lbHqk094CidIAJKIGNzTHdRA7CYfNkRDzFrbowwxcaAizYWLVJyznEgBOEQBUehT5glYdGF_rLl-QC2lRGHfMCIUGg6mg_xMYsBvBYOvctwU3eC0toiGleIk",location:{lat:35.6963,lng:139.5704}},{id:"s5",name:"",description:"",area:"Tokyo",category:"Nature",durationMinutes:120,rating:4.6,image:"https://lh3.googleusercontent.com/aida-public/AB6AXuBiz9O1N-rC38EKaCKrZkWnHlT3BNZ2_ioD-wgiVPdzSpMhKhO3bsYTdlN2d962ouh2Y6ndN2m2hwwi66cHtF8va1NmQDzbPm6gsD_f3ENFYpul8C5xCQdYyg5L4F2oehZ-RSaX3qsSkHVRo8VZHV29PQLIzodnZHTMLmXCXafeYw58rsj-upDlQ8YS0PO5cSMWGxG5cdIDktT9M9QWLREsNF9yEIr9OtF4iA9jik2eiDxlCKhBXzXvcWZ8ezofvaAEYUy0SSh-dLs",location:{lat:35.6852,lng:139.7101}},{id:"s6",name:"",description:"",area:"Tokyo",category:"Culture",durationMinutes:30,rating:4.5,image:"https://lh3.googleusercontent.com/aida-public/AB6AXuCdz-G_h0k6RJ3ry5mYzbSplIUw_uZ5qvm3fcvKuTI_XYyFKcG68gUEetqtlQsV6_U1xlG079Vpq_TmxVlDP2d2K96Sfhx1rjR-3m6bWu5Ku1CyVc2kxCAgomaqoyXdIumn0GcRGUIXu9M03dG1mDlpgkUnoSxGNOuJkRg14Zn1UxD0jfMbySj3L6sxEdOnU_UuEM0WYzUQm4ddP4z7fnsvSYyZ8lfcSe42HtmUn6qJPpDhy-vShozL-8t_hPBHxrFvo2btn6-mH-U",location:{lat:35.6595,lng:139.7004}},{id:"s7",name:"",description:"",area:"Kagoshima",category:"Nature",durationMinutes:180,rating:4.7,image:"https://lh3.googleusercontent.com/aida-public/AB6AXuAeVnterwZUcIr_dHrmXTHWem-fhJZYrRIWmGMZwaJ5KBTdMdVCQMT6KKrR8xh6-l0UMa0T2adzosld8R0KhwIM-r1FcuFvrEqutfFparfHDvBKIMg51csqjQKS1vsXZwDbGrOyTQF2jjBtvUyAP3uCnTHRSNoDlBgQzR3rYtQmRKFkjlP_haiSWh8e27yLW5bualqrI1L_rL2cgDS_brxRCN2nhQDimZbzFS9uykDAREpHbJpzQfrwr3ccva-Suc4VexVJ1kbMN5g",location:{lat:31.5833,lng:130.65}},{id:"s8",name:"",description:"",area:"Kagoshima",category:"History",durationMinutes:90,rating:4.6,image:"https://lh3.googleusercontent.com/aida-public/AB6AXuBiz9O1N-rC38EKaCKrZkWnHlT3BNZ2_ioD-wgiVPdzSpMhKhO3bsYTdlN2d962ouh2Y6ndN2m2hwwi66cHtF8va1NmQDzbPm6gsD_f3ENFYpul8C5xCQdYyg5L4F2oehZ-RSaX3qsSkHVRo8VZHV29PQLIzodnZHTMLmXCXafeYw58rsj-upDlQ8YS0PO5cSMWGxG5cdIDktT9M9QWLREsNF9yEIr9OtF4iA9jik2eiDxlCKhBXzXvcWZ8ezofvaAEYUy0SSh-dLs",location:{lat:31.6169,lng:130.5772}},{id:"s9",name:"",description:"",area:"Kagoshima",category:"Food",durationMinutes:120,rating:4.4,image:"https://lh3.googleusercontent.com/aida-public/AB6AXuCdz-G_h0k6RJ3ry5mYzbSplIUw_uZ5qvm3fcvKuTI_XYyFKcG68gUEetqtlQsV6_U1xlG079Vpq_TmxVlDP2d2K96Sfhx1rjR-3m6bWu5Ku1CyVc2kxCAgomaqoyXdIumn0GcRGUIXu9M03dG1mDlpgkUnoSxGNOuJkRg14Zn1UxD0jfMbySj3L6sxEdOnU_UuEM0WYzUQm4ddP4z7fnsvSYyZ8lfcSe42HtmUn6qJPpDhy-vShozL-8t_hPBHxrFvo2btn6-mH-U",location:{lat:31.5891,lng:130.5543}},{id:"s10",name:"",description:"",area:"Kagoshima",category:"History",durationMinutes:60,rating:4.8,image:"https://lh3.googleusercontent.com/aida-public/AB6AXuAIE9KY3NbwOR_uiyFxDVZghfvQkwD-MLEiMsYd3OWTd2PZVlugkL73UpjtfuR27PT9dGvsp6yba1AIFSkGvW9u9cVyWC8bNTlZY61SJIv92jn8jRNntaXLuEuyLDlKkMFLSpAAHq0aeUF-QQZE6KdIOnRYPTS4izKkioibuNR3vT83IorS0ejLIGlzO3Vuy2f4auwI2HounBs0OyWvPFsXbCpuE1aaGS6xTTFvICOVyv-2OJJc7dt4PaywbEmrpz9fhKDYDgM02wM",location:{lat:31.8546,lng:130.8712}}],vp=({onNavigate:i,currentPath:c,isAuthenticated:o,onLogout:d})=>{const[h,x]=m.useState(!1),[v,p]=m.useState(!1);return n.jsxs("header",{className:"sticky top-0 z-50 w-full bg-white/80 backdrop-blur-sm border-b border-gray-200",children:[n.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:n.jsxs("div",{className:"flex justify-between items-center h-16",children:[n.jsxs("div",{className:"flex items-center gap-2 cursor-pointer",onClick:()=>i("/"),children:[n.jsx("img",{src:"https://lh3.googleusercontent.com/aida-public/AB6AXuCfMSI_vEQcW6uWaOllfqi75Njj5epUUHan7iKYq2ddAZoSthgXSLKdhXLtyvGQeDOWHCvMIb9zHR29P6R1MHTCyE0GBmQFcmGptEhCWUuL8GTANN3rvEBzwrgvyl2srrrUMRms1iDYE5uxYWZET7_hlJDkiMX5A9SRf5w0qYmIJZMQq94roefVcSp5yXCk6-cjB3diA5SN8xBWRjHxaLVpf_bvPHdIi4cn84z3ACcaFosupiz3lF_kn0umIyl14BROFmriQ29o9iI",alt:"SatoTrip Logo",className:"h-8 w-8"}),n.jsx("span",{className:"font-display font-bold text-xl text-text-light",children:"SatoTrip"})]}),n.jsxs("nav",{className:"hidden md:flex items-center gap-8",children:[n.jsx("button",{onClick:()=>i("/"),className:`text-sm font-medium transition-colors ${c==="/"?"text-primary":"text-text-light hover:text-primary"}`,children:"Home"}),n.jsx("button",{onClick:()=>i("/plans"),className:`text-sm font-medium transition-colors ${c==="/plans"?"text-primary":"text-text-light hover:text-primary"}`,children:"My Trips"}),n.jsx("button",{onClick:()=>i("/myspots"),className:`text-sm font-medium transition-colors ${c==="/myspots"?"text-primary":"text-text-light hover:text-primary"}`,children:"My Spot"}),o&&As.role==="admin"&&n.jsx("button",{onClick:()=>i("/admin/ai"),className:`text-sm font-medium transition-colors ${c.startsWith("/admin")?"text-primary":"text-text-light hover:text-primary"}`,children:"Admin"})]}),n.jsxs("div",{className:"hidden md:flex items-center gap-4",children:[n.jsxs("button",{onClick:()=>i("/create"),className:"bg-primary text-white px-4 py-2 rounded-full text-sm font-bold hover:bg-opacity-90 transition-all shadow-lg shadow-primary/20 flex items-center gap-1",children:[n.jsx("span",{className:"material-symbols-outlined text-lg",children:"auto_awesome"}),"Create Plan"]}),o?n.jsxs("div",{className:"relative",children:[n.jsx("button",{onClick:()=>p(!v),className:"w-10 h-10 rounded-full bg-gray-200 overflow-hidden border border-gray-300 focus:ring-2 focus:ring-primary focus:outline-none",children:n.jsx("img",{src:As.avatar,alt:"User",className:"w-full h-full object-cover"})}),v&&n.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-xl shadow-xl border border-gray-100 py-2 animate-fade-in z-50",children:[n.jsxs("div",{className:"px-4 py-2 border-b border-gray-100 mb-2",children:[n.jsx("p",{className:"font-bold text-sm truncate",children:As.name}),n.jsx("p",{className:"text-xs text-text-muted",children:"Premium Plan"})]}),n.jsxs("button",{onClick:()=>{i("/favorites"),p(!1)},className:"w-full text-left px-4 py-2 text-sm hover:bg-gray-50 flex items-center gap-2",children:[n.jsx("span",{className:"material-symbols-outlined text-base text-primary",children:"favorite"})," "]}),n.jsxs("button",{onClick:()=>{i("/profile"),p(!1)},className:"w-full text-left px-4 py-2 text-sm hover:bg-gray-50 flex items-center gap-2",children:[n.jsx("span",{className:"material-symbols-outlined text-base",children:"person"})," "]}),n.jsxs("button",{onClick:()=>{i("/settings"),p(!1)},className:"w-full text-left px-4 py-2 text-sm hover:bg-gray-50 flex items-center gap-2",children:[n.jsx("span",{className:"material-symbols-outlined text-base",children:"settings"})," "]}),n.jsxs("button",{onClick:()=>{d(),p(!1)},className:"w-full text-left px-4 py-2 text-sm hover:bg-gray-50 flex items-center gap-2 text-red-500",children:[n.jsx("span",{className:"material-symbols-outlined text-base",children:"logout"})," "]})]})]}):n.jsxs("button",{onClick:()=>i("/login"),className:"text-sm font-bold text-text-light hover:text-primary transition-colors flex items-center gap-1",children:[n.jsx("span",{className:"material-symbols-outlined",children:"login"}),""]})]}),n.jsx("button",{className:"md:hidden p-2",onClick:()=>x(!h),children:n.jsx("span",{className:"material-symbols-outlined text-2xl text-text-light",children:"menu"})})]})}),h&&n.jsx("div",{className:"md:hidden bg-white border-t border-gray-100 absolute w-full left-0 animate-fade-in shadow-lg z-40",children:n.jsxs("nav",{className:"flex flex-col p-4",children:[n.jsx("button",{onClick:()=>{i("/"),x(!1)},className:"py-3 text-left font-medium border-b border-gray-50",children:"Home"}),n.jsx("button",{onClick:()=>{i("/plans"),x(!1)},className:"py-3 text-left font-medium border-b border-gray-50",children:"My Trips"}),n.jsx("button",{onClick:()=>{i("/myspots"),x(!1)},className:"py-3 text-left font-medium border-b border-gray-50",children:"My Spot"}),n.jsxs("button",{onClick:()=>{i("/create"),x(!1)},className:"py-3 text-left font-medium text-primary flex items-center gap-2 border-b border-gray-50",children:[n.jsx("span",{className:"material-symbols-outlined",children:"auto_awesome"})," Create Plan"]}),o?n.jsxs("button",{onClick:()=>{d(),x(!1)},className:"py-3 text-left font-medium text-red-500 flex items-center gap-2",children:[n.jsx("span",{className:"material-symbols-outlined",children:"logout"})," "]}):n.jsxs("button",{onClick:()=>{i("/login"),x(!1)},className:"py-3 text-left font-medium text-primary flex items-center gap-2",children:[n.jsx("span",{className:"material-symbols-outlined",children:"login"})," "]})]})})]})},Pt=({children:i,onNavigate:c,currentPath:o,isAuthenticated:d=!1,onLogout:h=()=>{}})=>n.jsxs("div",{className:"min-h-screen bg-background-light font-display text-text-light flex flex-col",children:[n.jsx(vp,{onNavigate:c,currentPath:o,isAuthenticated:d,onLogout:h}),n.jsx("main",{className:"flex-1",children:i}),n.jsx("footer",{className:"bg-white border-t border-gray-200 py-10 mt-auto",children:n.jsxs("div",{className:"max-w-7xl mx-auto px-4 text-center text-text-muted text-sm",children:[n.jsxs("div",{className:"flex justify-center gap-6 mb-4",children:[n.jsx("button",{className:"hover:text-primary",children:""}),n.jsx("button",{className:"hover:text-primary",children:""}),n.jsx("button",{className:"hover:text-primary",children:""})]}),n.jsx("p",{children:" 2024 SatoTrip AI. All rights reserved."})]})})]}),el={API_BASE_URL:"https://8000-i8wy7874pt4eh044q1hw6-c4ec5439.sg1.manus.computer",STORAGE_KEYS:{PENDING_SPOTS:"sato_pending_plan_spots",AUTH_TOKEN:"sato_auth_token"},MAP:{DEFAULT_CENTER:[35.6895,139.6917],DEFAULT_ZOOM:13}};class jp{constructor(){this.baseURL=el.API_BASE_URL}getToken(){return localStorage.getItem(el.STORAGE_KEYS.AUTH_TOKEN)}setToken(c){localStorage.setItem(el.STORAGE_KEYS.AUTH_TOKEN,c)}clearToken(){localStorage.removeItem(el.STORAGE_KEYS.AUTH_TOKEN)}async request(c,o={}){const d=`${this.baseURL}${c}`,h=this.getToken(),x={"Content-Type":"application/json",...o.headers};h&&(x.Authorization=`Bearer ${h}`);try{const v=await fetch(d,{...o,headers:x});if(v.status===401)throw this.clearToken(),window.location.hash!=="#/login"&&(window.location.hash="#/login"),new Error("");if(!v.ok){const p=await v.json().catch(()=>({detail:`HTTP ${v.status}: ${v.statusText}`}));throw{detail:p.detail||p.message||"",status:v.status}}return v.status===204?null:await v.json()}catch(v){throw v instanceof Error?{detail:v.message}:v}}async get(c){return this.request(c,{method:"GET"})}async post(c,o){return this.request(c,{method:"POST",body:o?JSON.stringify(o):void 0})}async put(c,o){return this.request(c,{method:"PUT",body:o?JSON.stringify(o):void 0})}async delete(c){return this.request(c,{method:"DELETE"})}}const Ce=new jp;async function Np(i){const c=await Ce.post("/auth/login",i);return c.access_token&&Ce.setToken(c.access_token),c}async function Sp(i){const c=await Ce.post("/auth/register",i);return c.access_token&&Ce.setToken(c.access_token),c}async function wp(){try{await Ce.post("/auth/logout")}finally{Ce.clearToken()}}async function vh(){const i=await Ce.get("/api/users/me");return jh(i)}async function Tp(i){const c=await Ce.put("/api/users/me",i);return jh(c)}function jh(i){return{id:i.id,name:i.name,avatar:i.avatar||"",role:i.role||"user"}}const Nh=m.createContext(void 0);function Cp({children:i}){const[c,o]=m.useState(null),[d,h]=m.useState(!0),x=async()=>{try{if(!Ce.getToken()){o(null),h(!1);return}const O=await vh();o(O)}catch(y){console.error("Failed to fetch user:",y),Ce.clearToken(),o(null)}finally{h(!1)}};m.useEffect(()=>{x()},[]);const S={user:c,isAuthenticated:!!c,isLoading:d,login:async(y,O)=>{try{const A=await Np({username:y,password:O});await x()}catch(A){throw console.error("Login failed:",A),A}},register:async(y,O,A,V)=>{try{const R=await Sp({username:y,email:O,password:A,name:V});await x()}catch(R){throw console.error("Registration failed:",R),R}},logout:async()=>{try{await wp()}catch(y){console.error("Logout failed:",y)}finally{o(null)}},refreshUser:async()=>{await x()}};return n.jsx(Nh.Provider,{value:S,children:i})}function Go(){const i=m.useContext(Nh);if(i===void 0)throw new Error("useAuth must be used within an AuthProvider");return i}const Ep=({onNavigate:i})=>n.jsxs("div",{className:"flex flex-col",children:[n.jsxs("section",{className:"relative py-20 md:py-32 px-4 overflow-hidden",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-50 via-rose-50 to-amber-50 -z-10"}),n.jsx("div",{className:"absolute top-20 right-0 w-96 h-96 bg-primary/5 rounded-full blur-3xl"}),n.jsx("div",{className:"absolute bottom-0 left-0 w-72 h-72 bg-secondary/10 rounded-full blur-3xl"}),n.jsxs("div",{className:"max-w-6xl mx-auto flex flex-col-reverse md:flex-row items-center gap-12",children:[n.jsxs("div",{className:"flex-1 text-center md:text-left flex flex-col gap-6 z-10",children:[n.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-white rounded-full shadow-sm self-center md:self-start border border-gray-100",children:[n.jsx("span",{className:"w-2 h-2 bg-green-400 rounded-full animate-pulse"}),n.jsx("span",{className:"text-xs font-bold text-text-muted tracking-wide",children:"SatoTrip AI v3.5 ONLINE"})]}),n.jsxs("h1",{className:"text-5xl md:text-7xl font-black leading-tight tracking-tighter text-text-light",children:["",n.jsx("br",{}),n.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-primary to-purple-600",children:"AI"}),""]}),n.jsxs("p",{className:"text-lg md:text-xl text-text-muted leading-relaxed",children:["SatoTripSNSWeb",n.jsx("br",{className:"hidden md:block"}),"AI"]}),n.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center md:justify-start",children:[n.jsxs("button",{onClick:()=>i("/create"),className:"bg-primary text-white px-8 py-4 rounded-full text-lg font-bold shadow-lg shadow-primary/30 hover:scale-105 transition-transform flex items-center justify-center gap-2",children:[n.jsx("span",{className:"material-symbols-outlined",children:"auto_awesome"}),"AI"]}),n.jsx("button",{onClick:()=>i("/plans"),className:"bg-white text-text-light border border-gray-200 px-8 py-4 rounded-full text-lg font-bold hover:bg-gray-50 transition-colors",children:""})]})]}),n.jsxs("div",{className:"flex-1 w-full relative group",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-tr from-primary/20 to-transparent rounded-3xl transform rotate-3 group-hover:rotate-2 transition-transform duration-500"}),n.jsx("img",{src:"https://lh3.googleusercontent.com/aida-public/AB6AXuD9pn-owuVzYkxlZm8J3VLBQe-2z2eTLju4tFq1O7iR38wp73ROOUW7Tgp5OvTE27vuBvRf5x-XmXtklsrr5ymAubqCtOmeWMXSm4__M3uOsjOyZA6h0SG4u8JQDF2kT0IwgAGFYBsdaDnmn5AovEHWvBevtqu-fvaBceP2xsersIZadrhC07JxcMVo4ALGFUiRMoykUxUN2yTTPjTNkVxCRgFo1x-jXQC9ZT2r42zqUDUUvYjN7XQrL-6TFaGVOgSmeeOuoEWHmrI",alt:"Travel AI Dashboard",className:"w-full h-auto object-contain rounded-3xl shadow-2xl relative z-10 transform -rotate-2 group-hover:rotate-0 transition-transform duration-500 bg-white"})]})]})]}),n.jsx("section",{className:"py-24 bg-white",children:n.jsxs("div",{className:"max-w-6xl mx-auto px-4",children:[n.jsxs("div",{className:"text-center mb-16",children:[n.jsx("h2",{className:"text-4xl font-bold mb-4",children:"3"}),n.jsx("p",{className:"text-text-muted",children:"3"})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[{icon:"edit_note",title:"1. ",desc:"SNS"},{icon:"smart_toy",title:"2. AI",desc:"GeminiAI"},{icon:"map",title:"3. ",desc:"&"}].map((c,o)=>n.jsxs("div",{className:"bg-background-light p-8 rounded-2xl text-center hover:-translate-y-2 transition-transform duration-300 group cursor-default",children:[n.jsx("div",{className:"w-16 h-16 bg-secondary text-white rounded-full flex items-center justify-center text-3xl mx-auto mb-6 shadow-lg group-hover:scale-110 transition-transform",children:n.jsx("span",{className:"material-symbols-outlined",children:c.icon})}),n.jsx("h3",{className:"text-xl font-bold mb-3",children:c.title}),n.jsx("p",{className:"text-text-muted text-sm leading-relaxed",children:c.desc})]},o))})]})})]}),eh=({onLogin:i})=>{const[c,o]=m.useState(""),[d,h]=m.useState(""),[x,v]=m.useState(""),[p,b]=m.useState(""),[g,S]=m.useState(!1),[y,O]=m.useState(null),[A,V]=m.useState(!1),{login:R,register:H}=Go(),E=async Q=>{Q.preventDefault(),O(null),V(!0);try{g?await H(c,x,d,p):await R(c,d),i()}catch(M){O(M.detail||M.message||"")}finally{V(!1)}};return n.jsx("div",{className:"flex items-center justify-center min-h-[calc(100vh-200px)] px-4",children:n.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 md:p-12 w-full max-w-md border border-gray-100",children:[n.jsxs("div",{className:"text-center mb-8",children:[n.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-primary/10 rounded-full mb-4 text-primary",children:n.jsx("span",{className:"material-symbols-outlined text-3xl",children:"lock"})}),n.jsx("h1",{className:"text-3xl font-black text-text-light mb-2",children:g?"":""}),n.jsx("p",{className:"text-text-muted",children:g?"SatoTrip<br/>":"SatoTrip<br/>"})]}),y&&n.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-xl text-red-600 text-sm",children:y}),n.jsxs("form",{onSubmit:E,className:"space-y-4",children:[g&&n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-bold text-text-muted mb-1",children:""}),n.jsx("input",{type:"text",value:p,onChange:Q=>b(Q.target.value),required:!0,className:"w-full p-3 rounded-xl bg-gray-50 border border-gray-200 focus:bg-white focus:border-primary focus:ring-2 focus:ring-primary/20 outline-none transition-all",placeholder:" "})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-bold text-text-muted mb-1",children:g?"":""}),n.jsx("input",{type:g?"email":"text",value:g?x:c,onChange:Q=>g?v(Q.target.value):o(Q.target.value),required:!0,className:"w-full p-3 rounded-xl bg-gray-50 border border-gray-200 focus:bg-white focus:border-primary focus:ring-2 focus:ring-primary/20 outline-none transition-all",placeholder:g?"user@satotrip.com":"username"})]}),g&&n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-bold text-text-muted mb-1",children:""}),n.jsx("input",{type:"text",value:c,onChange:Q=>o(Q.target.value),required:!0,className:"w-full p-3 rounded-xl bg-gray-50 border border-gray-200 focus:bg-white focus:border-primary focus:ring-2 focus:ring-primary/20 outline-none transition-all",placeholder:"username"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-bold text-text-muted mb-1",children:""}),n.jsx("input",{type:"password",value:d,onChange:Q=>h(Q.target.value),required:!0,className:"w-full p-3 rounded-xl bg-gray-50 border border-gray-200 focus:bg-white focus:border-primary focus:ring-2 focus:ring-primary/20 outline-none transition-all",placeholder:""})]}),!g&&n.jsxs("div",{className:"flex justify-between items-center text-sm",children:[n.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[n.jsx("input",{type:"checkbox",className:"accent-primary"}),n.jsx("span",{className:"text-text-muted",children:""})]}),n.jsx("button",{type:"button",className:"text-primary font-bold hover:underline",children:""})]}),n.jsx("button",{type:"submit",disabled:A,className:"w-full bg-primary text-white py-4 rounded-xl font-bold text-lg shadow-lg hover:opacity-90 disabled:opacity-50 disabled:cursor-not-allowed transition-all flex items-center justify-center gap-2 mt-4",children:A?"...":g?"":""}),n.jsxs("div",{className:"relative py-4",children:[n.jsx("div",{className:"absolute inset-0 flex items-center",children:n.jsx("div",{className:"w-full border-t border-gray-100"})}),n.jsx("div",{className:"relative flex justify-center text-sm",children:n.jsx("span",{className:"px-2 bg-white text-gray-400",children:""})})]}),n.jsxs("button",{type:"button",className:"w-full bg-white border border-gray-200 text-text-light py-3 rounded-xl font-bold hover:bg-gray-50 transition-all flex items-center justify-center gap-2",children:[n.jsx("img",{src:"https://upload.wikimedia.org/wikipedia/commons/5/53/Google_%22G%22_Logo.svg",className:"w-5 h-5",alt:"Google"}),"Google"]})]}),n.jsx("p",{className:"text-center text-sm text-text-muted mt-8",children:g?n.jsxs(n.Fragment,{children:[""," ",n.jsx("button",{type:"button",onClick:()=>S(!1),className:"text-primary font-bold hover:underline",children:""})]}):n.jsxs(n.Fragment,{children:[""," ",n.jsx("button",{type:"button",onClick:()=>S(!0),className:"text-primary font-bold hover:underline",children:""})]})})]})})},Ap=({onNavigate:i})=>n.jsxs("div",{className:"flex flex-col items-center justify-center py-20 px-4 text-center",children:[n.jsxs("div",{className:"relative mb-8",children:[n.jsx("div",{className:"text-[10rem] font-black text-primary/10 select-none",children:"404"}),n.jsx("img",{src:"https://lh3.googleusercontent.com/aida-public/AB6AXuA4FTGcY7eOoD-6ryKqLyaGv_ovjUijGJC3s4mCmnV2ZTRtDEDzB4QTB0hZaeS40dGgIxMbDXaKpl9-Iibf5Nudzuq8ZwGy-Bo4dzCruPTwDovIVXdRPWisdvDwT1-5f3bSbZ6topewMvZ3r2qDvYosdW1sM3tzUfh1VelBj6pz-QX1pQsomDmRIyjxmvb6KsYh5vPYO6AaUzMJszIIeRxNNMTr1nwxJNrvX_OIDKrzGyULndTYEPsQnje32js5xvk3M5TIn3GEq54",alt:"404 Robot",className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 h-48 object-contain"})]}),n.jsx("h1",{className:"text-3xl font-bold mb-4",children:""}),n.jsx("p",{className:"text-text-muted mb-8 max-w-md",children:"URL"}),n.jsxs("button",{onClick:()=>i("/"),className:"bg-primary text-white px-8 py-3 rounded-full font-bold shadow-lg hover:opacity-90 transition-opacity flex items-center gap-2",children:[" ",n.jsx("span",{className:"material-symbols-outlined",children:"arrow_forward"})]})]}),Dp=()=>{const{user:i,refreshUser:c}=Go(),[o,d]=m.useState(""),[h,x]=m.useState(""),[v,p]=m.useState(""),[b,g]=m.useState(!0),[S,y]=m.useState(!1),[O,A]=m.useState(null);m.useEffect(()=>{(async()=>{try{g(!0),A(null);const H=await vh();d(H.name),x(H.avatar||""),p(H.avatar||"")}catch(H){console.error("Failed to fetch user:",H),A(H.detail||H.message||""),i&&(d(i.name),p(i.avatar))}finally{g(!1)}})()},[]);const V=async()=>{try{y(!0),A(null),await Tp({name:o,avatar:v}),await c(),alert("")}catch(R){console.error("Failed to update user:",R),A(R.detail||R.message||"")}finally{y(!1)}};return b?n.jsx("div",{className:"max-w-4xl mx-auto px-4 py-10",children:n.jsx("div",{className:"flex justify-center items-center min-h-[400px]",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"w-16 h-16 border-4 border-primary border-t-transparent rounded-full animate-spin mx-auto mb-4"}),n.jsx("p",{className:"text-text-muted",children:"..."})]})})}):n.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-10",children:[n.jsx("h1",{className:"text-3xl font-black mb-6",children:""}),O&&n.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-xl text-red-600 text-sm",children:O}),n.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-sm border border-gray-100 flex flex-col md:flex-row gap-8 items-center md:items-start",children:[n.jsxs("div",{className:"flex-shrink-0 flex flex-col items-center gap-4",children:[n.jsx("div",{className:"w-32 h-32 rounded-full overflow-hidden border-4 border-gray-100",children:n.jsx("img",{src:v||As.avatar,alt:o||As.name,className:"w-full h-full object-cover"})}),n.jsx("button",{className:"text-primary text-sm font-bold hover:underline",children:""})]}),n.jsxs("div",{className:"flex-1 w-full space-y-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-text-muted text-sm font-bold mb-1",children:""}),n.jsx("input",{type:"text",value:o,onChange:R=>d(R.target.value),className:"w-full p-3 rounded-xl bg-gray-50 border border-gray-200 text-text-light font-medium focus:bg-white focus:ring-2 focus:ring-primary"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-text-muted text-sm font-bold mb-1",children:""}),n.jsx("input",{type:"email",value:h,onChange:R=>x(R.target.value),className:"w-full p-3 rounded-xl bg-gray-50 border border-gray-200 text-text-light font-medium focus:bg-white focus:ring-2 focus:ring-primary"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-text-muted text-sm font-bold mb-1",children:""}),n.jsxs("div",{className:"p-3 rounded-xl bg-gradient-to-r from-primary/10 to-purple-100 border border-primary/20 text-primary font-bold flex justify-between items-center",children:[n.jsx("span",{children:"Premium Plan"}),n.jsx("span",{className:"text-xs bg-white px-2 py-1 rounded-full",children:"Active"})]})]}),n.jsx("button",{onClick:V,disabled:S,className:"bg-primary text-white px-6 py-3 rounded-full font-bold shadow-lg hover:opacity-90 disabled:opacity-50 disabled:cursor-not-allowed transition-opacity",children:S?"...":""})]})]})]})},_p=()=>n.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-10",children:[n.jsx("h1",{className:"text-3xl font-black mb-6",children:""}),n.jsx("div",{className:"bg-white rounded-2xl overflow-hidden shadow-sm border border-gray-100",children:[{icon:"notifications",title:"",desc:""},{icon:"language",title:"",desc:" / JPY"},{icon:"lock",title:"",desc:"2"},{icon:"credit_card",title:"",desc:""},{icon:"help",title:"",desc:""}].map((i,c)=>n.jsxs("div",{className:"p-6 border-b border-gray-100 hover:bg-gray-50 transition-colors cursor-pointer flex items-center gap-4 group",children:[n.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-100 flex items-center justify-center text-text-muted group-hover:bg-primary/10 group-hover:text-primary transition-colors",children:n.jsx("span",{className:"material-symbols-outlined",children:i.icon})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h3",{className:"font-bold text-text-light",children:i.title}),n.jsx("p",{className:"text-sm text-text-muted",children:i.desc})]}),n.jsx("span",{className:"material-symbols-outlined text-gray-300 group-hover:text-primary",children:"chevron_right"})]},c))})]});async function Sh(){return await Ce.get("/api/hotels/categories")}async function wh(i){const c=new URLSearchParams;return c.append("area",i.area),i.category&&c.append("category",i.category),i.hotelName&&c.append("hotel_name",i.hotelName),i.checkIn&&c.append("check_in",i.checkIn),i.checkOut&&c.append("check_out",i.checkOut),i.numGuests&&c.append("num_guests",i.numGuests.toString()),await Ce.get(`/api/hotels/search?${c.toString()}`)}async function Mp(i){const c=await Ce.post("/api/plans/generate-plan",i);return cr(c)}async function th(){return(await Ce.get("/api/plans")).map(cr)}async function Th(i){const c=await Ce.get(`/api/plans/${i}`);return cr(c)}async function zs(i,c){const o=await Ce.put(`/api/plans/${i}`,c);return cr(o)}async function lh(i){await Ce.delete(`/api/plans/${i}`)}async function zp(i,c){const o=c!==void 0?`?day=${c}`:"";return await Ce.get(`/api/plans/${i}/route${o}`)}function cr(i){const c=(i.spots||[]).map(o=>{try{if(o&&o.spot&&o.spot.tags&&Array.isArray(o.spot.tags)){const d=o.spot.tags.map(h=>typeof h=="string"?h:h&&typeof h=="object"&&(h.value||h.normalized)||String(h));return{...o,spot:{...o.spot,tags:d}}}if(o&&o.tags&&Array.isArray(o.tags)&&!o.spot){const d=o.tags.map(h=>typeof h=="string"?h:h&&typeof h=="object"&&(h.value||h.normalized)||String(h));return{...o,tags:d}}}catch{}return o});return{id:i.id,title:i.title,area:i.area,days:i.days,people:i.people||2,budget:i.budget||0,createdAt:i.created_at||new Date().toLocaleDateString(),thumbnail:i.thumbnail||"",spots:c,groundingUrls:i.grounding_urls||[],isFavorite:i.is_favorite||!1,folderId:i.folder_id||null,excludedSpots:i.excluded_spots||null,checkInDate:i.check_in_date||void 0,checkOutDate:i.check_out_date||void 0}}async function Os(i={}){const c=new URLSearchParams;i.area&&c.append("area",i.area),i.category&&c.append("category",i.category),i.keyword&&c.append("keyword",i.keyword),i.skip!==void 0&&c.append("skip",i.skip.toString()),i.limit!==void 0&&c.append("limit",i.limit.toString());const o=c.toString(),d=`/api/spots${o?`?${o}`:""}`;return(await Ce.get(d)).map(qo)}async function Op(i,c=0,o=100){return(await Ce.get(`/api/spots/area/${encodeURIComponent(i)}?skip=${c}&limit=${o}`)).map(qo)}async function Rp(i,c){const o=await Ce.put(`/api/spots/${i}`,c);return qo(o)}async function Up(i){await Ce.delete(`/api/spots/${i}`)}async function kp(i){const c=await Ce.post("/api/spots/research",{spot_name:i});return{name:c.name,area:c.area,category:c.category,description:c.description,price:c.price,image:c.image,duration_minutes:c.duration_minutes}}async function Hp(i,c){const o={prefecture:i,max_results_per_keyword:(c==null?void 0:c.max_results_per_keyword)??5,max_keywords:c==null?void 0:c.max_keywords,max_total_videos:c==null?void 0:c.max_total_videos,add_location:(c==null?void 0:c.add_location)??!0,run_async:c==null?void 0:c.run_async,category:c==null?void 0:c.category};return await Ce.post("/api/spots/bulk-add-by-prefecture",o)}async function Lp(i){return await Ce.get(`/api/spots/bulk-add-jobs/${encodeURIComponent(i)}`)}async function Bp(){return await Ce.get("/api/spots/config/search-keywords")}async function Yp(i){const c=new URLSearchParams;i&&c.append("category",i);const o=c.toString(),d=`/api/spots/tags${o?`?${o}`:""}`;return Ce.get(d)}async function Gp(i){const c=new URLSearchParams;i&&c.append("category",i);const o=c.toString(),d=`/api/spots/tags/recommended${o?`?${o}`:""}`;return Ce.get(d)}async function qp(i){return Ce.post("/api/spots/tags/normalize",{tags:i})}function qo(i){return{id:i.id,name:i.name,description:i.description||"",area:i.area||"",category:i.category||"Culture",durationMinutes:i.duration_minutes||60,rating:i.rating||0,image:i.image||"",price:i.price,tags:i.tags||[],location:i.latitude&&i.longitude?{lat:i.latitude,lng:i.longitude}:void 0,created_at:i.created_at,updated_at:i.updated_at}}const Ch=({spots:i,onSpotClick:c,height:o="500px",initialCenter:d=el.MAP.DEFAULT_CENTER,initialZoom:h=el.MAP.DEFAULT_ZOOM})=>{const x=m.useRef(null),v=m.useRef(null),p=m.useRef(null),b=m.useRef(!1);return m.useEffect(()=>{if(!(!window.L||!x.current||b.current)){try{const g=window.L,S=g.map(x.current).setView(d,h);if(g.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}).addTo(S),g.markerClusterGroup){const y=g.markerClusterGroup({showCoverageOnHover:!1,maxClusterRadius:50,spiderfyOnMaxZoom:!0,disableClusteringAtZoom:16});S.addLayer(y),p.current=y}else{console.warn("Leaflet.markercluster not found, falling back to simple layer group");const y=g.layerGroup().addTo(S);p.current=y}v.current=S,b.current=!0}catch(g){console.error("Failed to initialize map",g)}return()=>{v.current&&!b.current&&(v.current.remove(),v.current=null)}}},[]),m.useEffect(()=>{if(!v.current||!p.current||!window.L)return;const g=window.L,S=p.current;S.clearLayers();const y=[],O=g.latLngBounds();if(i.forEach(A=>{if(A.location){const{lat:V,lng:R}=A.location;let H="blue";switch(A.category){case"History":H="red";break;case"Nature":H="green";break;case"Food":H="orange";break;case"Shopping":H="violet";break;case"Art":H="gold";break;case"Relax":H="blue";break;case"Culture":H="grey";break;default:H="blue"}const E=new g.Icon({iconUrl:`https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-${H}.png`,shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]}),Q=g.marker([V,R],{icon:E,title:A.name}),M=`
          <div class="text-center p-2" style="min-width: 200px;">
            <b class="text-lg">${A.name}</b>
            ${A.area?`<br/><span class="text-xs text-gray-500"> ${A.area}</span>`:""}
            <br/><span class="text-xs text-gray-500">${A.category}</span>
            ${A.image?`<br/><img src="${A.image}" style="width:100%; height:100px; object-fit:cover; margin-top:5px; border-radius:4px;" />`:""}
            ${A.description?`<br/><p class="text-xs text-gray-600 mt-1 text-left">${A.description.substring(0,100)}${A.description.length>100?"...":""}</p>`:""}
          </div>
        `;Q.bindPopup(M),c&&Q.on("click",()=>c(A)),y.push(Q),S.addLayer(Q),O.extend([V,R])}}),y.length>0&&v.current)try{v.current.fitBounds(O,{padding:[50,50],maxZoom:15})}catch(A){console.warn("Error fitting bounds",A)}},[i]),n.jsxs("div",{className:"relative w-full rounded-2xl overflow-hidden shadow-inner border border-gray-200 z-0",style:{height:o},children:[n.jsx("div",{ref:x,className:"w-full h-full",style:{background:"#f0f0f0"}}),!window.L&&n.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-100/80",children:n.jsx("p",{children:"..."})})]})},Eh=m.createContext(void 0),zn=()=>{const i=m.useContext(Eh);if(!i)throw new Error("useToast must be used within ToastProvider");return i},Xp=({children:i})=>{const[c,o]=m.useState([]),d=m.useCallback(y=>{o(O=>O.filter(A=>A.id!==y))},[]),h=m.useCallback((y,O,A=5e3)=>{const V=Math.random().toString(36).substring(7),R={id:V,type:y,message:O,duration:A};o(H=>[...H,R]),A>0&&setTimeout(()=>{d(V)},A)},[d]),x=m.useCallback((y,O)=>{h("success",y,O)},[h]),v=m.useCallback((y,O)=>{h("error",y,O)},[h]),p=m.useCallback((y,O)=>{h("warning",y,O)},[h]),b=m.useCallback((y,O)=>{h("info",y,O)},[h]),g=y=>{switch(y){case"success":return"bg-green-50 border-green-200 text-green-800";case"error":return"bg-red-50 border-red-200 text-red-800";case"warning":return"bg-yellow-50 border-yellow-200 text-yellow-800";case"info":return"bg-blue-50 border-blue-200 text-blue-800";default:return"bg-gray-50 border-gray-200 text-gray-800"}},S=y=>{switch(y){case"success":return"check_circle";case"error":return"error";case"warning":return"warning";case"info":return"info";default:return"info"}};return n.jsxs(Eh.Provider,{value:{showToast:h,showSuccess:x,showError:v,showWarning:p,showInfo:b},children:[i,n.jsx("div",{className:"fixed top-4 right-4 z-[9999] flex flex-col gap-2 max-w-md w-full",children:c.map(y=>n.jsxs("div",{className:`${g(y.type)} border rounded-lg shadow-lg p-4 flex items-start gap-3 animate-slide-in`,children:[n.jsx("span",{className:"material-symbols-outlined flex-shrink-0",children:S(y.type)}),n.jsx("div",{className:"flex-1",children:n.jsx("p",{className:"text-sm font-medium",children:y.message})}),n.jsx("button",{onClick:()=>d(y.id),className:"flex-shrink-0 text-current opacity-60 hover:opacity-100",children:n.jsx("span",{className:"material-symbols-outlined text-sm",children:"close"})})]},y.id))}),n.jsx("style",{children:`
        @keyframes slide-in {
          from {
            transform: translateX(100%);
            opacity: 0;
          }
          to {
            transform: translateX(0);
            opacity: 1;
          }
        }
        .animate-slide-in {
          animation: slide-in 0.3s ease-out;
        }
      `})]})};async function ah(){return(await Ce.get("/api/folders")).map(Xo)}async function Qp(i){const c=await Ce.post("/api/folders",i);return Xo(c)}async function Zp(i,c){const o=await Ce.put(`/api/folders/${i}`,c);return Xo(o)}async function Vp(i){await Ce.delete(`/api/folders/${i}`)}function Xo(i){return{id:i.id,name:i.name,parentId:i.parent_id,createdAt:i.created_at}}const Kp=({folders:i,selectedFolderId:c,onSelect:o,onUpdate:d})=>{const[h,x]=m.useState(new Set),[v,p]=m.useState(!1),[b,g]=m.useState(""),[S,y]=m.useState(null),[O,A]=m.useState(""),{showSuccess:V,showError:R}=zn(),H=m.useMemo(()=>{const X=(D=null)=>i.filter(P=>P.parentId===D||D===null&&!P.parentId).map(P=>({...P,children:X(P.id)}));return X()},[i]),E=(X,D)=>{D.stopPropagation(),x(P=>{const ne=new Set(P);return ne.has(X)?ne.delete(X):ne.add(X),ne})},Q=async()=>{if(fetch("http://127.0.0.1:7243/ingest/0154fa29-b553-4de4-8ba1-d0609672b9f3",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({location:"FolderTree.tsx:52",message:"handleCreate called",data:{newFolderName:b,isCreating:v,trimmedLength:b.trim().length},timestamp:Date.now(),sessionId:"debug-session",runId:"run1",hypothesisId:"A"})}).catch(()=>{}),!b.trim()){fetch("http://127.0.0.1:7243/ingest/0154fa29-b553-4de4-8ba1-d0609672b9f3",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({location:"FolderTree.tsx:54",message:"Validation failed - empty name",data:{newFolderName:b,isCreating:v},timestamp:Date.now(),sessionId:"debug-session",runId:"run1",hypothesisId:"A"})}).catch(()=>{});return}try{fetch("http://127.0.0.1:7243/ingest/0154fa29-b553-4de4-8ba1-d0609672b9f3",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({location:"FolderTree.tsx:58",message:"Creating folder - before API call",data:{name:b.trim(),parent_id:null},timestamp:Date.now(),sessionId:"debug-session",runId:"run1",hypothesisId:"C"})}).catch(()=>{}),await Qp({name:b,parent_id:null}),fetch("http://127.0.0.1:7243/ingest/0154fa29-b553-4de4-8ba1-d0609672b9f3",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({location:"FolderTree.tsx:60",message:"Folder created successfully",data:{name:b.trim()},timestamp:Date.now(),sessionId:"debug-session",runId:"run1",hypothesisId:"C"})}).catch(()=>{}),d(),g(""),p(!1),fetch("http://127.0.0.1:7243/ingest/0154fa29-b553-4de4-8ba1-d0609672b9f3",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({location:"FolderTree.tsx:65",message:"State updated after success",data:{isCreating:!1,newFolderName:""},timestamp:Date.now(),sessionId:"debug-session",runId:"run1",hypothesisId:"A"})}).catch(()=>{}),V("")}catch(X){fetch("http://127.0.0.1:7243/ingest/0154fa29-b553-4de4-8ba1-d0609672b9f3",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({location:"FolderTree.tsx:68",message:"Folder creation failed",data:{error:String(X),isCreating:v},timestamp:Date.now(),sessionId:"debug-session",runId:"run1",hypothesisId:"C"})}).catch(()=>{}),console.error(X),R("")}},M=async X=>{if(O.trim())try{await Zp(X,{name:O}),d(),y(null),V("")}catch(D){console.error(D),R("")}},Y=async(X,D)=>{if(D.stopPropagation(),!!window.confirm(`
`))try{await Vp(X),c===X&&o(null),d(),V("")}catch(P){console.error(P),R("")}},ee=(X,D=0)=>{const P=h.has(X.id),ne=c===X.id,de=S===X.id;return n.jsxs("div",{children:[n.jsxs("div",{className:`flex items-center gap-2 py-1.5 px-2 cursor-pointer transition-colors rounded-lg group ${ne?"bg-primary/10 text-primary font-bold":"hover:bg-gray-100 text-text"}`,style:{paddingLeft:`${D*16+8}px`},onClick:()=>o(X.id),children:[X.children&&X.children.length>0?n.jsx("button",{onClick:le=>E(X.id,le),className:"p-0.5 hover:bg-black/5 rounded",children:n.jsx("span",{className:`material-symbols-outlined text-lg transition-transform ${P?"rotate-90":""}`,children:"arrow_right"})}):n.jsx("span",{className:"w-[18px]"}),n.jsx("span",{className:"material-symbols-outlined text-yellow-500 text-xl font-variation-settings-fill",children:"folder"}),de?n.jsx("input",{autoFocus:!0,value:O,onChange:le=>A(le.target.value),onClick:le=>le.stopPropagation(),onKeyDown:le=>{le.key==="Enter"&&M(X.id),le.key==="Escape"&&y(null)},onBlur:()=>y(null),className:"flex-1 bg-white border border-primary px-1 rounded text-sm min-w-0"}):n.jsx("span",{className:"flex-1 truncate text-sm",children:X.name}),!de&&n.jsxs("div",{className:"hidden group-hover:flex items-center gap-1",children:[n.jsx("button",{onClick:le=>{le.stopPropagation(),y(X.id),A(X.name)},className:"p-1 hover:bg-black/10 rounded text-gray-500",title:"",children:n.jsx("span",{className:"material-symbols-outlined text-base",children:"edit"})}),n.jsx("button",{onClick:le=>Y(X.id,le),className:"p-1 hover:bg-red-100 rounded text-gray-500 hover:text-red-500",title:"",children:n.jsx("span",{className:"material-symbols-outlined text-base",children:"delete"})})]})]}),P&&X.children&&X.children.map(le=>ee(le,D+1))]},X.id)};return n.jsxs("div",{className:"flex flex-col h-full bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[n.jsxs("div",{className:"p-4 bg-gray-50 border-b border-gray-100 flex justify-between items-center",children:[n.jsx("h3",{className:"font-bold text-gray-700",children:""}),n.jsx("button",{onClick:()=>p(!0),className:"p-1 hover:bg-gray-200 rounded-full text-gray-600 transition-colors",title:"",children:n.jsx("span",{className:"material-symbols-outlined",children:"create_new_folder"})})]}),n.jsxs("div",{className:"flex-1 overflow-y-auto p-2",children:[n.jsxs("div",{className:`flex items-center gap-2 py-2 px-3 mb-1 cursor-pointer transition-colors rounded-lg ${c===null?"bg-primary/10 text-primary font-bold":"hover:bg-gray-100 text-text"}`,onClick:()=>o(null),children:[n.jsx("span",{className:"material-symbols-outlined text-xl",children:"home"}),n.jsx("span",{className:"flex-1 text-sm",children:""})]}),v&&n.jsx("div",{className:"px-2 mb-2",children:n.jsxs("div",{className:"flex items-center gap-2 border border-primary rounded-lg p-1",children:[n.jsx("span",{className:"material-symbols-outlined text-yellow-500 text-xl font-variation-settings-fill",children:"folder"}),n.jsx("input",{autoFocus:!0,placeholder:"",value:b,onChange:X=>{fetch("http://127.0.0.1:7243/ingest/0154fa29-b553-4de4-8ba1-d0609672b9f3",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({location:"FolderTree.tsx:198",message:"Folder name input changed",data:{newValue:X.target.value,isCreating:v},timestamp:Date.now(),sessionId:"debug-session",runId:"run1",hypothesisId:"B"})}).catch(()=>{}),g(X.target.value)},onKeyDown:X=>{fetch("http://127.0.0.1:7243/ingest/0154fa29-b553-4de4-8ba1-d0609672b9f3",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({location:"FolderTree.tsx:204",message:"Key pressed in folder input",data:{key:X.key,newFolderName:b,isCreating:v},timestamp:Date.now(),sessionId:"debug-session",runId:"run1",hypothesisId:"B"})}).catch(()=>{}),X.key==="Enter"&&Q(),X.key==="Escape"&&(fetch("http://127.0.0.1:7243/ingest/0154fa29-b553-4de4-8ba1-d0609672b9f3",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({location:"FolderTree.tsx:207",message:"Escape pressed - canceling creation",data:{isCreating:v},timestamp:Date.now(),sessionId:"debug-session",runId:"run1",hypothesisId:"B"})}).catch(()=>{}),p(!1))},onBlur:()=>{fetch("http://127.0.0.1:7243/ingest/0154fa29-b553-4de4-8ba1-d0609672b9f3",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({location:"FolderTree.tsx:213",message:"Input blurred",data:{newFolderName:b,isCreating:v,trimmedLength:b.trim().length},timestamp:Date.now(),sessionId:"debug-session",runId:"run1",hypothesisId:"B"})}).catch(()=>{}),b.trim()||p(!1)},className:"flex-1 text-sm outline-none min-w-0"})]})}),H.map(X=>ee(X))]})]})},Jp=({onNavigate:i})=>{const[c,o]=m.useState([]),[d,h]=m.useState([]),[x,v]=m.useState(null),[p,b]=m.useState(!0),[g,S]=m.useState(null),[y,O]=m.useState(!1),[A,V]=m.useState([]),[R,H]=m.useState(!1),[E,Q]=m.useState(""),{showSuccess:M,showError:Y,showWarning:ee}=zn(),X=async()=>{try{const J=await ah();h(J)}catch(J){console.error("Failed to fetch folders",J)}};m.useEffect(()=>{(async()=>{try{b(!0),S(null);const[C,G]=await Promise.allSettled([th(),ah()]);if(C.status==="fulfilled")o(C.value);else throw C.reason;G.status==="fulfilled"?h(G.value):(h([]),console.warn("Failed to fetch folders:",G.reason))}catch(C){console.error("Failed to fetch data:",C),S(C.detail||C.message||"")}finally{b(!1)}})()},[]);const D=m.useMemo(()=>x===null?c:c.filter(J=>J.folderId===x),[c,x]),P=()=>{O(!y),V([])},ne=J=>{V(C=>C.includes(J)?C.filter(G=>G!==J):[...C,J])},de=()=>{A.length===D.length?V([]):V(D.map(J=>J.id))},le=async(J,C)=>{J.stopPropagation();try{const G=!C.isFavorite;o(B=>B.map(ae=>ae.id===C.id?{...ae,isFavorite:G}:ae)),await zs(C.id,{is_favorite:G})}catch(G){console.error("Failed to update favorite:",G),o(B=>B.map(ae=>ae.id===C.id?{...ae,isFavorite:!C.isFavorite}:ae)),Y("")}},ce=async(J,C)=>{J.stopPropagation();const G=c.find(B=>B.id===C);if(G!=null&&G.isFavorite){ee("");return}if(window.confirm(`
`))try{await lh(C),o(B=>B.filter(ae=>ae.id!==C)),M("")}catch(B){console.error("Failed to delete plan:",B),Y(B.detail||"")}},Se=async()=>{const J=c.filter(B=>A.includes(B.id)),C=J.filter(B=>B.isFavorite),G=J.filter(B=>!B.isFavorite);if(C.length>0&&ee(`${C.length}`),G.length===0){if(C.length>0)return;ee("");return}if(window.confirm(`${G.length}
`))try{await Promise.all(G.map(B=>lh(B.id))),o(B=>B.filter(ae=>!A.includes(ae.id)||ae.isFavorite&&A.includes(ae.id))),V([]),O(!1),M(`${G.length}`)}catch(B){console.error("Bulk delete failed:",B),Y("");const ae=await th();o(ae)}},se=async()=>{if(A.length!==0){fetch("http://127.0.0.1:7243/ingest/0154fa29-b553-4de4-8ba1-d0609672b9f3",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({location:"FeaturePages.tsx:187",message:"handleBulkMove called",data:{targetMoveFolderId:E,selectedIds:A,foldersCount:d.length},timestamp:Date.now(),sessionId:"debug-session",runId:"run1",hypothesisId:"D"})}).catch(()=>{});try{const J=E==="root"?null:E;fetch("http://127.0.0.1:7243/ingest/0154fa29-b553-4de4-8ba1-d0609672b9f3",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({location:"FeaturePages.tsx:192",message:"Before updatePlan calls",data:{folderId:J,selectedIds:A,validFolderId:J!==null?d.find(C=>C.id===J)!==void 0:!0},timestamp:Date.now(),sessionId:"debug-session",runId:"run1",hypothesisId:"D"})}).catch(()=>{}),await Promise.all(A.map(C=>zs(C,{folder_id:J}))),fetch("http://127.0.0.1:7243/ingest/0154fa29-b553-4de4-8ba1-d0609672b9f3",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({location:"FeaturePages.tsx:195",message:"Plans moved successfully",data:{folderId:J,selectedIdsCount:A.length},timestamp:Date.now(),sessionId:"debug-session",runId:"run1",hypothesisId:"D"})}).catch(()=>{}),o(C=>C.map(G=>A.includes(G.id)?{...G,folderId:J||void 0}:G)),V([]),O(!1),H(!1),M("")}catch(J){fetch("http://127.0.0.1:7243/ingest/0154fa29-b553-4de4-8ba1-d0609672b9f3",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({location:"FeaturePages.tsx:204",message:"Move failed",data:{error:String(J),targetMoveFolderId:E,selectedIds:A},timestamp:Date.now(),sessionId:"debug-session",runId:"run1",hypothesisId:"D"})}).catch(()=>{}),console.error("Move failed:",J),Y("")}}};return p?n.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-8 py-10",children:n.jsx("div",{className:"flex justify-center items-center min-h-[400px]",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"w-16 h-16 border-4 border-primary border-t-transparent rounded-full animate-spin mx-auto mb-4"}),n.jsx("p",{className:"text-text-muted",children:"..."})]})})}):g?n.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-8 py-10",children:n.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-xl p-6 text-center",children:[n.jsx("p",{className:"text-red-600 font-bold mb-2",children:""}),n.jsx("p",{className:"text-red-500 text-sm",children:g})]})}):n.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-8 py-10 pb-32",children:[n.jsxs("div",{className:"flex justify-between items-center mb-8",children:[n.jsx("h1",{className:"text-4xl font-black",children:""}),n.jsx("div",{className:"flex gap-2",children:y?n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{onClick:de,className:"px-4 py-2 text-sm font-bold text-primary bg-primary/10 rounded-full hover:bg-primary/20 transition-colors",children:A.length===D.length&&D.length>0?"":""}),n.jsx("button",{onClick:P,className:"px-4 py-2 text-sm font-bold text-text-muted bg-gray-100 rounded-full hover:bg-gray-200 transition-colors",children:""})]}):D.length>0&&n.jsxs("button",{onClick:P,className:"px-4 py-2 text-sm font-bold text-text-muted bg-gray-100 rounded-full hover:bg-gray-200 transition-colors flex items-center gap-1",children:[n.jsx("span",{className:"material-symbols-outlined text-lg",children:"checklist"})," "]})})]}),n.jsxs("div",{className:"flex gap-8 items-start",children:[n.jsx("div",{className:"w-64 flex-shrink-0 sticky top-4 hidden md:block",style:{height:"calc(100vh - 120px)"},children:n.jsx(Kp,{folders:d,selectedFolderId:x,onSelect:v,onUpdate:X})}),n.jsx("div",{className:"flex-1",children:D.length===0?n.jsxs("div",{className:"text-center py-20 bg-gray-50 rounded-2xl border border-dashed border-gray-300",children:[n.jsx("p",{className:"text-text-muted text-lg mb-4",children:""}),x===null&&n.jsx("button",{onClick:()=>i("/create"),className:"bg-primary text-white px-6 py-3 rounded-full font-bold shadow-lg hover:opacity-90 transition-opacity",children:""})]}):n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:D.map(J=>{const C=A.includes(J.id);return n.jsxs("div",{onClick:()=>y?ne(J.id):i(`/plan/${J.id}`),className:`group bg-white rounded-xl overflow-hidden shadow-lg hover:shadow-2xl transition-all duration-300 cursor-pointer border relative ${C?"ring-4 ring-primary ring-offset-2 border-primary":"border-transparent hover:border-primary/20 hover:-translate-y-1"}`,children:[n.jsxs("div",{className:"relative aspect-[4/3] overflow-hidden",children:[n.jsx("img",{src:J.thumbnail,alt:J.title,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-110"}),n.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent"}),y&&n.jsx("div",{className:`absolute inset-0 bg-black/10 z-30 flex items-center justify-center transition-opacity ${C?"opacity-100":"opacity-0 hover:opacity-100"}`,children:n.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center transition-all ${C?"bg-primary text-white scale-100":"bg-white/80 text-gray-400 scale-90"}`,children:n.jsx("span",{className:"material-symbols-outlined text-3xl",children:"check"})})}),n.jsx("button",{onClick:G=>le(G,J),className:`absolute top-2 left-2 w-8 h-8 rounded-full flex items-center justify-center transition-all z-20 ${J.isFavorite?"bg-yellow-400 text-white shadow-md":"bg-black/30 text-white/70 hover:bg-black/50 hover:text-white"}`,title:J.isFavorite?"":"",children:n.jsx("span",{className:"material-symbols-outlined text-lg fill",children:J.isFavorite?"star":"star_border"})}),!y&&n.jsx("button",{onClick:G=>ce(G,J.id),className:`absolute top-2 right-2 w-8 h-8 rounded-full bg-black/40 text-white flex items-center justify-center hover:bg-red-500 transition-colors z-20 opacity-0 group-hover:opacity-100 md:opacity-0 md:group-hover:opacity-100 opacity-100 ${J.isFavorite?"hidden":""}`,title:"",children:n.jsx("span",{className:"material-symbols-outlined text-sm",children:"delete"})}),n.jsxs("div",{className:"absolute bottom-3 right-3 flex gap-2 text-xs text-white font-medium",children:[n.jsxs("span",{className:"bg-black/30 backdrop-blur-sm px-2 py-1 rounded-full flex items-center gap-1",children:[n.jsx("span",{className:"material-symbols-outlined text-sm",children:"calendar_month"})," ",J.days,""]}),n.jsxs("span",{className:"bg-black/30 backdrop-blur-sm px-2 py-1 rounded-full flex items-center gap-1",children:[n.jsx("span",{className:"material-symbols-outlined text-sm",children:"group"})," ",J.people,""]})]})]}),n.jsxs("div",{className:"p-4 flex flex-col gap-2",children:[n.jsxs("h3",{className:"text-lg font-bold leading-tight group-hover:text-primary transition-colors flex items-start gap-1",children:[J.title,J.isFavorite&&n.jsx("span",{className:"material-symbols-outlined text-yellow-500 text-base fill",children:"star"})]}),n.jsxs("div",{className:"flex justify-between items-baseline mt-2",children:[n.jsxs("div",{className:"flex items-center gap-1 text-primary font-bold",children:[n.jsx("span",{className:"material-symbols-outlined",children:"payments"}),"",J.budget.toLocaleString()]}),n.jsxs("span",{className:"text-xs text-text-muted",children:[J.createdAt,""]})]})]})]},J.id)})})})]}),y&&A.length>0&&n.jsxs("div",{className:"fixed bottom-8 left-1/2 -translate-x-1/2 bg-gray-900 text-white pl-6 pr-2 py-2 rounded-full shadow-2xl flex items-center gap-4 z-50 animate-bounce-in border border-gray-700",children:[n.jsx("div",{className:"flex flex-col border-r border-gray-700 pr-4",children:n.jsxs("span",{className:"font-bold text-sm",children:[A.length,""]})}),n.jsxs("button",{onClick:()=>{Q(""),H(!0)},className:"hover:bg-gray-700 px-4 py-2 rounded-full font-bold text-sm transition-colors flex items-center gap-2",children:[n.jsx("span",{className:"material-symbols-outlined",children:"drive_file_move"}),""]}),n.jsxs("button",{onClick:Se,className:"bg-red-500 hover:bg-red-600 text-white px-6 py-2 rounded-full font-bold text-sm shadow-lg transition-all flex items-center gap-2",children:[n.jsx("span",{className:"material-symbols-outlined",children:"delete"}),""]})]}),R&&n.jsx("div",{className:"fixed inset-0 bg-black/50 z-[100] flex items-center justify-center p-4",children:n.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-sm p-6 shadow-2xl animate-fade-in-up",children:[n.jsxs("h3",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[n.jsx("span",{className:"material-symbols-outlined text-primary",children:"folder_open"}),""]}),n.jsx("div",{className:"mb-6",children:n.jsxs("select",{className:"w-full p-3 border border-gray-300 rounded-xl bg-gray-50 focus:ring-2 focus:ring-primary outline-none",value:E,onChange:J=>Q(J.target.value),children:[n.jsx("option",{value:"",disabled:!0,children:""}),n.jsx("option",{value:"root",children:" ()"}),d.map(J=>n.jsx("option",{value:J.id,children:J.name},J.id))]})}),n.jsxs("div",{className:"flex gap-3 justify-end",children:[n.jsx("button",{onClick:()=>H(!1),className:"px-4 py-2 text-gray-500 hover:bg-gray-100 rounded-lg font-bold",children:""}),n.jsx("button",{onClick:se,disabled:!E,className:"px-6 py-2 bg-primary text-white rounded-full font-bold shadow-lg disabled:opacity-50 disabled:cursor-not-allowed hover:opacity-90 transition-all",children:""})]})]})}),n.jsx("div",{className:"fixed bottom-8 right-8 md:hidden",children:n.jsx("button",{onClick:()=>i("/create"),className:"w-14 h-14 bg-primary text-white rounded-full shadow-lg flex items-center justify-center",children:n.jsx("span",{className:"material-symbols-outlined text-3xl",children:"add"})})})]})},$p=({area:i,onNavigate:c})=>{const[o,d]=m.useState(""),[h,x]=m.useState(""),[v,p]=m.useState([]),[b,g]=m.useState([]),[S,y]=m.useState(!0),[O,A]=m.useState(null),V={:"History",:"Nature",:"Food",:"Tourism",:"Experience",:"Event",:"HotSpring",:"ScenicView",:"Cafe",:"Hotel",:"Drink",:"Fashion",:"Date",:"Drive",:"Culture",:"Shopping",:"Art"};m.useEffect(()=>{(async()=>{try{y(!0),A(null);const Y=await Op(i);g(Y)}catch(Y){console.error("Failed to fetch spots:",Y),A(Y.detail||Y.message||"")}finally{y(!1)}})()},[i]);const R=m.useMemo(()=>b.filter(M=>{const Y=M.name.toLowerCase().includes(o.toLowerCase())||M.description.toLowerCase().includes(o.toLowerCase());let ee=!0;if(h!==""){const X=V[h];ee=M.category===X}return Y&&ee}),[b,o,h]),H=M=>{M.stopPropagation(),alert("")},E=M=>{p(Y=>Y.includes(M)?Y.filter(ee=>ee!==M):[...Y,M])},Q=()=>{localStorage.setItem(el.STORAGE_KEYS.PENDING_SPOTS,JSON.stringify(v)),c("/create")};return S?n.jsx("div",{className:"max-w-7xl mx-auto px-4 py-10",children:n.jsx("div",{className:"flex justify-center items-center min-h-[400px]",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"w-16 h-16 border-4 border-primary border-t-transparent rounded-full animate-spin mx-auto mb-4"}),n.jsx("p",{className:"text-text-muted",children:"..."})]})})}):O?n.jsx("div",{className:"max-w-7xl mx-auto px-4 py-10",children:n.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-xl p-6 text-center",children:[n.jsx("p",{className:"text-red-600 font-bold mb-2",children:""}),n.jsx("p",{className:"text-red-500 text-sm",children:O})]})}):n.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-8 py-10 pb-32",children:[n.jsxs("header",{className:"mb-8",children:[n.jsx("h1",{className:"text-5xl md:text-6xl font-bold mb-2",children:i}),n.jsx("p",{className:"text-text-muted",children:""})]}),n.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-8",children:[n.jsxs("div",{className:"flex-grow relative",children:[n.jsx("span",{className:"material-symbols-outlined absolute left-4 top-1/2 -translate-y-1/2 text-text-muted",children:"search"}),n.jsx("input",{type:"text",placeholder:"",className:"w-full pl-12 pr-4 py-3 rounded-full border-none bg-white shadow-sm focus:ring-2 focus:ring-primary",value:o,onChange:M=>d(M.target.value)})]}),n.jsxs("div",{className:"flex-shrink-0 relative w-full md:w-48",children:[n.jsxs("select",{className:"w-full appearance-none pl-4 pr-10 py-3 rounded-full border-none bg-white shadow-sm focus:ring-2 focus:ring-primary",children:[n.jsx("option",{children:""}),n.jsx("option",{children:""})]}),n.jsx("span",{className:"material-symbols-outlined absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-text-muted",children:"expand_more"})]})]}),n.jsx("div",{className:"flex gap-3 overflow-x-auto pb-4 mb-6 scrollbar-hide",children:["","","","","","",""].map((M,Y)=>n.jsx("button",{onClick:()=>x(M),className:`px-6 py-2 rounded-full whitespace-nowrap font-medium text-sm transition-colors ${h===M?"bg-primary text-white shadow-md":"bg-white border border-gray-200 hover:border-primary text-text-light"}`,children:M},Y))}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:R.length>0?R.map(M=>{const Y=v.includes(M.id);return n.jsxs("div",{onClick:()=>E(M.id),className:`bg-white rounded-xl overflow-hidden shadow-sm hover:shadow-xl transition-all duration-300 group border cursor-pointer relative ${Y?"ring-4 ring-primary ring-offset-2 border-primary":"border-gray-100 hover:-translate-y-1"}`,children:[n.jsxs("div",{className:"relative aspect-[4/3] overflow-hidden",children:[n.jsx("img",{src:M.image,alt:M.name,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-110"}),n.jsx("div",{className:`absolute top-3 left-3 w-8 h-8 rounded-full flex items-center justify-center border-2 transition-all z-10 ${Y?"bg-primary border-primary text-white":"bg-black/30 border-white text-transparent"}`,children:n.jsx("span",{className:"material-symbols-outlined text-lg",children:"check"})}),n.jsx("button",{onClick:H,className:"absolute top-3 right-3 w-10 h-10 bg-black/30 backdrop-blur-sm rounded-full flex items-center justify-center hover:bg-black/50 text-white transition-colors z-10",children:n.jsx("span",{className:"material-symbols-outlined",children:"bookmark"})}),n.jsx("div",{className:"absolute bottom-0 left-0 w-full p-4 bg-gradient-to-t from-black/70 to-transparent",children:n.jsx("h3",{className:"text-xl font-bold text-white",children:M.name})})]}),n.jsxs("div",{className:"p-4",children:[n.jsx("p",{className:"text-sm text-text-muted mb-3 line-clamp-2",children:M.description}),n.jsxs("div",{className:"flex items-center gap-4 text-sm text-text-muted",children:[n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx("span",{className:"material-symbols-outlined text-yellow-400 fill",children:"star"})," ",n.jsx("span",{className:"text-text-light font-bold",children:M.rating})]}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx("span",{className:"material-symbols-outlined",children:"schedule"})," ",M.durationMinutes,""]}),n.jsx("span",{className:"px-2 py-0.5 bg-primary/10 text-primary text-xs rounded-full font-medium",children:M.category})]})]})]},M.id)}):n.jsxs("div",{className:"col-span-full text-center py-12 text-text-muted",children:[n.jsx("span",{className:"material-symbols-outlined text-4xl mb-2",children:"search_off"}),n.jsx("p",{children:""})]})}),v.length>0&&n.jsxs("div",{className:"fixed bottom-8 left-1/2 -translate-x-1/2 bg-gray-900 text-white pl-6 pr-2 py-2 rounded-full shadow-2xl flex items-center gap-6 z-50 animate-bounce-in border border-gray-700",children:[n.jsxs("div",{className:"flex flex-col",children:[n.jsxs("span",{className:"font-bold text-sm",children:[v.length,""]}),n.jsx("span",{className:"text-xs text-gray-400",children:""})]}),n.jsxs("button",{onClick:Q,className:"bg-primary hover:bg-primary/90 text-white px-6 py-3 rounded-full font-bold text-sm shadow-lg transition-all flex items-center gap-2",children:[n.jsx("span",{className:"material-symbols-outlined",children:"auto_awesome"}),""]})]})]})},Fp=({onNavigate:i})=>{const[c,o]=m.useState(""),[d,h]=m.useState(""),[x,v]=m.useState(""),[p,b]=m.useState("rating"),[g,S]=m.useState([]),y=m.useMemo(()=>["",...Array.from(new Set(lr.map(E=>E.area)))],[]),O=m.useMemo(()=>["",...Array.from(new Set(lr.map(E=>E.category)))],[]),A=E=>({History:"",Nature:"",Food:"",Culture:"",Shopping:"",Art:"",Relax:"",Tourism:"",Experience:"",Event:"",HotSpring:"",ScenicView:"",Cafe:"",Hotel:"",Drink:"",Fashion:"",Date:"",Drive:""})[E]||E,V=m.useMemo(()=>{let E=lr.filter(Q=>{const M=Q.name.toLowerCase().includes(c.toLowerCase())||Q.description.toLowerCase().includes(c.toLowerCase()),Y=d===""||Q.area===d,ee=x===""||Q.category===x;return M&&Y&&ee});return p==="rating"?E.sort((Q,M)=>M.rating-Q.rating):E.sort((Q,M)=>Q.name.localeCompare(M.name,"ja")),E},[c,d,x,p]),R=(E,Q)=>{E.stopPropagation(),S(M=>M.includes(Q)?M.filter(Y=>Y!==Q):[...M,Q])},H=()=>{localStorage.setItem(el.STORAGE_KEYS.PENDING_SPOTS,JSON.stringify(g)),i("/create")};return n.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-8 py-10 pb-32",children:[n.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4 mb-8",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl md:text-4xl font-black text-text-light mb-2",children:""}),n.jsx("p",{className:"text-text-muted",children:""})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs("button",{className:"bg-primary/10 text-primary px-4 py-2 rounded-full font-bold text-sm hover:bg-primary/20 transition-colors",children:[V.length," "]}),g.length>0&&n.jsx("button",{onClick:()=>S([]),className:"text-text-muted hover:text-text-light px-4 py-2 text-sm",children:""})]})]}),n.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-gray-100 mb-8 space-y-6",children:[n.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[n.jsxs("div",{className:"flex-grow relative",children:[n.jsx("span",{className:"material-symbols-outlined absolute left-4 top-1/2 -translate-y-1/2 text-text-muted",children:"search"}),n.jsx("input",{type:"text",placeholder:"",className:"w-full pl-12 pr-4 py-3 rounded-xl border border-gray-200 bg-gray-50 focus:bg-white focus:ring-2 focus:ring-primary focus:border-transparent transition-all",value:c,onChange:E=>o(E.target.value)})]}),n.jsxs("div",{className:"flex-shrink-0 relative min-w-[200px]",children:[n.jsxs("select",{value:p,onChange:E=>b(E.target.value),className:"w-full appearance-none pl-4 pr-10 py-3 rounded-xl border border-gray-200 bg-white focus:ring-2 focus:ring-primary focus:border-transparent",children:[n.jsx("option",{value:"rating",children:""}),n.jsx("option",{value:"name",children:""})]}),n.jsx("span",{className:"material-symbols-outlined absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-text-muted",children:"sort"})]})]}),n.jsx("div",{className:"h-px bg-gray-100"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-xs font-bold text-text-muted uppercase tracking-wider mb-3 block",children:""}),n.jsx("div",{className:"flex flex-wrap gap-2",children:y.map(E=>n.jsx("button",{onClick:()=>h(E),className:`px-4 py-2 rounded-lg text-sm font-medium transition-all ${d===E?"bg-secondary text-text-light shadow-sm ring-2 ring-secondary ring-offset-1":"bg-gray-50 text-text-muted hover:bg-gray-100"}`,children:E},E))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-xs font-bold text-text-muted uppercase tracking-wider mb-3 block",children:""}),n.jsx("div",{className:"flex flex-wrap gap-2",children:O.map(E=>n.jsxs("button",{onClick:()=>v(E),className:`px-4 py-2 rounded-lg text-sm font-medium transition-all flex items-center gap-2 ${x===E?"bg-primary text-white shadow-md ring-2 ring-primary ring-offset-1":"bg-gray-50 text-text-muted hover:bg-gray-100"}`,children:[E!==""&&n.jsx("span",{className:"material-symbols-outlined text-sm",children:E==="Food"?"restaurant":E==="Shopping"?"shopping_bag":E==="Nature"?"forest":E==="History"?"temple_buddhist":"local_activity"}),A(E)]},E))})]})]})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 animate-fade-in",children:V.length>0?V.map(E=>n.jsxs("div",{onClick:Q=>R(Q,E.id),className:`bg-white rounded-xl overflow-hidden shadow-sm hover:shadow-xl transition-all duration-300 group border flex flex-col cursor-pointer relative ${g.includes(E.id)?"ring-4 ring-primary ring-offset-2 border-primary":"border-gray-100 hover:-translate-y-1"}`,children:[n.jsxs("div",{className:"relative aspect-[16/9] overflow-hidden",children:[n.jsx("img",{src:E.image,alt:E.name,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-110"}),n.jsx("div",{className:`absolute top-3 left-3 w-8 h-8 rounded-full flex items-center justify-center border-2 transition-all ${g.includes(E.id)?"bg-primary border-primary text-white":"bg-black/30 border-white text-transparent"}`,children:n.jsx("span",{className:"material-symbols-outlined text-lg",children:"check"})}),n.jsx("div",{className:"absolute top-3 right-3",children:n.jsx("button",{className:"w-10 h-10 bg-primary text-white rounded-full flex items-center justify-center shadow-lg transform hover:scale-110 transition-transform",title:"",children:n.jsx("span",{className:"material-symbols-outlined fill",children:"bookmark"})})}),n.jsx("div",{className:"absolute bottom-3 left-3",children:n.jsx("span",{className:"px-3 py-1 bg-black/50 backdrop-blur-sm text-white text-xs font-bold rounded-full border border-white/20",children:E.area})})]}),n.jsxs("div",{className:"p-5 flex-1 flex flex-col",children:[n.jsxs("div",{className:"flex justify-between items-start mb-2",children:[n.jsx("h3",{className:"text-lg font-bold text-text-light line-clamp-1",children:E.name}),n.jsxs("div",{className:"flex items-center gap-1 text-yellow-500 text-sm font-bold bg-yellow-50 px-2 py-1 rounded-md",children:[n.jsx("span",{className:"material-symbols-outlined text-sm fill",children:"star"})," ",E.rating]})]}),n.jsx("p",{className:"text-sm text-text-muted mb-4 line-clamp-2 flex-1",children:E.description}),n.jsxs("div",{className:"flex items-center justify-between mt-auto pt-4 border-t border-gray-50",children:[n.jsxs("div",{className:"flex items-center gap-2 text-xs font-medium text-primary bg-primary/5 px-3 py-1 rounded-full",children:[n.jsx("span",{className:"material-symbols-outlined text-sm",children:E.category==="Food"?"restaurant":E.category==="Shopping"?"shopping_bag":E.category==="Nature"?"forest":E.category==="History"?"temple_buddhist":"local_activity"}),A(E.category)]}),n.jsxs("div",{className:"text-xs text-text-muted flex items-center gap-1",children:[n.jsx("span",{className:"material-symbols-outlined text-sm",children:"schedule"})," ",E.durationMinutes,""]})]})]})]},E.id)):n.jsxs("div",{className:"col-span-full py-20 text-center",children:[n.jsx("div",{className:"w-24 h-24 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-6",children:n.jsx("span",{className:"material-symbols-outlined text-4xl text-gray-400",children:"filter_list_off"})}),n.jsx("h3",{className:"text-xl font-bold text-text-light mb-2",children:""}),n.jsx("p",{className:"text-text-muted mb-6",children:""})]})}),g.length>0&&n.jsxs("div",{className:"fixed bottom-8 left-1/2 -translate-x-1/2 bg-gray-900 text-white pl-6 pr-2 py-2 rounded-full shadow-2xl flex items-center gap-6 z-50 animate-bounce-in border border-gray-700",children:[n.jsxs("div",{className:"flex flex-col",children:[n.jsxs("span",{className:"font-bold text-sm",children:[g.length,""]}),n.jsx("span",{className:"text-xs text-gray-400",children:""})]}),n.jsxs("button",{onClick:H,className:"bg-primary hover:bg-primary/90 text-white px-6 py-3 rounded-full font-bold text-sm shadow-lg transition-all flex items-center gap-2",children:[n.jsx("span",{className:"material-symbols-outlined",children:"auto_awesome"}),""]})]})]})},Ip=({onNavigate:i})=>{const[c,o]=m.useState(""),[d,h]=m.useState(null),[x,v]=m.useState(""),[p,b]=m.useState(""),[g,S]=m.useState(""),[y,O]=m.useState(2),[A,V]=m.useState([]),[R,H]=m.useState(null),[E,Q]=m.useState(!1);m.useEffect(()=>{(async()=>{try{const ee=await Sh();V(ee.categories)}catch(ee){console.error("Failed to fetch hotel categories:",ee)}})()},[]);const M=async()=>{Q(!0);try{const ee=await wh({area:c,category:d||void 0,hotelName:x||void 0,checkIn:p||void 0,checkOut:g||void 0,numGuests:y});H(ee)}catch(Y){console.error("Failed to search hotels:",Y),alert(Y.detail||Y.message||"")}finally{Q(!1)}};return n.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-8 py-10",children:n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[n.jsx("aside",{className:"lg:col-span-1 lg:sticky lg:top-24 self-start space-y-6",children:n.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100",children:[n.jsxs("h3",{className:"font-bold text-lg mb-6 flex items-center gap-2",children:[n.jsx("span",{className:"material-symbols-outlined text-primary",children:"filter_alt"})," "]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium mb-1 block",children:""}),n.jsx("input",{type:"text",placeholder:": ",className:"w-full px-3 py-2 rounded-lg border border-gray-200 text-sm",value:c,onChange:Y=>o(Y.target.value)})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium mb-1 block",children:""}),n.jsxs("select",{className:"w-full rounded-lg border-gray-200 text-sm",value:d||"",onChange:Y=>h(Y.target.value||null),children:[n.jsx("option",{value:"",children:""}),A.map(Y=>n.jsxs("option",{value:Y.name,children:[Y.icon," ",Y.name]},Y.name))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium mb-1 block",children:""}),n.jsx("input",{type:"text",placeholder:": ",className:"w-full px-3 py-2 rounded-lg border border-gray-200 text-sm",value:x,onChange:Y=>v(Y.target.value)})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium mb-1 block",children:""}),n.jsx("input",{type:"date",className:"w-full px-3 py-2 rounded-lg border border-gray-200 text-sm",value:p,onChange:Y=>b(Y.target.value),min:new Date().toISOString().split("T")[0]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium mb-1 block",children:""}),n.jsx("input",{type:"date",className:"w-full px-3 py-2 rounded-lg border border-gray-200 text-sm",value:g,onChange:Y=>S(Y.target.value),min:p||new Date().toISOString().split("T")[0]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium mb-1 block",children:""}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("button",{onClick:()=>O(Math.max(1,y-1)),className:"w-8 h-8 rounded-full bg-gray-100 flex items-center justify-center hover:bg-gray-200",children:"-"}),n.jsxs("span",{className:"flex-1 text-center font-bold",children:[y,""]}),n.jsx("button",{onClick:()=>O(Math.min(20,y+1)),className:"w-8 h-8 rounded-full bg-gray-100 flex items-center justify-center hover:bg-gray-200",children:"+"})]})]}),n.jsx("button",{onClick:M,disabled:E||!c,className:"w-full bg-primary text-white py-3 rounded-full font-bold shadow-lg hover:opacity-90 disabled:opacity-50 disabled:cursor-not-allowed",children:E?"...":""})]})]})}),n.jsxs("div",{className:"lg:col-span-3",children:[n.jsxs("h1",{className:"text-3xl font-bold mb-2",children:[c,""]}),n.jsx("p",{className:"text-text-muted mb-6",children:"AI"}),R?n.jsx("div",{className:"space-y-6",children:n.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100",children:[n.jsx("h3",{className:"font-bold text-lg mb-4",children:""}),n.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[R.links.rakuten&&!R.links.rakuten.error&&n.jsxs("a",{href:R.links.rakuten.link,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-4 p-4 bg-red-50 border border-red-200 rounded-lg hover:bg-red-100 transition-colors",children:[n.jsx("span",{className:"text-3xl",children:""}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"font-bold",children:""}),n.jsx("p",{className:"text-sm text-text-muted",children:R.links.rakuten.description})]}),n.jsx("span",{className:"material-symbols-outlined text-red-500",children:"open_in_new"})]}),R.links.yahoo&&!R.links.yahoo.error&&n.jsxs("a",{href:R.links.yahoo.link,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-4 p-4 bg-blue-50 border border-blue-200 rounded-lg hover:bg-blue-100 transition-colors",children:[n.jsx("span",{className:"text-3xl",children:""}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"font-bold",children:"Yahoo!"}),n.jsx("p",{className:"text-sm text-text-muted",children:R.links.yahoo.description})]}),n.jsx("span",{className:"material-symbols-outlined text-blue-500",children:"open_in_new"})]}),R.links.jalan&&!R.links.jalan.error&&n.jsxs("a",{href:R.links.jalan.link,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-4 p-4 bg-green-50 border border-green-200 rounded-lg hover:bg-green-100 transition-colors",children:[n.jsx("span",{className:"text-3xl",children:""}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"font-bold",children:""}),n.jsx("p",{className:"text-sm text-text-muted",children:R.links.jalan.description})]}),n.jsx("span",{className:"material-symbols-outlined text-green-500",children:"open_in_new"})]})]}),R.errors&&R.errors.length>0&&n.jsxs("div",{className:"mt-4 p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:[n.jsx("p",{className:"text-sm font-bold text-yellow-800 mb-1",children:":"}),R.errors.map((Y,ee)=>n.jsxs("p",{className:"text-xs text-yellow-700",children:["- ",Y.affiliate,": ",Y.error]},ee))]})]})}):n.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-sm border border-gray-100 text-center",children:[n.jsx("span",{className:"material-symbols-outlined text-6xl text-gray-300 mb-4",children:"hotel"}),n.jsx("p",{className:"text-text-muted",children:""})]})]})]})})},Wp=({onNavigate:i})=>{const[c,o]=m.useState("list"),[d,h]=m.useState(""),[x,v]=m.useState(""),[p,b]=m.useState(""),[g,S]=m.useState([]),[y,O]=m.useState([]),[A,V]=m.useState([]),[R,H]=m.useState(!0),[E,Q]=m.useState(null),[M,Y]=m.useState(!1),[ee,X]=m.useState(""),[D,P]=m.useState([]),[ne,de]=m.useState(!1),le=m.useMemo(()=>["","","","","","",""],[]),ce=m.useMemo(()=>["","History","Nature","Food","Culture","Shopping","Art","Relax","Tourism","Experience","Event","HotSpring","ScenicView","Cafe","Hotel","Drink","Fashion","Date","Drive"],[]),Se=B=>({History:"",Nature:"",Food:"",Culture:"",Shopping:"",Art:"",Relax:"",Tourism:"",Experience:"",Event:"",HotSpring:"",ScenicView:"",Cafe:"",Hotel:"",Drink:"",Fashion:"",Date:"",Drive:""})[B]||B;m.useEffect(()=>{const ae=setTimeout(async()=>{try{H(!0),Q(null);const ge={};x!==""&&(ge.area=x),p!==""&&(ge.category=p),d&&(ge.keyword=d);const w=await Os(ge);O(w)}catch(ge){console.error("Failed to fetch spots:",ge),Q(ge.detail||ge.message||"")}finally{H(!1)}},300);return()=>clearTimeout(ae)},[x,p,d]);const se=B=>{S(ae=>ae.includes(B)?ae.filter(ge=>ge!==B):[...ae,B])},J=()=>{localStorage.setItem(el.STORAGE_KEYS.PENDING_SPOTS,JSON.stringify(g)),i("/create")};m.useEffect(()=>{const ae=setTimeout(async()=>{if(!ee.trim()||!M){P([]);return}de(!0);try{const ge=await Os({keyword:ee}),w=new Set(A.map(te=>te.id)),Z=ge.filter(te=>!w.has(te.id));P(Z)}catch(ge){console.error("Failed to search spots:",ge),P([])}finally{de(!1)}},300);return()=>clearTimeout(ae)},[ee,M,A]);const C=B=>{O(ae=>[B,...ae]),X(""),P([]),Y(!1)},G=()=>{Y(!M),X(""),P([])};return R?n.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-8 py-10",children:n.jsx("div",{className:"flex justify-center items-center min-h-[400px]",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"w-16 h-16 border-4 border-primary border-t-transparent rounded-full animate-spin mx-auto mb-4"}),n.jsx("p",{className:"text-text-muted",children:"..."})]})})}):E?n.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-8 py-10",children:n.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-xl p-6 text-center",children:[n.jsx("p",{className:"text-red-600 font-bold mb-2",children:""}),n.jsx("p",{className:"text-red-500 text-sm",children:E})]})}):n.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-8 py-10 min-h-screen pb-32",children:[n.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4 mb-8",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-black text-text-light",children:"My Spot"}),n.jsx("p",{className:"text-text-muted",children:""})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs("div",{className:"bg-white rounded-full p-1 border border-gray-200 flex shadow-sm",children:[n.jsxs("button",{onClick:()=>o("list"),className:`px-4 py-2 rounded-full text-sm font-bold flex items-center gap-1 transition-all ${c==="list"?"bg-primary text-white shadow-md":"text-text-muted hover:bg-gray-50"}`,children:[n.jsx("span",{className:"material-symbols-outlined text-lg",children:"list"})," "]}),n.jsxs("button",{onClick:()=>o("map"),className:`px-4 py-2 rounded-full text-sm font-bold flex items-center gap-1 transition-all ${c==="map"?"bg-primary text-white shadow-md":"text-text-muted hover:bg-gray-50"}`,children:[n.jsx("span",{className:"material-symbols-outlined text-lg",children:"map"})," "]})]}),n.jsxs("button",{onClick:G,className:"bg-primary text-white px-6 py-3 rounded-full font-bold shadow-lg flex items-center gap-2 hover:opacity-90 transition-opacity",children:[n.jsx("span",{className:"material-symbols-outlined",children:M?"close":"add"}),M?"":""]})]})]}),n.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-gray-100 mb-8 space-y-6",children:[n.jsxs("div",{className:"relative",children:[n.jsx("span",{className:"material-symbols-outlined absolute left-4 top-1/2 -translate-y-1/2 text-text-muted",children:"search"}),n.jsx("input",{type:"text",placeholder:"",className:"w-full pl-12 pr-4 py-3 rounded-xl border border-gray-200 bg-gray-50 focus:bg-white focus:ring-2 focus:ring-primary focus:border-transparent transition-all",value:d,onChange:B=>h(B.target.value)})]}),n.jsx("div",{className:"h-px bg-gray-100"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-xs font-bold text-text-muted uppercase tracking-wider mb-3 block",children:""}),n.jsx("div",{className:"flex flex-wrap gap-2",children:le.map(B=>n.jsx("button",{onClick:()=>v(B),className:`px-4 py-2 rounded-lg text-sm font-medium transition-all ${x===B?"bg-secondary text-text-light shadow-sm ring-2 ring-secondary ring-offset-1":"bg-gray-50 text-text-muted hover:bg-gray-100"}`,children:B},B))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-xs font-bold text-text-muted uppercase tracking-wider mb-3 block",children:""}),n.jsx("div",{className:"flex flex-wrap gap-2",children:ce.map(B=>n.jsxs("button",{onClick:()=>b(B),className:`px-4 py-2 rounded-lg text-sm font-medium transition-all flex items-center gap-2 ${p===B?"bg-primary text-white shadow-md ring-2 ring-primary ring-offset-1":"bg-gray-50 text-text-muted hover:bg-gray-100"}`,children:[B!==""&&n.jsx("span",{className:"material-symbols-outlined text-sm",children:B==="Food"?"restaurant":B==="Shopping"?"shopping_bag":B==="Nature"?"forest":B==="History"?"temple_buddhist":"local_activity"}),Se(B)]},B))})]})]})]}),M&&n.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-6 mb-6 animate-fade-in",children:[n.jsxs("h2",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[n.jsx("span",{className:"material-symbols-outlined text-primary",children:"search"}),""]}),n.jsxs("div",{className:"relative mb-4",children:[n.jsx("span",{className:"material-symbols-outlined absolute left-4 top-1/2 -translate-y-1/2 text-text-muted",children:"search"}),n.jsx("input",{type:"text",placeholder:"...",className:"w-full pl-12 pr-4 py-3 rounded-xl border border-gray-200 focus:outline-none focus:ring-2 focus:ring-primary/50",value:ee,onChange:B=>X(B.target.value),autoFocus:!0})]}),ne&&n.jsxs("div",{className:"text-center py-8",children:[n.jsx("div",{className:"w-12 h-12 border-4 border-primary border-t-transparent rounded-full animate-spin mx-auto mb-3"}),n.jsx("p",{className:"text-text-muted text-sm",children:"..."})]}),!ne&&ee&&D.length===0&&n.jsxs("div",{className:"text-center py-8",children:[n.jsx("span",{className:"material-symbols-outlined text-4xl text-gray-300 mb-2 block",children:"search_off"}),n.jsx("p",{className:"text-text-muted",children:""})]}),!ne&&D.length>0&&n.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:D.map(B=>n.jsxs("div",{className:"flex items-center gap-4 p-4 border border-gray-200 rounded-xl hover:border-primary hover:bg-primary/5 transition-all group",children:[n.jsx("img",{src:B.image,className:"w-16 h-16 rounded-lg object-cover shadow-sm",alt:""}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h3",{className:"font-bold text-text-light",children:B.name}),n.jsxs("div",{className:"flex items-center gap-3 text-sm text-text-muted mt-1",children:[n.jsx("span",{children:B.area}),n.jsx("span",{className:"bg-primary/10 text-primary px-2 py-0.5 rounded-full text-xs font-bold",children:B.category})]})]}),n.jsxs("button",{onClick:()=>C(B),className:"bg-primary text-white px-4 py-2 rounded-full font-bold text-sm hover:opacity-90 transition-opacity flex items-center gap-1",children:[n.jsx("span",{className:"material-symbols-outlined text-sm",children:"add"}),""]})]},B.id))}),!ee&&n.jsxs("div",{className:"text-center py-8 text-text-muted text-sm",children:[n.jsx("span",{className:"material-symbols-outlined text-3xl mb-2 block opacity-30",children:"info"}),""]})]}),c==="map"?n.jsxs("div",{className:"mb-8 animate-fade-in",children:[n.jsx(Ch,{spots:y,height:"600px",onSpotClick:B=>{console.log("Clicked",B.name)}}),n.jsxs("p",{className:"text-right text-xs text-text-muted mt-2",children:[": ",y.length," ()"]})]}):n.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden animate-fade-in",children:[n.jsxs("div",{className:"p-4 border-b border-gray-100 flex gap-4",children:[n.jsxs("div",{className:"flex-1 relative",children:[n.jsx("span",{className:"material-symbols-outlined absolute left-3 top-1/2 -translate-y-1/2 text-text-muted",children:"search"}),n.jsx("input",{type:"text",placeholder:"...",className:"w-full pl-10 py-3 rounded-xl border border-gray-200 focus:outline-none focus:ring-2 focus:ring-primary/50",value:d,onChange:B=>h(B.target.value)})]}),n.jsxs("button",{className:"px-4 py-2 border border-gray-200 rounded-xl flex items-center gap-2 text-sm font-bold hover:bg-gray-50",children:[n.jsx("span",{className:"material-symbols-outlined",children:"filter_list"})," "]})]}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full text-left whitespace-nowrap",children:[n.jsx("thead",{className:"bg-gray-50 text-text-muted text-sm",children:n.jsxs("tr",{children:[n.jsx("th",{className:"p-4 w-10"}),n.jsx("th",{className:"p-4",children:""}),n.jsx("th",{className:"p-4",children:""}),n.jsx("th",{className:"p-4",children:""}),n.jsx("th",{className:"p-4 text-right",children:""})]})}),n.jsx("tbody",{className:"divide-y divide-gray-100",children:y.length>0?y.map(B=>{const ae=g.includes(B.id);return n.jsxs("tr",{className:`hover:bg-gray-50 transition-colors cursor-pointer ${ae?"bg-primary/5":""}`,onClick:()=>se(B.id),children:[n.jsx("td",{className:"p-4 text-center",children:n.jsx("div",{className:`w-5 h-5 rounded border flex items-center justify-center ${ae?"bg-primary border-primary text-white":"border-gray-300 bg-white"}`,children:ae&&n.jsx("span",{className:"material-symbols-outlined text-sm",children:"check"})})}),n.jsxs("td",{className:"p-4 flex items-center gap-3",children:[n.jsx("img",{src:B.image,className:"w-12 h-12 rounded-lg object-cover shadow-sm",alt:""}),n.jsx("span",{className:"font-bold",children:B.name})]}),n.jsx("td",{className:"p-4",children:B.area}),n.jsx("td",{className:"p-4",children:n.jsx("span",{className:"bg-primary/10 text-primary px-3 py-1 rounded-full text-xs font-bold",children:B.category})}),n.jsxs("td",{className:"p-4 text-right",children:[n.jsx("button",{className:"p-2 hover:bg-gray-200 rounded-full text-text-muted transition-colors mr-2",title:"",children:n.jsx("span",{className:"material-symbols-outlined",children:"edit"})}),n.jsx("button",{className:"p-2 hover:bg-red-100 rounded-full text-red-500 transition-colors",title:"",children:n.jsx("span",{className:"material-symbols-outlined",children:"delete"})})]})]},B.id)}):n.jsx("tr",{children:n.jsxs("td",{colSpan:5,className:"p-12 text-center text-text-muted",children:[n.jsx("span",{className:"material-symbols-outlined text-4xl mb-2 block",children:"search_off"}),""]})})})]})})]}),g.length>0&&n.jsxs("div",{className:"fixed bottom-8 left-1/2 -translate-x-1/2 bg-gray-900 text-white pl-6 pr-2 py-2 rounded-full shadow-2xl flex items-center gap-6 z-50 animate-bounce-in border border-gray-700",children:[n.jsxs("div",{className:"flex flex-col",children:[n.jsxs("span",{className:"font-bold text-sm",children:[g.length,""]}),n.jsx("span",{className:"text-xs text-gray-400",children:""})]}),n.jsxs("button",{onClick:J,className:"bg-primary hover:bg-primary/90 text-white px-6 py-3 rounded-full font-bold text-sm shadow-lg transition-all flex items-center gap-2",children:[n.jsx("span",{className:"material-symbols-outlined",children:"auto_awesome"}),""]})]})]})},Ah=({isOpen:i,onClose:c,onAddSpot:o,area:d,existingSpotIds:h=new Set})=>{const[x,v]=m.useState([]),[p,b]=m.useState(!1),[g,S]=m.useState(""),[y,O]=m.useState(""),[A,V]=m.useState(d||""),R=[{value:"",label:""},{value:"History",label:""},{value:"Nature",label:""},{value:"Food",label:""},{value:"Culture",label:""},{value:"Shopping",label:""},{value:"Art",label:""},{value:"Relax",label:""},{value:"Tourism",label:""},{value:"Experience",label:""},{value:"Event",label:""},{value:"HotSpring",label:""},{value:"ScenicView",label:""},{value:"Cafe",label:""},{value:"Hotel",label:""},{value:"Drink",label:""},{value:"Fashion",label:""},{value:"Date",label:""},{value:"Drive",label:""}];m.useEffect(()=>{i&&H()},[i,A,y,g]);const H=async()=>{b(!0);try{const Y=await Os({area:A||void 0,category:y||void 0,keyword:g||void 0,limit:100});v(Y)}catch(M){console.error("Failed to load spots:",M),alert("")}finally{b(!1)}},E=M=>{if(h.has(M.id)){alert("");return}o(M),c()};if(!i)return null;const Q=x.filter(M=>!h.has(M.id));return n.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4 animate-fade-in",children:n.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-4xl max-h-[80vh] flex flex-col shadow-2xl overflow-hidden",children:[n.jsxs("div",{className:"p-4 border-b border-gray-100 flex justify-between items-center bg-gray-50",children:[n.jsx("h3",{className:"font-bold text-lg",children:""}),n.jsx("button",{onClick:c,className:"p-2 hover:bg-gray-200 rounded-full transition-colors",children:n.jsx("span",{className:"material-symbols-outlined",children:"close"})})]}),n.jsx("div",{className:"p-4 border-b border-gray-100 bg-white",children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-bold text-text-muted mb-2",children:""}),n.jsx("input",{type:"text",placeholder:": ",className:"w-full px-4 py-2 bg-gray-50 rounded-lg border border-gray-200 focus:border-primary focus:outline-none",value:A,onChange:M=>V(M.target.value)})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-bold text-text-muted mb-2",children:""}),n.jsx("select",{className:"w-full px-4 py-2 bg-gray-50 rounded-lg border border-gray-200 focus:border-primary focus:outline-none",value:y,onChange:M=>O(M.target.value),children:R.map(M=>n.jsx("option",{value:M.value,children:M.label},M.value))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-bold text-text-muted mb-2",children:""}),n.jsxs("div",{className:"relative",children:[n.jsx("span",{className:"material-symbols-outlined absolute left-4 top-1/2 -translate-y-1/2 text-text-muted",children:"search"}),n.jsx("input",{type:"text",placeholder:"...",className:"w-full pl-12 pr-4 py-2 bg-gray-50 rounded-lg border border-gray-200 focus:border-primary focus:outline-none",value:g,onChange:M=>S(M.target.value)})]})]}),n.jsx("button",{onClick:H,disabled:p,className:"w-full bg-primary text-white py-2 rounded-lg font-bold shadow-lg hover:opacity-90 disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:p?"...":""})]})}),n.jsx("div",{className:"flex-1 overflow-y-auto p-4 bg-white",children:p?n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsx("div",{className:"w-8 h-8 border-4 border-primary border-t-transparent rounded-full animate-spin"})}):Q.length===0?n.jsxs("div",{className:"text-center py-12 text-text-muted",children:[n.jsx("p",{className:"font-bold mb-2",children:""}),n.jsx("p",{className:"text-sm",children:""})]}):n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:Q.map(M=>{var Y;return n.jsxs("div",{onClick:()=>E(M),className:"cursor-pointer hover:bg-primary/5 hover:border-primary p-3 rounded-xl border border-gray-100 flex gap-3 items-center transition-all group",children:[n.jsx("img",{src:M.image,className:"w-16 h-16 rounded-lg object-cover flex-shrink-0",alt:M.name}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"font-bold text-sm group-hover:text-primary truncate",children:M.name}),n.jsxs("p",{className:"text-xs text-text-muted truncate",children:[M.area," / ",((Y=R.find(ee=>ee.value===M.category))==null?void 0:Y.label)||M.category]}),M.description&&n.jsx("p",{className:"text-xs text-text-muted mt-1 line-clamp-2",children:M.description})]}),n.jsx("div",{className:"ml-auto opacity-0 group-hover:opacity-100 text-primary",children:n.jsx("span",{className:"material-symbols-outlined",children:"add_circle"})})]},M.id)})})})]})})};var Es=yh();function Pp(){for(var i=arguments.length,c=new Array(i),o=0;o<i;o++)c[o]=arguments[o];return m.useMemo(()=>d=>{c.forEach(h=>h(d))},c)}const or=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function On(i){const c=Object.prototype.toString.call(i);return c==="[object Window]"||c==="[object global]"}function Qo(i){return"nodeType"in i}function tl(i){var c,o;return i?On(i)?i:Qo(i)&&(c=(o=i.ownerDocument)==null?void 0:o.defaultView)!=null?c:window:window}function Zo(i){const{Document:c}=tl(i);return i instanceof c}function Ls(i){return On(i)?!1:i instanceof tl(i).HTMLElement}function Dh(i){return i instanceof tl(i).SVGElement}function Rn(i){return i?On(i)?i.document:Qo(i)?Zo(i)?i:Ls(i)||Dh(i)?i.ownerDocument:document:document:document}const Hl=or?m.useLayoutEffect:m.useEffect;function Vo(i){const c=m.useRef(i);return Hl(()=>{c.current=i}),m.useCallback(function(){for(var o=arguments.length,d=new Array(o),h=0;h<o;h++)d[h]=arguments[h];return c.current==null?void 0:c.current(...d)},[])}function eb(){const i=m.useRef(null),c=m.useCallback((d,h)=>{i.current=setInterval(d,h)},[]),o=m.useCallback(()=>{i.current!==null&&(clearInterval(i.current),i.current=null)},[]);return[c,o]}function Rs(i,c){c===void 0&&(c=[i]);const o=m.useRef(i);return Hl(()=>{o.current!==i&&(o.current=i)},c),o}function Bs(i,c){const o=m.useRef();return m.useMemo(()=>{const d=i(o.current);return o.current=d,d},[...c])}function nr(i){const c=Vo(i),o=m.useRef(null),d=m.useCallback(h=>{h!==o.current&&(c==null||c(h,o.current)),o.current=h},[]);return[o,d]}function Uo(i){const c=m.useRef();return m.useEffect(()=>{c.current=i},[i]),c.current}let Ao={};function Ys(i,c){return m.useMemo(()=>{if(c)return c;const o=Ao[i]==null?0:Ao[i]+1;return Ao[i]=o,i+"-"+o},[i,c])}function _h(i){return function(c){for(var o=arguments.length,d=new Array(o>1?o-1:0),h=1;h<o;h++)d[h-1]=arguments[h];return d.reduce((x,v)=>{const p=Object.entries(v);for(const[b,g]of p){const S=x[b];S!=null&&(x[b]=S+i*g)}return x},{...c})}}const Mn=_h(1),Us=_h(-1);function tb(i){return"clientX"in i&&"clientY"in i}function Ko(i){if(!i)return!1;const{KeyboardEvent:c}=tl(i.target);return c&&i instanceof c}function lb(i){if(!i)return!1;const{TouchEvent:c}=tl(i.target);return c&&i instanceof c}function ko(i){if(lb(i)){if(i.touches&&i.touches.length){const{clientX:c,clientY:o}=i.touches[0];return{x:c,y:o}}else if(i.changedTouches&&i.changedTouches.length){const{clientX:c,clientY:o}=i.changedTouches[0];return{x:c,y:o}}}return tb(i)?{x:i.clientX,y:i.clientY}:null}const ks=Object.freeze({Translate:{toString(i){if(!i)return;const{x:c,y:o}=i;return"translate3d("+(c?Math.round(c):0)+"px, "+(o?Math.round(o):0)+"px, 0)"}},Scale:{toString(i){if(!i)return;const{scaleX:c,scaleY:o}=i;return"scaleX("+c+") scaleY("+o+")"}},Transform:{toString(i){if(i)return[ks.Translate.toString(i),ks.Scale.toString(i)].join(" ")}},Transition:{toString(i){let{property:c,duration:o,easing:d}=i;return c+" "+o+"ms "+d}}}),nh="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function ab(i){return i.matches(nh)?i:i.querySelector(nh)}const nb={display:"none"};function sb(i){let{id:c,value:o}=i;return Ct.createElement("div",{id:c,style:nb},o)}function ib(i){let{id:c,announcement:o,ariaLiveType:d="assertive"}=i;const h={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return Ct.createElement("div",{id:c,style:h,role:"status","aria-live":d,"aria-atomic":!0},o)}function rb(){const[i,c]=m.useState("");return{announce:m.useCallback(d=>{d!=null&&c(d)},[]),announcement:i}}const Mh=m.createContext(null);function cb(i){const c=m.useContext(Mh);m.useEffect(()=>{if(!c)throw new Error("useDndMonitor must be used within a children of <DndContext>");return c(i)},[i,c])}function ob(){const[i]=m.useState(()=>new Set),c=m.useCallback(d=>(i.add(d),()=>i.delete(d)),[i]);return[m.useCallback(d=>{let{type:h,event:x}=d;i.forEach(v=>{var p;return(p=v[h])==null?void 0:p.call(v,x)})},[i]),c]}const ub={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},db={onDragStart(i){let{active:c}=i;return"Picked up draggable item "+c.id+"."},onDragOver(i){let{active:c,over:o}=i;return o?"Draggable item "+c.id+" was moved over droppable area "+o.id+".":"Draggable item "+c.id+" is no longer over a droppable area."},onDragEnd(i){let{active:c,over:o}=i;return o?"Draggable item "+c.id+" was dropped over droppable area "+o.id:"Draggable item "+c.id+" was dropped."},onDragCancel(i){let{active:c}=i;return"Dragging was cancelled. Draggable item "+c.id+" was dropped."}};function fb(i){let{announcements:c=db,container:o,hiddenTextDescribedById:d,screenReaderInstructions:h=ub}=i;const{announce:x,announcement:v}=rb(),p=Ys("DndLiveRegion"),[b,g]=m.useState(!1);if(m.useEffect(()=>{g(!0)},[]),cb(m.useMemo(()=>({onDragStart(y){let{active:O}=y;x(c.onDragStart({active:O}))},onDragMove(y){let{active:O,over:A}=y;c.onDragMove&&x(c.onDragMove({active:O,over:A}))},onDragOver(y){let{active:O,over:A}=y;x(c.onDragOver({active:O,over:A}))},onDragEnd(y){let{active:O,over:A}=y;x(c.onDragEnd({active:O,over:A}))},onDragCancel(y){let{active:O,over:A}=y;x(c.onDragCancel({active:O,over:A}))}}),[x,c])),!b)return null;const S=Ct.createElement(Ct.Fragment,null,Ct.createElement(sb,{id:d,value:h.draggable}),Ct.createElement(ib,{id:p,announcement:v}));return o?Es.createPortal(S,o):S}var bt;(function(i){i.DragStart="dragStart",i.DragMove="dragMove",i.DragEnd="dragEnd",i.DragCancel="dragCancel",i.DragOver="dragOver",i.RegisterDroppable="registerDroppable",i.SetDroppableDisabled="setDroppableDisabled",i.UnregisterDroppable="unregisterDroppable"})(bt||(bt={}));function sr(){}function sh(i,c){return m.useMemo(()=>({sensor:i,options:c??{}}),[i,c])}function mb(){for(var i=arguments.length,c=new Array(i),o=0;o<i;o++)c[o]=arguments[o];return m.useMemo(()=>[...c].filter(d=>d!=null),[...c])}const _l=Object.freeze({x:0,y:0});function zh(i,c){return Math.sqrt(Math.pow(i.x-c.x,2)+Math.pow(i.y-c.y,2))}function Oh(i,c){let{data:{value:o}}=i,{data:{value:d}}=c;return o-d}function hb(i,c){let{data:{value:o}}=i,{data:{value:d}}=c;return d-o}function ih(i){let{left:c,top:o,height:d,width:h}=i;return[{x:c,y:o},{x:c+h,y:o},{x:c,y:o+d},{x:c+h,y:o+d}]}function Rh(i,c){if(!i||i.length===0)return null;const[o]=i;return o[c]}function rh(i,c,o){return c===void 0&&(c=i.left),o===void 0&&(o=i.top),{x:c+i.width*.5,y:o+i.height*.5}}const xb=i=>{let{collisionRect:c,droppableRects:o,droppableContainers:d}=i;const h=rh(c,c.left,c.top),x=[];for(const v of d){const{id:p}=v,b=o.get(p);if(b){const g=zh(rh(b),h);x.push({id:p,data:{droppableContainer:v,value:g}})}}return x.sort(Oh)},gb=i=>{let{collisionRect:c,droppableRects:o,droppableContainers:d}=i;const h=ih(c),x=[];for(const v of d){const{id:p}=v,b=o.get(p);if(b){const g=ih(b),S=h.reduce((O,A,V)=>O+zh(g[V],A),0),y=Number((S/4).toFixed(4));x.push({id:p,data:{droppableContainer:v,value:y}})}}return x.sort(Oh)};function pb(i,c){const o=Math.max(c.top,i.top),d=Math.max(c.left,i.left),h=Math.min(c.left+c.width,i.left+i.width),x=Math.min(c.top+c.height,i.top+i.height),v=h-d,p=x-o;if(d<h&&o<x){const b=c.width*c.height,g=i.width*i.height,S=v*p,y=S/(b+g-S);return Number(y.toFixed(4))}return 0}const bb=i=>{let{collisionRect:c,droppableRects:o,droppableContainers:d}=i;const h=[];for(const x of d){const{id:v}=x,p=o.get(v);if(p){const b=pb(p,c);b>0&&h.push({id:v,data:{droppableContainer:x,value:b}})}}return h.sort(hb)};function yb(i,c,o){return{...i,scaleX:c&&o?c.width/o.width:1,scaleY:c&&o?c.height/o.height:1}}function Uh(i,c){return i&&c?{x:i.left-c.left,y:i.top-c.top}:_l}function vb(i){return function(o){for(var d=arguments.length,h=new Array(d>1?d-1:0),x=1;x<d;x++)h[x-1]=arguments[x];return h.reduce((v,p)=>({...v,top:v.top+i*p.y,bottom:v.bottom+i*p.y,left:v.left+i*p.x,right:v.right+i*p.x}),{...o})}}const jb=vb(1);function Nb(i){if(i.startsWith("matrix3d(")){const c=i.slice(9,-1).split(/, /);return{x:+c[12],y:+c[13],scaleX:+c[0],scaleY:+c[5]}}else if(i.startsWith("matrix(")){const c=i.slice(7,-1).split(/, /);return{x:+c[4],y:+c[5],scaleX:+c[0],scaleY:+c[3]}}return null}function Sb(i,c,o){const d=Nb(c);if(!d)return i;const{scaleX:h,scaleY:x,x:v,y:p}=d,b=i.left-v-(1-h)*parseFloat(o),g=i.top-p-(1-x)*parseFloat(o.slice(o.indexOf(" ")+1)),S=h?i.width/h:i.width,y=x?i.height/x:i.height;return{width:S,height:y,top:g,right:b+S,bottom:g+y,left:b}}const wb={ignoreTransform:!1};function Un(i,c){c===void 0&&(c=wb);let o=i.getBoundingClientRect();if(c.ignoreTransform){const{transform:g,transformOrigin:S}=tl(i).getComputedStyle(i);g&&(o=Sb(o,g,S))}const{top:d,left:h,width:x,height:v,bottom:p,right:b}=o;return{top:d,left:h,width:x,height:v,bottom:p,right:b}}function ch(i){return Un(i,{ignoreTransform:!0})}function Tb(i){const c=i.innerWidth,o=i.innerHeight;return{top:0,left:0,right:c,bottom:o,width:c,height:o}}function Cb(i,c){return c===void 0&&(c=tl(i).getComputedStyle(i)),c.position==="fixed"}function Eb(i,c){c===void 0&&(c=tl(i).getComputedStyle(i));const o=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(h=>{const x=c[h];return typeof x=="string"?o.test(x):!1})}function ur(i,c){const o=[];function d(h){if(c!=null&&o.length>=c||!h)return o;if(Zo(h)&&h.scrollingElement!=null&&!o.includes(h.scrollingElement))return o.push(h.scrollingElement),o;if(!Ls(h)||Dh(h)||o.includes(h))return o;const x=tl(i).getComputedStyle(h);return h!==i&&Eb(h,x)&&o.push(h),Cb(h,x)?o:d(h.parentNode)}return i?d(i):o}function kh(i){const[c]=ur(i,1);return c??null}function Do(i){return!or||!i?null:On(i)?i:Qo(i)?Zo(i)||i===Rn(i).scrollingElement?window:Ls(i)?i:null:null}function Hh(i){return On(i)?i.scrollX:i.scrollLeft}function Lh(i){return On(i)?i.scrollY:i.scrollTop}function Ho(i){return{x:Hh(i),y:Lh(i)}}var Tt;(function(i){i[i.Forward=1]="Forward",i[i.Backward=-1]="Backward"})(Tt||(Tt={}));function Bh(i){return!or||!i?!1:i===document.scrollingElement}function Yh(i){const c={x:0,y:0},o=Bh(i)?{height:window.innerHeight,width:window.innerWidth}:{height:i.clientHeight,width:i.clientWidth},d={x:i.scrollWidth-o.width,y:i.scrollHeight-o.height},h=i.scrollTop<=c.y,x=i.scrollLeft<=c.x,v=i.scrollTop>=d.y,p=i.scrollLeft>=d.x;return{isTop:h,isLeft:x,isBottom:v,isRight:p,maxScroll:d,minScroll:c}}const Ab={x:.2,y:.2};function Db(i,c,o,d,h){let{top:x,left:v,right:p,bottom:b}=o;d===void 0&&(d=10),h===void 0&&(h=Ab);const{isTop:g,isBottom:S,isLeft:y,isRight:O}=Yh(i),A={x:0,y:0},V={x:0,y:0},R={height:c.height*h.y,width:c.width*h.x};return!g&&x<=c.top+R.height?(A.y=Tt.Backward,V.y=d*Math.abs((c.top+R.height-x)/R.height)):!S&&b>=c.bottom-R.height&&(A.y=Tt.Forward,V.y=d*Math.abs((c.bottom-R.height-b)/R.height)),!O&&p>=c.right-R.width?(A.x=Tt.Forward,V.x=d*Math.abs((c.right-R.width-p)/R.width)):!y&&v<=c.left+R.width&&(A.x=Tt.Backward,V.x=d*Math.abs((c.left+R.width-v)/R.width)),{direction:A,speed:V}}function _b(i){if(i===document.scrollingElement){const{innerWidth:x,innerHeight:v}=window;return{top:0,left:0,right:x,bottom:v,width:x,height:v}}const{top:c,left:o,right:d,bottom:h}=i.getBoundingClientRect();return{top:c,left:o,right:d,bottom:h,width:i.clientWidth,height:i.clientHeight}}function Gh(i){return i.reduce((c,o)=>Mn(c,Ho(o)),_l)}function Mb(i){return i.reduce((c,o)=>c+Hh(o),0)}function zb(i){return i.reduce((c,o)=>c+Lh(o),0)}function Ob(i,c){if(c===void 0&&(c=Un),!i)return;const{top:o,left:d,bottom:h,right:x}=c(i);kh(i)&&(h<=0||x<=0||o>=window.innerHeight||d>=window.innerWidth)&&i.scrollIntoView({block:"center",inline:"center"})}const Rb=[["x",["left","right"],Mb],["y",["top","bottom"],zb]];class Jo{constructor(c,o){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const d=ur(o),h=Gh(d);this.rect={...c},this.width=c.width,this.height=c.height;for(const[x,v,p]of Rb)for(const b of v)Object.defineProperty(this,b,{get:()=>{const g=p(d),S=h[x]-g;return this.rect[b]+S},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class Ds{constructor(c){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(o=>{var d;return(d=this.target)==null?void 0:d.removeEventListener(...o)})},this.target=c}add(c,o,d){var h;(h=this.target)==null||h.addEventListener(c,o,d),this.listeners.push([c,o,d])}}function Ub(i){const{EventTarget:c}=tl(i);return i instanceof c?i:Rn(i)}function _o(i,c){const o=Math.abs(i.x),d=Math.abs(i.y);return typeof c=="number"?Math.sqrt(o**2+d**2)>c:"x"in c&&"y"in c?o>c.x&&d>c.y:"x"in c?o>c.x:"y"in c?d>c.y:!1}var wl;(function(i){i.Click="click",i.DragStart="dragstart",i.Keydown="keydown",i.ContextMenu="contextmenu",i.Resize="resize",i.SelectionChange="selectionchange",i.VisibilityChange="visibilitychange"})(wl||(wl={}));function oh(i){i.preventDefault()}function kb(i){i.stopPropagation()}var ke;(function(i){i.Space="Space",i.Down="ArrowDown",i.Right="ArrowRight",i.Left="ArrowLeft",i.Up="ArrowUp",i.Esc="Escape",i.Enter="Enter",i.Tab="Tab"})(ke||(ke={}));const qh={start:[ke.Space,ke.Enter],cancel:[ke.Esc],end:[ke.Space,ke.Enter,ke.Tab]},Hb=(i,c)=>{let{currentCoordinates:o}=c;switch(i.code){case ke.Right:return{...o,x:o.x+25};case ke.Left:return{...o,x:o.x-25};case ke.Down:return{...o,y:o.y+25};case ke.Up:return{...o,y:o.y-25}}};class $o{constructor(c){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=c;const{event:{target:o}}=c;this.props=c,this.listeners=new Ds(Rn(o)),this.windowListeners=new Ds(tl(o)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(wl.Resize,this.handleCancel),this.windowListeners.add(wl.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(wl.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:c,onStart:o}=this.props,d=c.node.current;d&&Ob(d),o(_l)}handleKeyDown(c){if(Ko(c)){const{active:o,context:d,options:h}=this.props,{keyboardCodes:x=qh,coordinateGetter:v=Hb,scrollBehavior:p="smooth"}=h,{code:b}=c;if(x.end.includes(b)){this.handleEnd(c);return}if(x.cancel.includes(b)){this.handleCancel(c);return}const{collisionRect:g}=d.current,S=g?{x:g.left,y:g.top}:_l;this.referenceCoordinates||(this.referenceCoordinates=S);const y=v(c,{active:o,context:d.current,currentCoordinates:S});if(y){const O=Us(y,S),A={x:0,y:0},{scrollableAncestors:V}=d.current;for(const R of V){const H=c.code,{isTop:E,isRight:Q,isLeft:M,isBottom:Y,maxScroll:ee,minScroll:X}=Yh(R),D=_b(R),P={x:Math.min(H===ke.Right?D.right-D.width/2:D.right,Math.max(H===ke.Right?D.left:D.left+D.width/2,y.x)),y:Math.min(H===ke.Down?D.bottom-D.height/2:D.bottom,Math.max(H===ke.Down?D.top:D.top+D.height/2,y.y))},ne=H===ke.Right&&!Q||H===ke.Left&&!M,de=H===ke.Down&&!Y||H===ke.Up&&!E;if(ne&&P.x!==y.x){const le=R.scrollLeft+O.x,ce=H===ke.Right&&le<=ee.x||H===ke.Left&&le>=X.x;if(ce&&!O.y){R.scrollTo({left:le,behavior:p});return}ce?A.x=R.scrollLeft-le:A.x=H===ke.Right?R.scrollLeft-ee.x:R.scrollLeft-X.x,A.x&&R.scrollBy({left:-A.x,behavior:p});break}else if(de&&P.y!==y.y){const le=R.scrollTop+O.y,ce=H===ke.Down&&le<=ee.y||H===ke.Up&&le>=X.y;if(ce&&!O.x){R.scrollTo({top:le,behavior:p});return}ce?A.y=R.scrollTop-le:A.y=H===ke.Down?R.scrollTop-ee.y:R.scrollTop-X.y,A.y&&R.scrollBy({top:-A.y,behavior:p});break}}this.handleMove(c,Mn(Us(y,this.referenceCoordinates),A))}}}handleMove(c,o){const{onMove:d}=this.props;c.preventDefault(),d(o)}handleEnd(c){const{onEnd:o}=this.props;c.preventDefault(),this.detach(),o()}handleCancel(c){const{onCancel:o}=this.props;c.preventDefault(),this.detach(),o()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}$o.activators=[{eventName:"onKeyDown",handler:(i,c,o)=>{let{keyboardCodes:d=qh,onActivation:h}=c,{active:x}=o;const{code:v}=i.nativeEvent;if(d.start.includes(v)){const p=x.activatorNode.current;return p&&i.target!==p?!1:(i.preventDefault(),h==null||h({event:i.nativeEvent}),!0)}return!1}}];function uh(i){return!!(i&&"distance"in i)}function dh(i){return!!(i&&"delay"in i)}class Fo{constructor(c,o,d){var h;d===void 0&&(d=Ub(c.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=c,this.events=o;const{event:x}=c,{target:v}=x;this.props=c,this.events=o,this.document=Rn(v),this.documentListeners=new Ds(this.document),this.listeners=new Ds(d),this.windowListeners=new Ds(tl(v)),this.initialCoordinates=(h=ko(x))!=null?h:_l,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:c,props:{options:{activationConstraint:o,bypassActivationConstraint:d}}}=this;if(this.listeners.add(c.move.name,this.handleMove,{passive:!1}),this.listeners.add(c.end.name,this.handleEnd),c.cancel&&this.listeners.add(c.cancel.name,this.handleCancel),this.windowListeners.add(wl.Resize,this.handleCancel),this.windowListeners.add(wl.DragStart,oh),this.windowListeners.add(wl.VisibilityChange,this.handleCancel),this.windowListeners.add(wl.ContextMenu,oh),this.documentListeners.add(wl.Keydown,this.handleKeydown),o){if(d!=null&&d({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(dh(o)){this.timeoutId=setTimeout(this.handleStart,o.delay),this.handlePending(o);return}if(uh(o)){this.handlePending(o);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(c,o){const{active:d,onPending:h}=this.props;h(d,c,this.initialCoordinates,o)}handleStart(){const{initialCoordinates:c}=this,{onStart:o}=this.props;c&&(this.activated=!0,this.documentListeners.add(wl.Click,kb,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(wl.SelectionChange,this.removeTextSelection),o(c))}handleMove(c){var o;const{activated:d,initialCoordinates:h,props:x}=this,{onMove:v,options:{activationConstraint:p}}=x;if(!h)return;const b=(o=ko(c))!=null?o:_l,g=Us(h,b);if(!d&&p){if(uh(p)){if(p.tolerance!=null&&_o(g,p.tolerance))return this.handleCancel();if(_o(g,p.distance))return this.handleStart()}if(dh(p)&&_o(g,p.tolerance))return this.handleCancel();this.handlePending(p,g);return}c.cancelable&&c.preventDefault(),v(b)}handleEnd(){const{onAbort:c,onEnd:o}=this.props;this.detach(),this.activated||c(this.props.active),o()}handleCancel(){const{onAbort:c,onCancel:o}=this.props;this.detach(),this.activated||c(this.props.active),o()}handleKeydown(c){c.code===ke.Esc&&this.handleCancel()}removeTextSelection(){var c;(c=this.document.getSelection())==null||c.removeAllRanges()}}const Lb={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class Io extends Fo{constructor(c){const{event:o}=c,d=Rn(o.target);super(c,Lb,d)}}Io.activators=[{eventName:"onPointerDown",handler:(i,c)=>{let{nativeEvent:o}=i,{onActivation:d}=c;return!o.isPrimary||o.button!==0?!1:(d==null||d({event:o}),!0)}}];const Bb={move:{name:"mousemove"},end:{name:"mouseup"}};var Lo;(function(i){i[i.RightClick=2]="RightClick"})(Lo||(Lo={}));class Yb extends Fo{constructor(c){super(c,Bb,Rn(c.event.target))}}Yb.activators=[{eventName:"onMouseDown",handler:(i,c)=>{let{nativeEvent:o}=i,{onActivation:d}=c;return o.button===Lo.RightClick?!1:(d==null||d({event:o}),!0)}}];const Mo={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class Gb extends Fo{constructor(c){super(c,Mo)}static setup(){return window.addEventListener(Mo.move.name,c,{capture:!1,passive:!1}),function(){window.removeEventListener(Mo.move.name,c)};function c(){}}}Gb.activators=[{eventName:"onTouchStart",handler:(i,c)=>{let{nativeEvent:o}=i,{onActivation:d}=c;const{touches:h}=o;return h.length>1?!1:(d==null||d({event:o}),!0)}}];var _s;(function(i){i[i.Pointer=0]="Pointer",i[i.DraggableRect=1]="DraggableRect"})(_s||(_s={}));var ir;(function(i){i[i.TreeOrder=0]="TreeOrder",i[i.ReversedTreeOrder=1]="ReversedTreeOrder"})(ir||(ir={}));function qb(i){let{acceleration:c,activator:o=_s.Pointer,canScroll:d,draggingRect:h,enabled:x,interval:v=5,order:p=ir.TreeOrder,pointerCoordinates:b,scrollableAncestors:g,scrollableAncestorRects:S,delta:y,threshold:O}=i;const A=Qb({delta:y,disabled:!x}),[V,R]=eb(),H=m.useRef({x:0,y:0}),E=m.useRef({x:0,y:0}),Q=m.useMemo(()=>{switch(o){case _s.Pointer:return b?{top:b.y,bottom:b.y,left:b.x,right:b.x}:null;case _s.DraggableRect:return h}},[o,h,b]),M=m.useRef(null),Y=m.useCallback(()=>{const X=M.current;if(!X)return;const D=H.current.x*E.current.x,P=H.current.y*E.current.y;X.scrollBy(D,P)},[]),ee=m.useMemo(()=>p===ir.TreeOrder?[...g].reverse():g,[p,g]);m.useEffect(()=>{if(!x||!g.length||!Q){R();return}for(const X of ee){if((d==null?void 0:d(X))===!1)continue;const D=g.indexOf(X),P=S[D];if(!P)continue;const{direction:ne,speed:de}=Db(X,P,Q,c,O);for(const le of["x","y"])A[le][ne[le]]||(de[le]=0,ne[le]=0);if(de.x>0||de.y>0){R(),M.current=X,V(Y,v),H.current=de,E.current=ne;return}}H.current={x:0,y:0},E.current={x:0,y:0},R()},[c,Y,d,R,x,v,JSON.stringify(Q),JSON.stringify(A),V,g,ee,S,JSON.stringify(O)])}const Xb={x:{[Tt.Backward]:!1,[Tt.Forward]:!1},y:{[Tt.Backward]:!1,[Tt.Forward]:!1}};function Qb(i){let{delta:c,disabled:o}=i;const d=Uo(c);return Bs(h=>{if(o||!d||!h)return Xb;const x={x:Math.sign(c.x-d.x),y:Math.sign(c.y-d.y)};return{x:{[Tt.Backward]:h.x[Tt.Backward]||x.x===-1,[Tt.Forward]:h.x[Tt.Forward]||x.x===1},y:{[Tt.Backward]:h.y[Tt.Backward]||x.y===-1,[Tt.Forward]:h.y[Tt.Forward]||x.y===1}}},[o,c,d])}function Zb(i,c){const o=c!=null?i.get(c):void 0,d=o?o.node.current:null;return Bs(h=>{var x;return c==null?null:(x=d??h)!=null?x:null},[d,c])}function Vb(i,c){return m.useMemo(()=>i.reduce((o,d)=>{const{sensor:h}=d,x=h.activators.map(v=>({eventName:v.eventName,handler:c(v.handler,d)}));return[...o,...x]},[]),[i,c])}var Hs;(function(i){i[i.Always=0]="Always",i[i.BeforeDragging=1]="BeforeDragging",i[i.WhileDragging=2]="WhileDragging"})(Hs||(Hs={}));var Bo;(function(i){i.Optimized="optimized"})(Bo||(Bo={}));const fh=new Map;function Kb(i,c){let{dragging:o,dependencies:d,config:h}=c;const[x,v]=m.useState(null),{frequency:p,measure:b,strategy:g}=h,S=m.useRef(i),y=H(),O=Rs(y),A=m.useCallback(function(E){E===void 0&&(E=[]),!O.current&&v(Q=>Q===null?E:Q.concat(E.filter(M=>!Q.includes(M))))},[O]),V=m.useRef(null),R=Bs(E=>{if(y&&!o)return fh;if(!E||E===fh||S.current!==i||x!=null){const Q=new Map;for(let M of i){if(!M)continue;if(x&&x.length>0&&!x.includes(M.id)&&M.rect.current){Q.set(M.id,M.rect.current);continue}const Y=M.node.current,ee=Y?new Jo(b(Y),Y):null;M.rect.current=ee,ee&&Q.set(M.id,ee)}return Q}return E},[i,x,o,y,b]);return m.useEffect(()=>{S.current=i},[i]),m.useEffect(()=>{y||A()},[o,y]),m.useEffect(()=>{x&&x.length>0&&v(null)},[JSON.stringify(x)]),m.useEffect(()=>{y||typeof p!="number"||V.current!==null||(V.current=setTimeout(()=>{A(),V.current=null},p))},[p,y,A,...d]),{droppableRects:R,measureDroppableContainers:A,measuringScheduled:x!=null};function H(){switch(g){case Hs.Always:return!1;case Hs.BeforeDragging:return o;default:return!o}}}function Xh(i,c){return Bs(o=>i?o||(typeof c=="function"?c(i):i):null,[c,i])}function Jb(i,c){return Xh(i,c)}function $b(i){let{callback:c,disabled:o}=i;const d=Vo(c),h=m.useMemo(()=>{if(o||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:x}=window;return new x(d)},[d,o]);return m.useEffect(()=>()=>h==null?void 0:h.disconnect(),[h]),h}function dr(i){let{callback:c,disabled:o}=i;const d=Vo(c),h=m.useMemo(()=>{if(o||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:x}=window;return new x(d)},[o]);return m.useEffect(()=>()=>h==null?void 0:h.disconnect(),[h]),h}function Fb(i){return new Jo(Un(i),i)}function mh(i,c,o){c===void 0&&(c=Fb);const[d,h]=m.useState(null);function x(){h(b=>{if(!i)return null;if(i.isConnected===!1){var g;return(g=b??o)!=null?g:null}const S=c(i);return JSON.stringify(b)===JSON.stringify(S)?b:S})}const v=$b({callback(b){if(i)for(const g of b){const{type:S,target:y}=g;if(S==="childList"&&y instanceof HTMLElement&&y.contains(i)){x();break}}}}),p=dr({callback:x});return Hl(()=>{x(),i?(p==null||p.observe(i),v==null||v.observe(document.body,{childList:!0,subtree:!0})):(p==null||p.disconnect(),v==null||v.disconnect())},[i]),d}function Ib(i){const c=Xh(i);return Uh(i,c)}const hh=[];function Wb(i){const c=m.useRef(i),o=Bs(d=>i?d&&d!==hh&&i&&c.current&&i.parentNode===c.current.parentNode?d:ur(i):hh,[i]);return m.useEffect(()=>{c.current=i},[i]),o}function Pb(i){const[c,o]=m.useState(null),d=m.useRef(i),h=m.useCallback(x=>{const v=Do(x.target);v&&o(p=>p?(p.set(v,Ho(v)),new Map(p)):null)},[]);return m.useEffect(()=>{const x=d.current;if(i!==x){v(x);const p=i.map(b=>{const g=Do(b);return g?(g.addEventListener("scroll",h,{passive:!0}),[g,Ho(g)]):null}).filter(b=>b!=null);o(p.length?new Map(p):null),d.current=i}return()=>{v(i),v(x)};function v(p){p.forEach(b=>{const g=Do(b);g==null||g.removeEventListener("scroll",h)})}},[h,i]),m.useMemo(()=>i.length?c?Array.from(c.values()).reduce((x,v)=>Mn(x,v),_l):Gh(i):_l,[i,c])}function xh(i,c){c===void 0&&(c=[]);const o=m.useRef(null);return m.useEffect(()=>{o.current=null},c),m.useEffect(()=>{const d=i!==_l;d&&!o.current&&(o.current=i),!d&&o.current&&(o.current=null)},[i]),o.current?Us(i,o.current):_l}function ey(i){m.useEffect(()=>{if(!or)return;const c=i.map(o=>{let{sensor:d}=o;return d.setup==null?void 0:d.setup()});return()=>{for(const o of c)o==null||o()}},i.map(c=>{let{sensor:o}=c;return o}))}function ty(i,c){return m.useMemo(()=>i.reduce((o,d)=>{let{eventName:h,handler:x}=d;return o[h]=v=>{x(v,c)},o},{}),[i,c])}function Qh(i){return m.useMemo(()=>i?Tb(i):null,[i])}const gh=[];function ly(i,c){c===void 0&&(c=Un);const[o]=i,d=Qh(o?tl(o):null),[h,x]=m.useState(gh);function v(){x(()=>i.length?i.map(b=>Bh(b)?d:new Jo(c(b),b)):gh)}const p=dr({callback:v});return Hl(()=>{p==null||p.disconnect(),v(),i.forEach(b=>p==null?void 0:p.observe(b))},[i]),h}function ay(i){if(!i)return null;if(i.children.length>1)return i;const c=i.children[0];return Ls(c)?c:i}function ny(i){let{measure:c}=i;const[o,d]=m.useState(null),h=m.useCallback(g=>{for(const{target:S}of g)if(Ls(S)){d(y=>{const O=c(S);return y?{...y,width:O.width,height:O.height}:O});break}},[c]),x=dr({callback:h}),v=m.useCallback(g=>{const S=ay(g);x==null||x.disconnect(),S&&(x==null||x.observe(S)),d(S?c(S):null)},[c,x]),[p,b]=nr(v);return m.useMemo(()=>({nodeRef:p,rect:o,setRef:b}),[o,p,b])}const sy=[{sensor:Io,options:{}},{sensor:$o,options:{}}],iy={current:{}},ar={draggable:{measure:ch},droppable:{measure:ch,strategy:Hs.WhileDragging,frequency:Bo.Optimized},dragOverlay:{measure:Un}};class Ms extends Map{get(c){var o;return c!=null&&(o=super.get(c))!=null?o:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(c=>{let{disabled:o}=c;return!o})}getNodeFor(c){var o,d;return(o=(d=this.get(c))==null?void 0:d.node.current)!=null?o:void 0}}const ry={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Ms,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:sr},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:ar,measureDroppableContainers:sr,windowRect:null,measuringScheduled:!1},cy={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:sr,draggableNodes:new Map,over:null,measureDroppableContainers:sr},fr=m.createContext(cy),Zh=m.createContext(ry);function oy(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Ms}}}function uy(i,c){switch(c.type){case bt.DragStart:return{...i,draggable:{...i.draggable,initialCoordinates:c.initialCoordinates,active:c.active}};case bt.DragMove:return i.draggable.active==null?i:{...i,draggable:{...i.draggable,translate:{x:c.coordinates.x-i.draggable.initialCoordinates.x,y:c.coordinates.y-i.draggable.initialCoordinates.y}}};case bt.DragEnd:case bt.DragCancel:return{...i,draggable:{...i.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case bt.RegisterDroppable:{const{element:o}=c,{id:d}=o,h=new Ms(i.droppable.containers);return h.set(d,o),{...i,droppable:{...i.droppable,containers:h}}}case bt.SetDroppableDisabled:{const{id:o,key:d,disabled:h}=c,x=i.droppable.containers.get(o);if(!x||d!==x.key)return i;const v=new Ms(i.droppable.containers);return v.set(o,{...x,disabled:h}),{...i,droppable:{...i.droppable,containers:v}}}case bt.UnregisterDroppable:{const{id:o,key:d}=c,h=i.droppable.containers.get(o);if(!h||d!==h.key)return i;const x=new Ms(i.droppable.containers);return x.delete(o),{...i,droppable:{...i.droppable,containers:x}}}default:return i}}function dy(i){let{disabled:c}=i;const{active:o,activatorEvent:d,draggableNodes:h}=m.useContext(fr),x=Uo(d),v=Uo(o==null?void 0:o.id);return m.useEffect(()=>{if(!c&&!d&&x&&v!=null){if(!Ko(x)||document.activeElement===x.target)return;const p=h.get(v);if(!p)return;const{activatorNode:b,node:g}=p;if(!b.current&&!g.current)return;requestAnimationFrame(()=>{for(const S of[b.current,g.current]){if(!S)continue;const y=ab(S);if(y){y.focus();break}}})}},[d,c,h,v,x]),null}function fy(i,c){let{transform:o,...d}=c;return i!=null&&i.length?i.reduce((h,x)=>x({transform:h,...d}),o):o}function my(i){return m.useMemo(()=>({draggable:{...ar.draggable,...i==null?void 0:i.draggable},droppable:{...ar.droppable,...i==null?void 0:i.droppable},dragOverlay:{...ar.dragOverlay,...i==null?void 0:i.dragOverlay}}),[i==null?void 0:i.draggable,i==null?void 0:i.droppable,i==null?void 0:i.dragOverlay])}function hy(i){let{activeNode:c,measure:o,initialRect:d,config:h=!0}=i;const x=m.useRef(!1),{x:v,y:p}=typeof h=="boolean"?{x:h,y:h}:h;Hl(()=>{if(!v&&!p||!c){x.current=!1;return}if(x.current||!d)return;const g=c==null?void 0:c.node.current;if(!g||g.isConnected===!1)return;const S=o(g),y=Uh(S,d);if(v||(y.x=0),p||(y.y=0),x.current=!0,Math.abs(y.x)>0||Math.abs(y.y)>0){const O=kh(g);O&&O.scrollBy({top:y.y,left:y.x})}},[c,v,p,d,o])}const Vh=m.createContext({..._l,scaleX:1,scaleY:1});var Ea;(function(i){i[i.Uninitialized=0]="Uninitialized",i[i.Initializing=1]="Initializing",i[i.Initialized=2]="Initialized"})(Ea||(Ea={}));const xy=m.memo(function(c){var o,d,h,x;let{id:v,accessibility:p,autoScroll:b=!0,children:g,sensors:S=sy,collisionDetection:y=bb,measuring:O,modifiers:A,...V}=c;const R=m.useReducer(uy,void 0,oy),[H,E]=R,[Q,M]=ob(),[Y,ee]=m.useState(Ea.Uninitialized),X=Y===Ea.Initialized,{draggable:{active:D,nodes:P,translate:ne},droppable:{containers:de}}=H,le=D!=null?P.get(D):null,ce=m.useRef({initial:null,translated:null}),Se=m.useMemo(()=>{var Be;return D!=null?{id:D,data:(Be=le==null?void 0:le.data)!=null?Be:iy,rect:ce}:null},[D,le]),se=m.useRef(null),[J,C]=m.useState(null),[G,B]=m.useState(null),ae=Rs(V,Object.values(V)),ge=Ys("DndDescribedBy",v),w=m.useMemo(()=>de.getEnabled(),[de]),Z=my(O),{droppableRects:te,measureDroppableContainers:re,measuringScheduled:fe}=Kb(w,{dragging:X,dependencies:[ne.x,ne.y],config:Z.droppable}),be=Zb(P,D),xe=m.useMemo(()=>G?ko(G):null,[G]),Ve=al(),De=Jb(be,Z.draggable.measure);hy({activeNode:D!=null?P.get(D):null,config:Ve.layoutShiftCompensation,initialRect:De,measure:Z.draggable.measure});const Ee=mh(be,Z.draggable.measure,De),Lt=mh(be?be.parentElement:null),Et=m.useRef({activatorEvent:null,active:null,activeNode:be,collisionRect:null,collisions:null,droppableRects:te,draggableNodes:P,draggingNode:null,draggingNodeRect:null,droppableContainers:de,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),yt=de.getNodeFor((o=Et.current.over)==null?void 0:o.id),lt=ny({measure:Z.dragOverlay.measure}),Ot=(d=lt.nodeRef.current)!=null?d:be,Xt=X?(h=lt.rect)!=null?h:Ee:null,Ml=!!(lt.nodeRef.current&&lt.rect),Ll=Ib(Ml?null:Ee),ll=Qh(Ot?tl(Ot):null),Rt=Wb(X?yt??be:null),at=ly(Rt),gt=fy(A,{transform:{x:ne.x-Ll.x,y:ne.y-Ll.y,scaleX:1,scaleY:1},activatorEvent:G,active:Se,activeNodeRect:Ee,containerNodeRect:Lt,draggingNodeRect:Xt,over:Et.current.over,overlayNodeRect:lt.rect,scrollableAncestors:Rt,scrollableAncestorRects:at,windowRect:ll}),Qt=xe?Mn(xe,ne):null,ct=Pb(Rt),Bl=xh(ct),zl=xh(ct,[Ee]),Bt=Mn(gt,Bl),nt=Xt?jb(Xt,gt):null,ye=Se&&nt?y({active:Se,collisionRect:nt,droppableRects:te,droppableContainers:w,pointerCoordinates:Qt}):null,At=Rh(ye,"id"),[Ut,z]=m.useState(null),F=Ml?gt:Mn(gt,zl),W=yb(F,(x=Ut==null?void 0:Ut.rect)!=null?x:null,Ee),he=m.useRef(null),pe=m.useCallback((Be,He)=>{let{sensor:Xe,options:Le}=He;if(se.current==null)return;const Fe=P.get(se.current);if(!Fe)return;const st=Be.nativeEvent,kt=new Xe({active:se.current,activeNode:Fe,event:st,options:Le,context:Et,onAbort(ot){if(!P.get(ot))return;const{onDragAbort:Nt}=ae.current,Yt={id:ot};Nt==null||Nt(Yt),Q({type:"onDragAbort",event:Yt})},onPending(ot,nl,Nt,Yt){if(!P.get(ot))return;const{onDragPending:ml}=ae.current,Vt={id:ot,constraint:nl,initialCoordinates:Nt,offset:Yt};ml==null||ml(Vt),Q({type:"onDragPending",event:Vt})},onStart(ot){const nl=se.current;if(nl==null)return;const Nt=P.get(nl);if(!Nt)return;const{onDragStart:Yt}=ae.current,fl={activatorEvent:st,active:{id:nl,data:Nt.data,rect:ce}};Es.unstable_batchedUpdates(()=>{Yt==null||Yt(fl),ee(Ea.Initializing),E({type:bt.DragStart,initialCoordinates:ot,active:nl}),Q({type:"onDragStart",event:fl}),C(he.current),B(st)})},onMove(ot){E({type:bt.DragMove,coordinates:ot})},onEnd:Zt(bt.DragEnd),onCancel:Zt(bt.DragCancel)});he.current=kt;function Zt(ot){return async function(){const{active:Nt,collisions:Yt,over:fl,scrollAdjustedTranslate:ml}=Et.current;let Vt=null;if(Nt&&ml){const{cancelDrop:Tl}=ae.current;Vt={activatorEvent:st,active:Nt,collisions:Yt,delta:ml,over:fl},ot===bt.DragEnd&&typeof Tl=="function"&&await Promise.resolve(Tl(Vt))&&(ot=bt.DragCancel)}se.current=null,Es.unstable_batchedUpdates(()=>{E({type:ot}),ee(Ea.Uninitialized),z(null),C(null),B(null),he.current=null;const Tl=ot===bt.DragEnd?"onDragEnd":"onDragCancel";if(Vt){const Gt=ae.current[Tl];Gt==null||Gt(Vt),Q({type:Tl,event:Vt})}})}}},[P]),Re=m.useCallback((Be,He)=>(Xe,Le)=>{const Fe=Xe.nativeEvent,st=P.get(Le);if(se.current!==null||!st||Fe.dndKit||Fe.defaultPrevented)return;const kt={active:st};Be(Xe,He.options,kt)===!0&&(Fe.dndKit={capturedBy:He.sensor},se.current=Le,pe(Xe,He))},[P,pe]),Ae=Vb(S,Re);ey(S),Hl(()=>{Ee&&Y===Ea.Initializing&&ee(Ea.Initialized)},[Ee,Y]),m.useEffect(()=>{const{onDragMove:Be}=ae.current,{active:He,activatorEvent:Xe,collisions:Le,over:Fe}=Et.current;if(!He||!Xe)return;const st={active:He,activatorEvent:Xe,collisions:Le,delta:{x:Bt.x,y:Bt.y},over:Fe};Es.unstable_batchedUpdates(()=>{Be==null||Be(st),Q({type:"onDragMove",event:st})})},[Bt.x,Bt.y]),m.useEffect(()=>{const{active:Be,activatorEvent:He,collisions:Xe,droppableContainers:Le,scrollAdjustedTranslate:Fe}=Et.current;if(!Be||se.current==null||!He||!Fe)return;const{onDragOver:st}=ae.current,kt=Le.get(At),Zt=kt&&kt.rect.current?{id:kt.id,rect:kt.rect.current,data:kt.data,disabled:kt.disabled}:null,ot={active:Be,activatorEvent:He,collisions:Xe,delta:{x:Fe.x,y:Fe.y},over:Zt};Es.unstable_batchedUpdates(()=>{z(Zt),st==null||st(ot),Q({type:"onDragOver",event:ot})})},[At]),Hl(()=>{Et.current={activatorEvent:G,active:Se,activeNode:be,collisionRect:nt,collisions:ye,droppableRects:te,draggableNodes:P,draggingNode:Ot,draggingNodeRect:Xt,droppableContainers:de,over:Ut,scrollableAncestors:Rt,scrollAdjustedTranslate:Bt},ce.current={initial:Xt,translated:nt}},[Se,be,ye,nt,P,Ot,Xt,te,de,Ut,Rt,Bt]),qb({...Ve,delta:ne,draggingRect:nt,pointerCoordinates:Qt,scrollableAncestors:Rt,scrollableAncestorRects:at});const vt=m.useMemo(()=>({active:Se,activeNode:be,activeNodeRect:Ee,activatorEvent:G,collisions:ye,containerNodeRect:Lt,dragOverlay:lt,draggableNodes:P,droppableContainers:de,droppableRects:te,over:Ut,measureDroppableContainers:re,scrollableAncestors:Rt,scrollableAncestorRects:at,measuringConfiguration:Z,measuringScheduled:fe,windowRect:ll}),[Se,be,Ee,G,ye,Lt,lt,P,de,te,Ut,re,Rt,at,Z,fe,ll]),jt=m.useMemo(()=>({activatorEvent:G,activators:Ae,active:Se,activeNodeRect:Ee,ariaDescribedById:{draggable:ge},dispatch:E,draggableNodes:P,over:Ut,measureDroppableContainers:re}),[G,Ae,Se,Ee,E,ge,P,Ut,re]);return Ct.createElement(Mh.Provider,{value:M},Ct.createElement(fr.Provider,{value:jt},Ct.createElement(Zh.Provider,{value:vt},Ct.createElement(Vh.Provider,{value:W},g)),Ct.createElement(dy,{disabled:(p==null?void 0:p.restoreFocus)===!1})),Ct.createElement(fb,{...p,hiddenTextDescribedById:ge}));function al(){const Be=(J==null?void 0:J.autoScrollEnabled)===!1,He=typeof b=="object"?b.enabled===!1:b===!1,Xe=X&&!Be&&!He;return typeof b=="object"?{...b,enabled:Xe}:{enabled:Xe}}}),gy=m.createContext(null),ph="button",py="Draggable";function by(i){let{id:c,data:o,disabled:d=!1,attributes:h}=i;const x=Ys(py),{activators:v,activatorEvent:p,active:b,activeNodeRect:g,ariaDescribedById:S,draggableNodes:y,over:O}=m.useContext(fr),{role:A=ph,roleDescription:V="draggable",tabIndex:R=0}=h??{},H=(b==null?void 0:b.id)===c,E=m.useContext(H?Vh:gy),[Q,M]=nr(),[Y,ee]=nr(),X=ty(v,c),D=Rs(o);Hl(()=>(y.set(c,{id:c,key:x,node:Q,activatorNode:Y,data:D}),()=>{const ne=y.get(c);ne&&ne.key===x&&y.delete(c)}),[y,c]);const P=m.useMemo(()=>({role:A,tabIndex:R,"aria-disabled":d,"aria-pressed":H&&A===ph?!0:void 0,"aria-roledescription":V,"aria-describedby":S.draggable}),[d,A,R,H,V,S.draggable]);return{active:b,activatorEvent:p,activeNodeRect:g,attributes:P,isDragging:H,listeners:d?void 0:X,node:Q,over:O,setNodeRef:M,setActivatorNodeRef:ee,transform:E}}function yy(){return m.useContext(Zh)}const vy="Droppable",jy={timeout:25};function Ny(i){let{data:c,disabled:o=!1,id:d,resizeObserverConfig:h}=i;const x=Ys(vy),{active:v,dispatch:p,over:b,measureDroppableContainers:g}=m.useContext(fr),S=m.useRef({disabled:o}),y=m.useRef(!1),O=m.useRef(null),A=m.useRef(null),{disabled:V,updateMeasurementsFor:R,timeout:H}={...jy,...h},E=Rs(R??d),Q=m.useCallback(()=>{if(!y.current){y.current=!0;return}A.current!=null&&clearTimeout(A.current),A.current=setTimeout(()=>{g(Array.isArray(E.current)?E.current:[E.current]),A.current=null},H)},[H]),M=dr({callback:Q,disabled:V||!v}),Y=m.useCallback((P,ne)=>{M&&(ne&&(M.unobserve(ne),y.current=!1),P&&M.observe(P))},[M]),[ee,X]=nr(Y),D=Rs(c);return m.useEffect(()=>{!M||!ee.current||(M.disconnect(),y.current=!1,M.observe(ee.current))},[ee,M]),m.useEffect(()=>(p({type:bt.RegisterDroppable,element:{id:d,key:x,disabled:o,node:ee,rect:O,data:D}}),()=>p({type:bt.UnregisterDroppable,key:x,id:d})),[d]),m.useEffect(()=>{o!==S.current.disabled&&(p({type:bt.SetDroppableDisabled,id:d,key:x,disabled:o}),S.current.disabled=o)},[d,x,o,p]),{active:v,rect:O,isOver:(b==null?void 0:b.id)===d,node:ee,over:b,setNodeRef:X}}function Wo(i,c,o){const d=i.slice();return d.splice(o<0?d.length+o:o,0,d.splice(c,1)[0]),d}function Sy(i,c){return i.reduce((o,d,h)=>{const x=c.get(d);return x&&(o[h]=x),o},Array(i.length))}function Pi(i){return i!==null&&i>=0}function wy(i,c){if(i===c)return!0;if(i.length!==c.length)return!1;for(let o=0;o<i.length;o++)if(i[o]!==c[o])return!1;return!0}function Ty(i){return typeof i=="boolean"?{draggable:i,droppable:i}:i}const Kh=i=>{let{rects:c,activeIndex:o,overIndex:d,index:h}=i;const x=Wo(c,d,o),v=c[h],p=x[h];return!p||!v?null:{x:p.left-v.left,y:p.top-v.top,scaleX:p.width/v.width,scaleY:p.height/v.height}},er={scaleX:1,scaleY:1},Cy=i=>{var c;let{activeIndex:o,activeNodeRect:d,index:h,rects:x,overIndex:v}=i;const p=(c=x[o])!=null?c:d;if(!p)return null;if(h===o){const g=x[v];return g?{x:0,y:o<v?g.top+g.height-(p.top+p.height):g.top-p.top,...er}:null}const b=Ey(x,h,o);return h>o&&h<=v?{x:0,y:-p.height-b,...er}:h<o&&h>=v?{x:0,y:p.height+b,...er}:{x:0,y:0,...er}};function Ey(i,c,o){const d=i[c],h=i[c-1],x=i[c+1];return d?o<c?h?d.top-(h.top+h.height):x?x.top-(d.top+d.height):0:x?x.top-(d.top+d.height):h?d.top-(h.top+h.height):0:0}const Jh="Sortable",$h=Ct.createContext({activeIndex:-1,containerId:Jh,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:Kh,disabled:{draggable:!1,droppable:!1}});function Ay(i){let{children:c,id:o,items:d,strategy:h=Kh,disabled:x=!1}=i;const{active:v,dragOverlay:p,droppableRects:b,over:g,measureDroppableContainers:S}=yy(),y=Ys(Jh,o),O=p.rect!==null,A=m.useMemo(()=>d.map(X=>typeof X=="object"&&"id"in X?X.id:X),[d]),V=v!=null,R=v?A.indexOf(v.id):-1,H=g?A.indexOf(g.id):-1,E=m.useRef(A),Q=!wy(A,E.current),M=H!==-1&&R===-1||Q,Y=Ty(x);Hl(()=>{Q&&V&&S(A)},[Q,A,V,S]),m.useEffect(()=>{E.current=A},[A]);const ee=m.useMemo(()=>({activeIndex:R,containerId:y,disabled:Y,disableTransforms:M,items:A,overIndex:H,useDragOverlay:O,sortedRects:Sy(A,b),strategy:h}),[R,y,Y.draggable,Y.droppable,M,A,H,b,O,h]);return Ct.createElement($h.Provider,{value:ee},c)}const Dy=i=>{let{id:c,items:o,activeIndex:d,overIndex:h}=i;return Wo(o,d,h).indexOf(c)},_y=i=>{let{containerId:c,isSorting:o,wasDragging:d,index:h,items:x,newIndex:v,previousItems:p,previousContainerId:b,transition:g}=i;return!g||!d||p!==x&&h===v?!1:o?!0:v!==h&&c===b},My={duration:200,easing:"ease"},Fh="transform",zy=ks.Transition.toString({property:Fh,duration:0,easing:"linear"}),Oy={roleDescription:"sortable"};function Ry(i){let{disabled:c,index:o,node:d,rect:h}=i;const[x,v]=m.useState(null),p=m.useRef(o);return Hl(()=>{if(!c&&o!==p.current&&d.current){const b=h.current;if(b){const g=Un(d.current,{ignoreTransform:!0}),S={x:b.left-g.left,y:b.top-g.top,scaleX:b.width/g.width,scaleY:b.height/g.height};(S.x||S.y)&&v(S)}}o!==p.current&&(p.current=o)},[c,o,d,h]),m.useEffect(()=>{x&&v(null)},[x]),x}function Uy(i){let{animateLayoutChanges:c=_y,attributes:o,disabled:d,data:h,getNewIndex:x=Dy,id:v,strategy:p,resizeObserverConfig:b,transition:g=My}=i;const{items:S,containerId:y,activeIndex:O,disabled:A,disableTransforms:V,sortedRects:R,overIndex:H,useDragOverlay:E,strategy:Q}=m.useContext($h),M=ky(d,A),Y=S.indexOf(v),ee=m.useMemo(()=>({sortable:{containerId:y,index:Y,items:S},...h}),[y,h,Y,S]),X=m.useMemo(()=>S.slice(S.indexOf(v)),[S,v]),{rect:D,node:P,isOver:ne,setNodeRef:de}=Ny({id:v,data:ee,disabled:M.droppable,resizeObserverConfig:{updateMeasurementsFor:X,...b}}),{active:le,activatorEvent:ce,activeNodeRect:Se,attributes:se,setNodeRef:J,listeners:C,isDragging:G,over:B,setActivatorNodeRef:ae,transform:ge}=by({id:v,data:ee,attributes:{...Oy,...o},disabled:M.draggable}),w=Pp(de,J),Z=!!le,te=Z&&!V&&Pi(O)&&Pi(H),re=!E&&G,fe=re&&te?ge:null,xe=te?fe??(p??Q)({rects:R,activeNodeRect:Se,activeIndex:O,overIndex:H,index:Y}):null,Ve=Pi(O)&&Pi(H)?x({id:v,items:S,activeIndex:O,overIndex:H}):Y,De=le==null?void 0:le.id,Ee=m.useRef({activeId:De,items:S,newIndex:Ve,containerId:y}),Lt=S!==Ee.current.items,Et=c({active:le,containerId:y,isDragging:G,isSorting:Z,id:v,index:Y,items:S,newIndex:Ee.current.newIndex,previousItems:Ee.current.items,previousContainerId:Ee.current.containerId,transition:g,wasDragging:Ee.current.activeId!=null}),yt=Ry({disabled:!Et,index:Y,node:P,rect:D});return m.useEffect(()=>{Z&&Ee.current.newIndex!==Ve&&(Ee.current.newIndex=Ve),y!==Ee.current.containerId&&(Ee.current.containerId=y),S!==Ee.current.items&&(Ee.current.items=S)},[Z,Ve,y,S]),m.useEffect(()=>{if(De===Ee.current.activeId)return;if(De&&!Ee.current.activeId){Ee.current.activeId=De;return}const Ot=setTimeout(()=>{Ee.current.activeId=De},50);return()=>clearTimeout(Ot)},[De]),{active:le,activeIndex:O,attributes:se,data:ee,rect:D,index:Y,newIndex:Ve,items:S,isOver:ne,isSorting:Z,isDragging:G,listeners:C,node:P,overIndex:H,over:B,setNodeRef:w,setActivatorNodeRef:ae,setDroppableNodeRef:de,setDraggableNodeRef:J,transform:yt??xe,transition:lt()};function lt(){if(yt||Lt&&Ee.current.newIndex===Y)return zy;if(!(re&&!Ko(ce)||!g)&&(Z||Et))return ks.Transition.toString({...g,property:Fh})}}function ky(i,c){var o,d;return typeof i=="boolean"?{draggable:i,droppable:!1}:{draggable:(o=i==null?void 0:i.draggable)!=null?o:c.draggable,droppable:(d=i==null?void 0:i.droppable)!=null?d:c.droppable}}function rr(i){if(!i)return!1;const c=i.data.current;return!!(c&&"sortable"in c&&typeof c.sortable=="object"&&"containerId"in c.sortable&&"items"in c.sortable&&"index"in c.sortable)}const Hy=[ke.Down,ke.Right,ke.Up,ke.Left],Ly=(i,c)=>{let{context:{active:o,collisionRect:d,droppableRects:h,droppableContainers:x,over:v,scrollableAncestors:p}}=c;if(Hy.includes(i.code)){if(i.preventDefault(),!o||!d)return;const b=[];x.getEnabled().forEach(y=>{if(!y||y!=null&&y.disabled)return;const O=h.get(y.id);if(O)switch(i.code){case ke.Down:d.top<O.top&&b.push(y);break;case ke.Up:d.top>O.top&&b.push(y);break;case ke.Left:d.left>O.left&&b.push(y);break;case ke.Right:d.left<O.left&&b.push(y);break}});const g=gb({collisionRect:d,droppableRects:h,droppableContainers:b});let S=Rh(g,"id");if(S===(v==null?void 0:v.id)&&g.length>1&&(S=g[1].id),S!=null){const y=x.get(o.id),O=x.get(S),A=O?h.get(O.id):null,V=O==null?void 0:O.node.current;if(V&&A&&y&&O){const H=ur(V).some((X,D)=>p[D]!==X),E=Ih(y,O),Q=By(y,O),M=H||!E?{x:0,y:0}:{x:Q?d.width-A.width:0,y:Q?d.height-A.height:0},Y={x:A.left,y:A.top};return M.x&&M.y?Y:Us(Y,M)}}}};function Ih(i,c){return!rr(i)||!rr(c)?!1:i.data.current.sortable.containerId===c.data.current.sortable.containerId}function By(i,c){return!rr(i)||!rr(c)||!Ih(i,c)?!1:i.data.current.sortable.index<c.data.current.sortable.index}const zo=[{id:"hokkaido_tohoku",name:"",prefs:["","","","","","",""]},{id:"kanto",name:"",prefs:["","","","","","",""]},{id:"chubu",name:"",prefs:["","","","","","","","",""]},{id:"kinki",name:"",prefs:["","","","","","",""]},{id:"chugoku_shikoku",name:"",prefs:["","","","","","","","",""]},{id:"kyushu_okinawa",name:"",prefs:["","","","","","","",""]}],tr=["red","blue","green","orange","violet","gold","grey","black"],Va=[{text:"text-red-500",border:"border-red-500",bg:"bg-red-500",ring:"ring-red-500"},{text:"text-blue-500",border:"border-blue-500",bg:"bg-blue-500",ring:"ring-blue-500"},{text:"text-green-500",border:"border-green-500",bg:"bg-green-500",ring:"ring-green-500"},{text:"text-orange-500",border:"border-orange-500",bg:"bg-orange-500",ring:"ring-orange-500"},{text:"text-violet-500",border:"border-violet-500",bg:"bg-violet-500",ring:"ring-violet-500"},{text:"text-yellow-500",border:"border-yellow-500",bg:"bg-yellow-500",ring:"ring-yellow-500"},{text:"text-gray-500",border:"border-gray-500",bg:"bg-gray-500",ring:"ring-gray-500"},{text:"text-black",border:"border-black",bg:"bg-black",ring:"ring-black"}],Yy=({spot:i,index:c,isEditMode:o,currentColor:d,editedSpots:h,handleSpotEdit:x,calculateEndTime:v,transportModes:p,handleModeChange:b,calculateDuration:g,totalSpots:S,onDelete:y})=>{var M,Y,ee;const{attributes:O,listeners:A,setNodeRef:V,transform:R,transition:H,isDragging:E}=Uy({id:i.id,disabled:!o}),Q={transform:ks.Transform.toString(R),transition:H,opacity:E?.5:1};return n.jsx("div",{ref:V,style:Q,className:E?"z-50":"",children:n.jsxs(Ct.Fragment,{children:[n.jsxs("div",{className:"relative flex items-start gap-4",children:[o&&n.jsx("div",{...O,...A,className:"cursor-move text-gray-400 hover:text-gray-600 mt-2",title:"",children:n.jsx("span",{className:"material-symbols-outlined text-2xl",children:"drag_handle"})}),n.jsx("div",{className:`absolute -left-[4.5rem] w-12 h-12 rounded-full bg-white border-4 flex items-center justify-center shadow-sm z-10 transition-colors ${d.border} ${d.text}`,children:n.jsx("span",{className:"material-symbols-outlined",children:i.spot.category==="Food"?"restaurant":i.spot.category==="Shopping"?"shopping_bag":i.spot.category==="Hotel"?"hotel":"palette"})}),n.jsxs("div",{className:"flex-1 pt-1 group",children:[o?n.jsxs("div",{className:"space-y-2 mb-2",children:[i.spot.category!=="Hotel"&&n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("label",{className:"text-text-muted text-xs font-medium w-20",children:":"}),n.jsx("input",{type:"number",min:"5",max:"480",value:((M=h[i.id])==null?void 0:M.durationMinutes)??i.spot.durationMinutes??60,onChange:X=>x(i.id,"durationMinutes",parseInt(X.target.value)||60),className:"w-20 px-2 py-1 border border-gray-300 rounded text-sm"}),n.jsx("span",{className:"text-text-muted text-xs",children:""})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("label",{className:"text-text-muted text-xs font-medium w-20",children:":"}),n.jsx("input",{type:"number",min:"0",max:"300",value:((Y=h[i.id])==null?void 0:Y.transportDuration)??i.transportDuration??20,onChange:X=>x(i.id,"transportDuration",parseInt(X.target.value)||0),className:"w-20 px-2 py-1 border border-gray-300 rounded text-sm"}),n.jsx("span",{className:"text-text-muted text-xs",children:""})]}),n.jsx("p",{className:"text-text-muted text-xs",children:i.spot.category==="Hotel"?n.jsxs(n.Fragment,{children:[": ",i.startTime," - :  ()"]}):n.jsxs(n.Fragment,{children:[": ",i.startTime," - : ",v(i.startTime||"09:00",((ee=h[i.id])==null?void 0:ee.durationMinutes)??i.spot.durationMinutes??60)]})})]}):i.spot.category==="Hotel"?n.jsxs("p",{className:"text-text-muted font-medium text-sm mb-1",children:[i.startTime," -  ",n.jsx("span",{className:"text-xs",children:"()"})]}):n.jsxs("p",{className:"text-text-muted font-medium text-sm mb-1",children:[i.startTime," - ",v(i.startTime||"09:00",i.spot.durationMinutes||60)," ",n.jsxs("span",{className:"text-xs",children:["(: ",i.spot.durationMinutes||60,")"]})]}),n.jsxs("h3",{className:"text-xl font-bold mb-1 flex items-center gap-2",children:[i.spot.name,i.isMustVisit&&n.jsxs("span",{className:"bg-primary text-white text-[10px] px-2 py-0.5 rounded-full font-bold shadow-sm animate-pulse flex items-center gap-1",children:[n.jsx("span",{className:"material-symbols-outlined text-[12px]",children:"check"})," MUST"]})]}),n.jsx("p",{className:"text-text-muted text-sm mb-2 line-clamp-2",children:i.spot.description}),n.jsx("div",{className:"flex gap-2 flex-wrap",children:i.spot.tags&&i.spot.tags.length>0?i.spot.tags.map((X,D)=>{const P=typeof X=="string"?X:(X==null?void 0:X.value)||(X==null?void 0:X.normalized)||String(X);return n.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 bg-gradient-to-r from-pink-500 to-purple-500 text-white text-[10px] rounded-full font-bold shadow-sm",children:[n.jsx("span",{className:"material-symbols-outlined text-[10px]",children:"trending_up"})," ",P]},D)}):n.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 bg-gray-100 text-text-muted text-[10px] rounded-full font-bold",children:["4.8 ",n.jsx("span",{className:"material-symbols-outlined text-[10px] text-yellow-500 fill",children:"star"})]})})]}),n.jsx("div",{className:"w-20 h-20 rounded-lg overflow-hidden shadow-sm flex-shrink-0 hidden sm:block",children:n.jsx("img",{src:i.spot.image,alt:"",className:"w-full h-full object-cover"})}),o&&y&&n.jsx("button",{onClick:()=>y(i.id),className:"w-8 h-8 flex items-center justify-center text-text-muted hover:bg-red-100 hover:text-red-500 rounded-full transition-colors",title:"",children:n.jsx("span",{className:"material-symbols-outlined text-lg",children:"delete"})})]}),i.transportMode&&c<S-1&&n.jsx(Wh,{mode:p[i.id]||"public",duration:(()=>{const X=p[i.id]||"public",D=i.transportMode;return X!==D&&!(X==="public"&&(D==="train"||D==="bus"))||!i.transportDuration?g(D,i.transportDuration||20,X):i.transportDuration})(),onModeChange:X=>b(i.id,X)})]})})},Wh=({mode:i,duration:c,onModeChange:o})=>n.jsxs("div",{className:"flex items-center gap-4 py-2 animate-fade-in relative z-0",children:[n.jsxs("div",{className:"flex items-center gap-2 text-primary bg-primary/5 px-3 py-1.5 rounded-full border border-primary/10 transition-all",children:[n.jsx("span",{className:"material-symbols-outlined text-lg",children:i==="car"?"directions_car":i==="walk"?"directions_walk":"train"}),n.jsxs("span",{className:"text-sm font-bold whitespace-nowrap",children:[n.jsx("span",{className:"text-lg mx-1",children:c})," "]})]}),n.jsx("div",{className:"flex items-center p-1 bg-white border border-gray-200 rounded-full shadow-sm",children:[{id:"car",icon:"directions_car",label:""},{id:"public",icon:"train",label:""},{id:"walk",icon:"directions_walk",label:""}].map(d=>n.jsx("button",{onClick:()=>o(d.id),className:`w-8 h-8 rounded-full flex items-center justify-center transition-all ${i===d.id?"bg-primary text-white shadow-sm transform scale-105":"text-text-muted hover:bg-gray-100 hover:text-text-light"}`,title:`${d.label}`,children:n.jsx("span",{className:"material-symbols-outlined text-sm",children:d.icon})},d.id))})]}),Ph=({planSpots:i,areaName:c,selectedDay:o,planId:d,visibleDays:h,onRouteInfoUpdate:x})=>{const v=m.useRef(null),p=m.useRef(null),b=m.useRef(null);return m.useEffect(()=>{if(!window.L||!v.current)return;const g=window.L;p.current&&(p.current.remove(),p.current=null);const S=g.map(v.current).setView(el.MAP.DEFAULT_CENTER,el.MAP.DEFAULT_ZOOM);return g.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}).addTo(S),p.current=S,b.current=g.layerGroup().addTo(S),()=>{p.current&&(p.current.remove(),p.current=null)}},[]),m.useEffect(()=>{if(!p.current||!b.current||!window.L)return;const g=window.L,S=p.current,y=b.current;let O=!0;y.clearLayers();const A=g.latLngBounds();let V=!1;const R={};if(i.forEach(E=>{R[E.day]||(R[E.day]=[]),R[E.day].push(E)}),i.forEach((E,Q)=>{if(E.spot.location){V=!0;const M=E.day===o,Y=tr[(E.day-1)%tr.length]||"blue",ee=M?1:.5,X=M?1e3:0,D=new g.Icon({iconUrl:`https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-${Y}.png`,shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]}),P=g.marker([E.spot.location.lat,E.spot.location.lng],{icon:D,opacity:ee,zIndexOffset:X}).bindPopup(`
           <div class="text-center p-2" style="min-width: 200px;">
             <strong class="text-sm text-gray-500">${E.day}</strong>
             ${E.startTime?`<br/><span class="text-xs text-gray-400"> ${E.startTime}</span>`:""}
             <br/><b class="text-lg">${E.spot.name}</b>
             ${E.spot.area?`<br/><span class="text-xs text-gray-500"> ${E.spot.area}</span>`:""}
             <br/><span class="text-xs text-gray-500">${E.spot.category}</span>
             ${E.note?`<br/><p class="text-xs text-gray-600 mt-1">${E.note}</p>`:""}
             ${E.spot.description?`<br/><p class="text-xs text-gray-500 mt-1">${E.spot.description.substring(0,100)}${E.spot.description.length>100?"...":""}</p>`:""}
             ${E.isMustVisit?'<br/><span class="text-red-500 font-bold"> MUST VISIT</span>':""}
           </div>
         `);y.addLayer(P),A.extend(P.getLatLng())}}),(async()=>{const E=Object.keys(R).map(Y=>parseInt(Y)).filter(Y=>!h||h.has(Y)).sort((Y,ee)=>Y===o?-1:ee===o?1:Y-ee),Q=async Y=>{if(!O)return null;const ee=R[Y],X=ee.filter(le=>le.spot.location).map(le=>le.spot.location);if(X.length<2)return null;const D=Y===o,P=tr[(Y-1)%tr.length];let ne=X.map(le=>[le.lat,le.lng]),de={};try{if(d)try{const le=await zp(d,Y);if(le&&le.route){const ce=le.route;ce.geometry&&ce.geometry.length>0&&(ne=ce.geometry),de.distance=ce.distance_km,de.duration=ce.duration_minutes,de.transportation=ce.source==="osrm"?"":"",x&&x(Y,{distance:ce.distance_km,duration:ce.duration_minutes,transportation:de.transportation})}}catch(le){throw console.warn(`Backend API route fetch failed for day ${Y}, falling back to OSRM`,le),le}if(!de.distance&&!de.duration){const le=X.map(C=>`${C.lng},${C.lat}`).join(";"),ce=new AbortController,Se=setTimeout(()=>ce.abort(),5e3),se=await fetch(`https://router.project-osrm.org/route/v1/driving/${le}?overview=full&geometries=geojson`,{signal:ce.signal});if(clearTimeout(Se),!se.ok)throw new Error(`OSRM request failed: ${se.status}`);const J=await se.json();if(J.code==="Ok"&&J.routes&&J.routes.length>0){ne=J.routes[0].geometry.coordinates.map(G=>[G[1],G[0]]);const C=J.routes[0];if(C.legs&&C.legs.length>0){de.distance=C.legs.reduce((B,ae)=>B+(ae.distance||0),0)/1e3,de.duration=C.legs.reduce((B,ae)=>B+(ae.duration||0),0)/60,de.transportation="";const G=[];for(let B=0;B<C.legs.length&&B<ee.length-1;B++){const ae=C.legs[B],ge=ee[B],w=Math.round(ae.duration/60);G.push({spotId:ge.id,duration:w})}de.spotDurations=G,x&&x(Y,{distance:de.distance,duration:de.duration,transportation:de.transportation,spotDurations:G})}}else throw new Error("No route found in OSRM response")}}catch(le){console.warn(`Route fetch failed for day ${Y}, using straight lines`,le),ne=X.map(ce=>[ce.lat,ce.lng])}return{day:Y,routeLatlngs:ne,routeInfo:de,isSelected:D,colorName:P}},M=await Promise.all(E.map(Y=>Q(Y)));for(const Y of M){if(!O||!Y||!b.current)continue;const{day:ee,routeLatlngs:X,routeInfo:D,isSelected:P,colorName:ne}=Y;let de;const le=P?6:3,ce=P?.9:.4;P&&window.L&&window.L.antPath?de=window.L.antPath(X,{color:ne,weight:le,opacity:ce,dashArray:[10,20],pulseColor:ne,delay:400,paused:!1,reverse:!1}):de=g.polyline(X,{color:ne,weight:le,opacity:ce,dashArray:P?void 0:"5, 10",lineCap:"round",lineJoin:"round"});const Se=`
            <div style="text-align: center; padding: 8px; min-width: 180px;">
              <strong style="font-size: 14px; color: ${ne};">${ee}</strong><br/>
              ${D.distance?`<div style="margin-top: 5px;"><span style="font-weight: bold;">:</span> ${D.distance.toFixed(1)} km</div>`:""}
              ${D.duration?`<div><span style="font-weight: bold;">:</span> ${Math.round(D.duration)} </div>`:""}
              ${D.transportation?`<div style="margin-top: 3px; font-size: 11px; color: #666;"> ${D.transportation}</div>`:""}
            </div>
          `;if(de.bindPopup(Se),P&&X.length>1){const se=Math.max(1,Math.floor(X.length/5));for(let J=se;J<X.length-1;J+=se){const C=X[J-1],G=X[J],B=Math.atan2(G[0]-C[0],G[1]-C[1])*180/Math.PI,ae=g.divIcon({className:"route-arrow",html:`<div style="transform: rotate(${B}deg); color: ${ne}; font-size: 16px;"></div>`,iconSize:[16,16],iconAnchor:[8,8]}),ge=g.marker([G[0],G[1]],{icon:ae});b.current.addLayer(ge)}}b.current.addLayer(de)}})(),V)setTimeout(()=>{O&&S&&(S.invalidateSize(),S.fitBounds(A,{padding:[20,20,20,20],maxZoom:15}))},100);else{let E=el.MAP.DEFAULT_CENTER;c.includes("")&&(E=[35.0116,135.7681]),c.includes("")&&(E=[34.6937,135.5023]),c.includes("")&&(E=[31.5966,130.5571]),(c.includes("")||c.includes(""))&&(E=[43.0618,141.3545]),c.includes("")&&(E=[26.2124,127.6809]),S.setView(E,12)}return()=>{O=!1}},[i,o,c]),n.jsx("div",{ref:v,className:"w-full h-full rounded-2xl min-h-[400px] z-0"})},Gy=({onNavigate:i})=>{var R;const[c,o]=m.useState(1),[d,h]=m.useState(!1),[x,v]=m.useState(""),[p,b]=m.useState({destination:"",days:2,budget:"standard",themes:[],checkInDate:void 0,checkOutDate:void 0,numGuests:2}),[g,S]=m.useState([]),[y,O]=m.useState(zo[1].id);m.useEffect(()=>{const H=localStorage.getItem(el.STORAGE_KEYS.PENDING_SPOTS);if(H){const E=JSON.parse(H),Q=lr.filter(M=>E.includes(M.id));S(Q),Q.length>0&&b(M=>({...M,destination:Q[0].area}))}},[]);const A=H=>{b(E=>({...E,themes:E.themes.includes(H)?E.themes.filter(Q=>Q!==H):[...E.themes,H]}))},V=async()=>{h(!0),v("..."),localStorage.removeItem(el.STORAGE_KEYS.PENDING_SPOTS),setTimeout(()=>v("..."),1500),setTimeout(()=>v("..."),3500);try{const H=await Mp({destination:p.destination,days:p.days,budget:p.budget,themes:p.themes,pending_spots:g.map(E=>({name:E.name,description:E.description,area:E.area,category:E.category,durationMinutes:E.durationMinutes,rating:E.rating,image:E.image,price:E.price,tags:E.tags,location:E.location})),check_in_date:p.checkInDate,check_out_date:p.checkOutDate,num_guests:p.numGuests});if(H.excludedSpots&&H.excludedSpots.length>0){const Q=`:
${H.excludedSpots.map(M=>M.name).join("")}

`;alert(Q)}i(`/plan/${H.id}`)}catch(H){console.error("AI Generation Error",H);const E=H.detail||H.message||"";alert(E)}finally{h(!1)}};return d?n.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-white px-4",children:[n.jsxs("div",{className:"relative w-32 h-32 mb-8",children:[n.jsx("div",{className:"absolute inset-0 border-4 border-gray-100 rounded-full"}),n.jsx("div",{className:"absolute inset-0 border-4 border-primary border-t-transparent rounded-full animate-spin"}),n.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:n.jsx("img",{src:"https://lh3.googleusercontent.com/aida-public/AB6AXuCfMSI_vEQcW6uWaOllfqi75Njj5epUUHan7iKYq2ddAZoSthgXSLKdhXLtyvGQeDOWHCvMIb9zHR29P6R1MHTCyE0GBmQFcmGptEhCWUuL8GTANN3rvEBzwrgvyl2srrrUMRms1iDYE5uxYWZET7_hlJDkiMX5A9SRf5w0qYmIJZMQq94roefVcSp5yXCk6-cjB3diA5SN8xBWRjHxaLVpf_bvPHdIi4cn84z3ACcaFosupiz3lF_kn0umIyl14BROFmriQ29o9iI",alt:"Logo",className:"w-16 h-16 animate-pulse"})})]}),n.jsx("h2",{className:"text-2xl font-bold mb-2 animate-pulse",children:x}),n.jsxs("p",{className:"text-text-muted mb-8 text-center max-w-md",children:["SatoTrip",p.destination,"",n.jsx("br",{}),""]}),n.jsx("div",{className:"w-full max-w-md bg-gray-100 rounded-full h-2 overflow-hidden",children:n.jsx("div",{className:"h-full bg-primary animate-progress"})}),n.jsx("style",{children:`
          @keyframes progress {
            0% { width: 0%; }
            100% { width: 100%; }
          }
          .animate-progress {
            animation: progress 8s ease-in-out forwards;
          }
        `})]}):n.jsx("div",{className:"min-h-screen bg-background-light py-12 px-4",children:n.jsxs("div",{className:"max-w-2xl mx-auto",children:[n.jsxs("div",{className:"text-center mb-10",children:[n.jsx("h1",{className:"text-3xl md:text-4xl font-black mb-4",children:"AI Travel Planner"}),n.jsx("div",{className:"flex justify-center gap-2",children:[1,2,3].map(H=>n.jsx("div",{className:`h-2 w-12 rounded-full transition-colors ${c>=H?"bg-primary":"bg-gray-200"}`},H))})]}),n.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-6 md:p-10 relative overflow-hidden",children:[c===1&&n.jsxs("div",{className:"animate-fade-in",children:[n.jsxs("h2",{className:"text-2xl font-bold mb-6 flex items-center gap-2",children:[n.jsx("span",{className:"bg-primary/10 text-primary w-8 h-8 rounded-full flex items-center justify-center text-sm",children:"1"}),""]}),g.length>0&&n.jsxs("div",{className:"mb-6 bg-secondary/20 text-text-light p-4 rounded-xl flex items-center gap-3 border border-secondary/30",children:[n.jsx("div",{className:"w-10 h-10 rounded-full bg-white flex items-center justify-center text-secondary shadow-sm",children:n.jsx("span",{className:"material-symbols-outlined",children:"bookmark_added"})}),n.jsxs("div",{children:[n.jsx("p",{className:"font-bold text-sm",children:""}),n.jsxs("p",{className:"text-xs opacity-80",children:[" ",g.length," "]})]})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block font-bold text-text-muted text-sm mb-2",children:""}),n.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2 mb-4 scrollbar-hide",children:zo.map(H=>n.jsx("button",{onClick:()=>O(H.id),className:`px-4 py-2 rounded-full text-sm font-bold whitespace-nowrap transition-colors ${y===H.id?"bg-secondary text-text-light border border-secondary shadow-sm":"bg-gray-50 text-text-muted border border-gray-200 hover:bg-gray-100"}`,children:H.name},H.id))}),n.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-4 gap-2 mb-6 max-h-48 overflow-y-auto",children:(R=zo.find(H=>H.id===y))==null?void 0:R.prefs.map(H=>n.jsx("button",{onClick:()=>b({...p,destination:H}),className:`py-2 px-1 rounded-lg text-sm transition-all ${p.destination===H?"bg-primary text-white font-bold shadow-md":"bg-white border border-gray-100 text-text-light hover:border-primary/50"}`,children:H},H))}),n.jsxs("div",{className:"relative",children:[n.jsx("span",{className:"material-symbols-outlined absolute left-4 top-1/2 -translate-y-1/2 text-text-muted",children:"search"}),n.jsx("input",{type:"text",placeholder:" (: )...",className:"w-full pl-12 pr-4 py-3 bg-gray-50 rounded-xl border border-gray-200 focus:border-primary focus:bg-white transition-all text-base outline-none font-medium",value:p.destination,onChange:H=>b({...p,destination:H.target.value})})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block font-bold text-text-muted text-sm mb-2",children:""}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("button",{onClick:()=>b({...p,days:Math.max(1,p.days-1)}),className:"w-12 h-12 rounded-full bg-gray-100 flex items-center justify-center hover:bg-gray-200 font-bold text-xl",children:"-"}),n.jsxs("span",{className:"text-2xl font-black w-20 text-center",children:[p.days,""]}),n.jsx("button",{onClick:()=>b({...p,days:Math.min(14,p.days+1)}),className:"w-12 h-12 rounded-full bg-gray-100 flex items-center justify-center hover:bg-gray-200 font-bold text-xl",children:"+"})]})]}),n.jsx("button",{onClick:()=>p.destination&&o(2),disabled:!p.destination,className:"w-full bg-primary text-white py-4 rounded-xl font-bold text-lg shadow-lg hover:opacity-90 disabled:opacity-50 disabled:cursor-not-allowed transition-all mt-4",children:""})]})]}),c===2&&n.jsxs("div",{className:"animate-fade-in",children:[n.jsxs("button",{onClick:()=>o(1),className:"text-text-muted text-sm mb-4 flex items-center gap-1 hover:text-primary",children:[n.jsx("span",{className:"material-symbols-outlined text-sm",children:"arrow_back"})," "]}),n.jsxs("h2",{className:"text-2xl font-bold mb-6 flex items-center gap-2",children:[n.jsx("span",{className:"bg-primary/10 text-primary w-8 h-8 rounded-full flex items-center justify-center text-sm",children:"2"}),""]}),n.jsxs("div",{className:"space-y-8",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block font-bold text-text-muted text-sm mb-4",children:""}),n.jsx("div",{className:"grid grid-cols-3 gap-4",children:[{id:"budget",label:"",icon:"savings"},{id:"standard",label:"",icon:"payments"},{id:"luxury",label:"",icon:"diamond"}].map(H=>n.jsxs("button",{onClick:()=>b({...p,budget:H.id}),className:`p-4 rounded-xl border-2 flex flex-col items-center gap-2 transition-all ${p.budget===H.id?"border-primary bg-primary/5 text-primary":"border-gray-200 hover:border-gray-300 text-text-muted"}`,children:[n.jsx("span",{className:"material-symbols-outlined text-2xl",children:H.icon}),n.jsx("span",{className:"font-bold text-sm",children:H.label})]},H.id))})]}),n.jsx("button",{onClick:()=>o(3),className:"w-full bg-primary text-white py-4 rounded-xl font-bold text-lg shadow-lg hover:opacity-90 transition-all",children:""})]})]}),c===3&&n.jsxs("div",{className:"animate-fade-in",children:[n.jsxs("button",{onClick:()=>o(2),className:"text-text-muted text-sm mb-4 flex items-center gap-1 hover:text-primary",children:[n.jsx("span",{className:"material-symbols-outlined text-sm",children:"arrow_back"})," "]}),n.jsxs("h2",{className:"text-2xl font-bold mb-2 flex items-center gap-2",children:[n.jsx("span",{className:"bg-primary/10 text-primary w-8 h-8 rounded-full flex items-center justify-center text-sm",children:"3"}),""]}),n.jsx("p",{className:"text-text-muted mb-6 text-sm",children:"AI"}),n.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3 mb-8",children:["SNS","","","","","","",""].map(H=>n.jsx("button",{onClick:()=>A(H),className:`py-3 px-2 rounded-lg text-sm font-bold transition-all ${p.themes.includes(H)?"bg-primary text-white shadow-md transform scale-105":"bg-gray-50 text-text-muted hover:bg-gray-100"}`,children:H},H))}),n.jsxs("div",{className:"mb-8",children:[n.jsxs("h3",{className:"text-lg font-bold mb-4 flex items-center gap-2",children:[n.jsx("span",{className:"material-symbols-outlined text-primary",children:"hotel"}),""]}),n.jsxs("div",{className:"space-y-4 bg-gray-50 p-4 rounded-xl",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block font-bold text-text-muted text-sm mb-2",children:""}),n.jsx("input",{type:"date",className:"w-full px-4 py-2 bg-white rounded-lg border border-gray-200 focus:border-primary focus:outline-none",value:p.checkInDate||"",onChange:H=>b({...p,checkInDate:H.target.value}),min:new Date().toISOString().split("T")[0]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block font-bold text-text-muted text-sm mb-2",children:""}),n.jsx("input",{type:"date",className:"w-full px-4 py-2 bg-white rounded-lg border border-gray-200 focus:border-primary focus:outline-none",value:p.checkOutDate||"",onChange:H=>b({...p,checkOutDate:H.target.value}),min:p.checkInDate||new Date().toISOString().split("T")[0]})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block font-bold text-text-muted text-sm mb-2",children:""}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("button",{onClick:()=>b({...p,numGuests:Math.max(1,(p.numGuests||2)-1)}),className:"w-10 h-10 rounded-full bg-white border border-gray-200 flex items-center justify-center hover:bg-gray-100 font-bold",children:"-"}),n.jsxs("span",{className:"text-lg font-bold w-12 text-center",children:[p.numGuests||2,""]}),n.jsx("button",{onClick:()=>b({...p,numGuests:Math.min(20,(p.numGuests||2)+1)}),className:"w-10 h-10 rounded-full bg-white border border-gray-200 flex items-center justify-center hover:bg-gray-100 font-bold",children:"+"})]})]})]})]}),n.jsxs("div",{className:"bg-gradient-to-r from-secondary/20 to-primary/10 p-4 rounded-xl mb-8 flex items-start gap-3",children:[n.jsx("span",{className:"material-symbols-outlined text-primary mt-1",children:"database"}),n.jsxs("div",{className:"text-sm",children:[n.jsx("span",{className:"font-bold text-primary block mb-1",children:"Project SatoTrip "}),"SNSWeb"]})]}),n.jsxs("button",{onClick:V,className:"w-full bg-gradient-to-r from-primary to-purple-600 text-white py-4 rounded-xl font-black text-xl shadow-xl hover:opacity-90 transition-all transform hover:-translate-y-1 flex items-center justify-center gap-2",children:[n.jsx("span",{className:"material-symbols-outlined",children:"auto_awesome"}),""]})]})]})]})})},qy=({planId:i,onNavigate:c})=>{var Ut;const[o,d]=m.useState(null),[h,x]=m.useState(!0),[v,p]=m.useState(null),[b,g]=m.useState({}),[S,y]=m.useState(1),[O,A]=m.useState(!1),[V,R]=m.useState({}),[H,E]=m.useState(!1),[Q,M]=m.useState([]),[Y,ee]=m.useState(new Set),[X,D]=m.useState({}),[P,ne]=m.useState(!1),[de,le]=m.useState(!1),[ce,Se]=m.useState([]),[se,J]=m.useState(""),[C,G]=m.useState(""),[B,ae]=m.useState(!1),ge=mb(sh(Io),sh($o,{coordinateGetter:Ly})),[w,Z]=m.useState([]),[te,re]=m.useState(null),[fe,be]=m.useState(""),[xe,Ve]=m.useState(null),[De,Ee]=m.useState(!1);m.useEffect(()=>{(async()=>{try{x(!0),p(null);const F=await Th(i);if(d(F),Se(JSON.parse(JSON.stringify(F.spots))),J(F.checkInDate||""),G(F.checkOutDate||""),F){const W=new Set(Array.from({length:F.days},(he,pe)=>pe+1));ee(W)}}catch(F){console.error("Failed to fetch plan:",F),p(F.detail||F.message||"")}finally{x(!1)}})()},[i]),m.useEffect(()=>{if(!o)return;const z={};o.spots.forEach(F=>{if(F.transportMode){let W="public";F.transportMode==="walk"?W="walk":F.transportMode==="car"?W="car":(F.transportMode==="train"||F.transportMode==="bus")&&(W="public"),z[F.id]=W,fetch("http://127.0.0.1:7243/ingest/0154fa29-b553-4de4-8ba1-d0609672b9f3",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({location:"PlanPages.tsx:1153",message:"transportModes init",data:{spotId:F.id,transportMode:F.transportMode,mappedMode:W},timestamp:Date.now(),sessionId:"debug-session",runId:"run1",hypothesisId:"D"})}).catch(()=>{})}else z[F.id]="public"}),fetch("http://127.0.0.1:7243/ingest/0154fa29-b553-4de4-8ba1-d0609672b9f3",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({location:"PlanPages.tsx:1158",message:"transportModes set",data:{initialModes:Object.keys(z).length},timestamp:Date.now(),sessionId:"debug-session",runId:"run1",hypothesisId:"D"})}).catch(()=>{}),g(z)},[o]),m.useEffect(()=>{(async()=>{try{const F=await Sh();Z(F.categories)}catch(F){console.error("Failed to fetch hotel categories:",F)}})()},[]);const Lt=async z=>{if(o)try{const F=await Os({area:o.area,category:"Hotel",keyword:z});if(F.length===0){alert(`${z}
`);return}const W=F[0],he=ce.length>0?ce.filter(Ae=>Ae.day===S):o.spots.filter(Ae=>Ae.day===S);let pe="18:00";if(he.length>0){const Ae=he[he.length-1],vt=Ae.startTime||"09:00",jt=Ae.spot.durationMinutes||60,al=Le=>{const Fe=Le.split(":");return parseInt(Fe[0])*60+parseInt(Fe[1])},Be=Le=>{const Fe=Math.floor(Le/60),st=Le%60;return`${Fe.toString().padStart(2,"0")}:${st.toString().padStart(2,"0")}`},Xe=al(vt)+jt;pe=Be(Xe)}const Re={id:`hotel_${Date.now()}`,spotId:W.id,spot:W,day:S,startTime:pe,note:"",transportMode:"walk",transportDuration:0,isMustVisit:!1};Se(Ae=>[...Ae,Re]),alert(`${W.name}`)}catch(F){console.error(":",F),alert(F.detail||F.message||"")}},Et=async()=>{if(o){Ee(!0);try{const z={area:o.area,category:te||void 0,hotelName:fe||void 0,checkIn:void 0,checkOut:void 0,numGuests:2},F=await wh(z);Ve(F)}catch(z){console.error("Failed to search hotels:",z),alert(z.detail||z.message||"")}finally{Ee(!1)}}};if(h)return n.jsx("div",{className:"min-h-screen flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"w-16 h-16 border-4 border-primary border-t-transparent rounded-full animate-spin mx-auto mb-4"}),n.jsx("p",{className:"text-text-muted",children:"..."})]})});if(v||!o)return n.jsx("div",{className:"min-h-screen flex items-center justify-center px-4",children:n.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-xl p-6 text-center max-w-md",children:[n.jsx("p",{className:"text-red-600 font-bold mb-2",children:""}),n.jsx("p",{className:"text-red-500 text-sm mb-4",children:v||""}),n.jsx("button",{onClick:()=>c("/plans"),className:"bg-primary text-white px-6 py-3 rounded-full font-bold shadow-lg hover:opacity-90 transition-opacity",children:""})]})});const yt=(z,F)=>{fetch("http://127.0.0.1:7243/ingest/0154fa29-b553-4de4-8ba1-d0609672b9f3",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({location:"PlanPages.tsx:1302",message:"handleModeChange",data:{id:z,mode:F,currentValue:b[z]},timestamp:Date.now(),sessionId:"debug-session",runId:"run1",hypothesisId:"D"})}).catch(()=>{}),g(W=>{const he={...W,[z]:F};return fetch("http://127.0.0.1:7243/ingest/0154fa29-b553-4de4-8ba1-d0609672b9f3",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({location:"PlanPages.tsx:1304",message:"transportModes updated",data:{id:z,mode:F,updatedValue:he[z]},timestamp:Date.now(),sessionId:"debug-session",runId:"run1",hypothesisId:"D"})}).catch(()=>{}),he})},lt=async()=>{const z=window.location.href;let F=!1;if(navigator.share)try{await navigator.share({title:o.title,text:`SatoTrip: ${o.title}`,url:z}),F=!0}catch(W){if(W.name!=="AbortError")console.log("Share API failed",W);else return}if(!F)try{await navigator.clipboard.writeText(z),alert("URL")}catch(W){console.error("Clipboard failed",W),alert("URL")}},Ot=()=>{const z="data:text/json;charset=utf-8,"+encodeURIComponent(JSON.stringify(o,null,2)),F=document.createElement("a");F.setAttribute("href",z),F.setAttribute("download",`satotrip_plan_${o.id}.json`),document.body.appendChild(F),F.click(),F.remove()},Xt=()=>{if(A(!O),O)R({}),M([]),Se(JSON.parse(JSON.stringify((o==null?void 0:o.spots)||[])));else{const z={};o==null||o.spots.forEach(F=>{z[F.id]={durationMinutes:F.spot.durationMinutes,transportDuration:F.transportDuration}}),R(z),M([]),Se(JSON.parse(JSON.stringify((o==null?void 0:o.spots)||[])))}},Ml=z=>{confirm("")&&(Se(F=>F.filter(W=>W.id!==z)),M(F=>F.filter(W=>W.id!==z)))},Ll=z=>{if(!o)return;const F={id:`new_${Date.now()}`,spotId:z.id,spot:z,day:S,startTime:"10:00"};Se(W=>[...W,F]),le(!1)},ll=(z,F,W)=>{R(he=>({...he,[z]:{...he[z],[F]:W}})),Se(he=>he.map(pe=>{if(pe.id===z){const Re={...pe};return F==="durationMinutes"?Re.spot={...Re.spot,durationMinutes:W}:F==="transportDuration"&&(Re.transportDuration=W),Re}return pe}))},Rt=async()=>{if(o){E(!0);try{let z=[];Q.length>0?z=[...Q]:ce.length>0?z=[...ce]:z=[...o.spots],z=z.map(W=>{const he=V[W.id]||{},pe={...W,spot:{...W.spot}};if(he.durationMinutes!==void 0&&(pe.spot.durationMinutes=he.durationMinutes),he.transportDuration!==void 0&&(pe.transportDuration=he.transportDuration),b[W.id]){const Re=b[W.id];Re==="car"?pe.transportMode="car":Re==="walk"?pe.transportMode="walk":pe.transportMode="train"}return pe}),console.log(":",z.map(W=>({id:W.id,name:W.spot.name,durationMinutes:W.spot.durationMinutes,transportDuration:W.transportDuration,transportMode:W.transportMode,startTime:W.startTime}))),console.log(":",V),console.log(":",b);const F=await zs(o.id,{spots:z});console.log(":",F.spots.map(W=>({id:W.id,name:W.spot.name,durationMinutes:W.spot.durationMinutes,transportDuration:W.transportDuration,transportMode:W.transportMode}))),d(F),Se(JSON.parse(JSON.stringify(F.spots))),A(!1),R({}),M([]),alert("")}catch(z){console.error(":",z),alert(z.detail||z.message||"")}finally{E(!1)}}},at=z=>{const{active:F,over:W}=z;if(!W||F.id===W.id||!o)return;const he=ce.length>0?ce.filter(Ae=>Ae.day===S):Q.length>0?Q.filter(Ae=>Ae.day===S):o.spots.filter(Ae=>Ae.day===S),pe=he.findIndex(Ae=>Ae.id===F.id),Re=he.findIndex(Ae=>Ae.id===W.id);if(pe!==-1&&Re!==-1){const Ae=Wo(he,pe,Re),vt=gt(Ae),Be=[...(ce.length>0?ce:o.spots).filter(He=>He.day!==S),...vt].sort((He,Xe)=>{var Le;return He.day!==Xe.day?He.day-Xe.day:((Le=He.startTime)==null?void 0:Le.localeCompare(Xe.startTime||""))||0});Se(Be),M(Be)}},gt=(z,F)=>{if(z.length===0)return z;const W="09:00",he=[];let pe=Qt(W);return z.forEach((Re,Ae)=>{var Be,He,Xe;const vt=((Be=V[Re.id])==null?void 0:Be.durationMinutes)??Re.spot.durationMinutes??60;let jt=0;if(Ae>0){const Le=z[Ae-1];jt=((He=V[Le.id])==null?void 0:He.transportDuration)??Le.transportDuration??20,pe+=jt}const al={...Re,startTime:ct(pe),transportDuration:((Xe=V[Re.id])==null?void 0:Xe.transportDuration)??Re.transportDuration??20,spot:{...Re.spot,durationMinutes:vt}};he.push(al),pe+=vt}),he},Qt=z=>{if(!z)return 0;const[F,W]=z.split(":").map(Number);return F*60+(W||0)},ct=z=>{const F=Math.floor(z/60),W=z%60;return`${F.toString().padStart(2,"0")}:${W.toString().padStart(2,"0")}`},Bl=(z,F)=>{const he=Qt(z)+F;return ct(he)},zl=(z,F,W)=>{if(!z||F===void 0)return 0;if(z===W||W==="public"&&(z==="train"||z==="bus"))return F;const pe={walk:4,car:40,train:30,bus:25,public:30},Re=pe[z]||30,Ae=pe[W]||30,vt=Re*(F/60),jt=Math.round(vt/Ae*60);return W==="car"?Math.max(5,jt+5):W==="public"?Math.max(10,jt+10):Math.max(5,jt)},Bt=ce.length>0?ce.filter(z=>z.day===S):Q.length>0?Q.filter(z=>z.day===S):(o==null?void 0:o.spots.filter(z=>z.day===S))||[],nt=[...Bt].sort((z,F)=>(z.startTime||"00:00").localeCompare(F.startTime||"00:00")),ye=Va[(S-1)%Va.length]||Va[0],At=["","","","","","","",""][(S-1)%8];return n.jsxs("div",{className:"min-h-screen bg-background-light pb-20",children:[n.jsx("div",{className:"bg-white border-b border-primary/10",children:n.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8 flex flex-col lg:flex-row lg:items-center justify-between gap-6",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("h1",{className:"text-4xl lg:text-5xl font-black tracking-tighter text-text-light mb-2",children:o.title}),n.jsxs("p",{className:"text-text-muted text-lg mb-4",children:[": ",o.area]}),n.jsxs("div",{className:"bg-white/50 backdrop-blur-sm rounded-lg p-4 border border-primary/20 max-w-md",children:[n.jsxs("h3",{className:"text-sm font-bold text-text-muted mb-3 flex items-center gap-2",children:[n.jsx("span",{className:"material-symbols-outlined text-base",children:"calendar_today"}),""]}),n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-bold text-text-muted mb-1",children:""}),n.jsx("input",{type:"date",value:se,onChange:z=>J(z.target.value),min:new Date().toISOString().split("T")[0],className:"w-full px-3 py-2 text-sm bg-white border border-gray-300 rounded-lg focus:border-primary focus:outline-none"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-bold text-text-muted mb-1",children:""}),n.jsx("input",{type:"date",value:C,onChange:z=>G(z.target.value),min:se||new Date().toISOString().split("T")[0],className:"w-full px-3 py-2 text-sm bg-white border border-gray-300 rounded-lg focus:border-primary focus:outline-none"})]})]}),(se!==o.checkInDate||C!==o.checkOutDate)&&n.jsx("button",{onClick:async()=>{if(se&&C&&se>=C){alert("");return}ae(!0);try{const z=await zs(o.id,{check_in_date:se||void 0,check_out_date:C||void 0});d(z),alert("")}catch(z){console.error(":",z),alert(z.detail||z.message||""),J(o.checkInDate||""),G(o.checkOutDate||"")}finally{ae(!1)}},disabled:B,className:"mt-3 w-full px-4 py-2 bg-primary text-white text-sm font-bold rounded-lg hover:opacity-90 transition-opacity disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:B?n.jsxs(n.Fragment,{children:[n.jsx("span",{className:"material-symbols-outlined animate-spin text-base",children:"hourglass_empty"}),"..."]}):n.jsxs(n.Fragment,{children:[n.jsx("span",{className:"material-symbols-outlined text-base",children:"save"}),""]})})]})]}),n.jsxs("div",{className:"flex gap-3",children:[n.jsx("button",{onClick:lt,className:"w-12 h-12 rounded-full bg-white border border-primary/20 flex items-center justify-center text-primary hover:bg-primary/5 transition-colors",title:"",children:n.jsx("span",{className:"material-symbols-outlined",children:"share"})}),n.jsx("button",{onClick:Xt,className:`w-12 h-12 rounded-full border flex items-center justify-center transition-colors ${O?"bg-primary text-white border-primary":"bg-white border-primary/20 text-primary hover:bg-primary/5"}`,title:"",children:n.jsx("span",{className:"material-symbols-outlined",children:O?"close":"edit"})}),O&&n.jsx("button",{onClick:Rt,disabled:H,className:"px-4 h-12 rounded-full bg-primary text-white flex items-center justify-center shadow-lg hover:opacity-90 transition-opacity disabled:opacity-50",title:"",children:H?"...":""}),n.jsx("button",{onClick:Ot,className:"w-12 h-12 rounded-full bg-primary text-white flex items-center justify-center shadow-lg hover:opacity-90 transition-opacity",title:"",children:n.jsx("span",{className:"material-symbols-outlined",children:"download"})})]})]})}),n.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8 grid grid-cols-1 lg:grid-cols-2 gap-12",children:[n.jsxs("div",{className:"flex flex-col gap-8 order-2 lg:order-1",children:[n.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-lg shadow-primary/5 border border-primary/10 flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[n.jsxs("div",{children:[n.jsxs("p",{className:"text-primary font-bold text-lg mb-1 flex items-center gap-2",children:[n.jsx("span",{className:"material-symbols-outlined",children:"auto_awesome"}),"AI"]}),n.jsxs("p",{className:"text-text-muted text-sm",children:["SatoTrip",n.jsx("br",{className:"hidden sm:block"}),""]})]}),n.jsx("div",{className:"flex gap-2",children:n.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-100 text-gray-500 flex items-center justify-center shadow-sm",title:"Database",children:n.jsx("span",{className:"material-symbols-outlined",children:"database"})})})]}),n.jsx("div",{className:"flex flex-col sm:flex-row justify-between items-end gap-4",children:n.jsx("div",{className:"flex border-b border-gray-200 overflow-x-auto w-full scrollbar-hide",children:Array.from({length:o.days},(z,F)=>F+1).map(z=>{const F=Va[(z-1)%Va.length],W=z===S;return n.jsxs("button",{onClick:()=>y(z),className:`px-6 py-3 font-bold border-b-2 transition-colors whitespace-nowrap ${W?`${F.border} ${F.text}`:"border-transparent text-text-muted hover:text-text-light"}`,children:[z,""]},z)})})}),n.jsxs("div",{className:`relative pl-12 border-l-2 ml-6 space-y-8 py-4 transition-colors ${ye.border} border-opacity-30`,children:[nt.length===0?n.jsx("div",{className:"text-text-muted italic",children:""}):O?n.jsx(xy,{sensors:ge,collisionDetection:xb,onDragEnd:at,children:n.jsx(Ay,{items:nt.map(z=>z.id),strategy:Cy,children:nt.map((z,F)=>n.jsx(Yy,{spot:z,index:F,isEditMode:O,currentColor:ye,editedSpots:V,handleSpotEdit:ll,calculateEndTime:Bl,transportModes:b,handleModeChange:yt,calculateDuration:zl,totalSpots:nt.length,onDelete:Ml},z.id))})}):nt.map((z,F)=>n.jsxs(Ct.Fragment,{children:[n.jsxs("div",{className:"relative flex items-start gap-4",children:[n.jsx("div",{className:`absolute -left-[4.5rem] w-12 h-12 rounded-full bg-white border-4 flex items-center justify-center shadow-sm z-10 transition-colors ${ye.border} ${ye.text}`,children:n.jsx("span",{className:"material-symbols-outlined",children:z.spot.category==="Food"?"restaurant":z.spot.category==="Shopping"?"shopping_bag":z.spot.category==="Hotel"?"hotel":"palette"})}),n.jsxs("div",{className:"flex-1 pt-1 group",children:[z.spot.category==="Hotel"?n.jsxs("p",{className:"text-text-muted font-medium text-sm mb-1",children:[z.startTime," -  ",n.jsx("span",{className:"text-xs",children:"()"})]}):n.jsxs("p",{className:"text-text-muted font-medium text-sm mb-1",children:[z.startTime," - ",Bl(z.startTime||"09:00",z.spot.durationMinutes||60)," ",n.jsxs("span",{className:"text-xs",children:["(: ",z.spot.durationMinutes||60,")"]})]}),n.jsxs("h3",{className:"text-xl font-bold mb-1 flex items-center gap-2",children:[z.spot.name,z.isMustVisit&&n.jsxs("span",{className:"bg-primary text-white text-[10px] px-2 py-0.5 rounded-full font-bold shadow-sm animate-pulse flex items-center gap-1",children:[n.jsx("span",{className:"material-symbols-outlined text-[12px]",children:"check"})," MUST"]})]}),n.jsx("p",{className:"text-text-muted text-sm mb-2 line-clamp-2",children:z.spot.description}),n.jsx("div",{className:"flex gap-2 flex-wrap",children:z.spot.tags&&z.spot.tags.length>0?z.spot.tags.map((W,he)=>{const pe=typeof W=="string"?W:(W==null?void 0:W.value)||(W==null?void 0:W.normalized)||String(W);return n.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 bg-gradient-to-r from-pink-500 to-purple-500 text-white text-[10px] rounded-full font-bold shadow-sm",children:[n.jsx("span",{className:"material-symbols-outlined text-[10px]",children:"trending_up"})," ",pe]},he)}):n.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 bg-gray-100 text-text-muted text-[10px] rounded-full font-bold",children:["4.8 ",n.jsx("span",{className:"material-symbols-outlined text-[10px] text-yellow-500 fill",children:"star"})]})})]}),n.jsx("div",{className:"w-20 h-20 rounded-lg overflow-hidden shadow-sm flex-shrink-0 hidden sm:block",children:n.jsx("img",{src:z.spot.image,alt:"",className:"w-full h-full object-cover"})})]}),z.transportMode&&F<Bt.length-1&&n.jsx(Wh,{mode:(()=>{const W=b[z.id]||"public";return fetch("http://127.0.0.1:7243/ingest/0154fa29-b553-4de4-8ba1-d0609672b9f3",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({location:"PlanPages.tsx:1968",message:"TransportLine mode prop",data:{spotId:z.id,transportModesValue:b[z.id],modeValue:W,transportMode:z.transportMode},timestamp:Date.now(),sessionId:"debug-session",runId:"run1",hypothesisId:"D"})}).catch(()=>{}),W})(),duration:(()=>{const W=b[z.id]||"public",he=o==null?void 0:o.spots.find(Ae=>Ae.id===z.id),pe=(he==null?void 0:he.transportMode)||z.transportMode;return W!==pe&&!(W==="public"&&(pe==="train"||pe==="bus"))||!z.transportDuration?zl(pe,z.transportDuration||20,W):z.transportDuration})(),onModeChange:W=>yt(z.id,W)})]},z.id)),O&&n.jsxs("button",{onClick:()=>le(!0),className:"w-full py-3 border-2 border-dashed border-primary/30 text-primary font-bold rounded-xl hover:bg-primary/5 transition-colors flex items-center justify-center gap-2",children:[n.jsx("span",{className:"material-symbols-outlined",children:"add_circle"})," "]})]}),n.jsx("div",{className:"flex justify-end",children:n.jsxs("button",{onClick:()=>{const z="https://www.google.com/maps/dir/",F=Bt.map(W=>W.spot.name).join("/");window.open(`${z}${F}`,"_blank")},className:"flex items-center gap-2 bg-white border border-gray-300 px-6 py-3 rounded-full font-bold hover:bg-gray-50 transition-colors shadow-sm",children:[n.jsx("img",{src:"https://upload.wikimedia.org/wikipedia/commons/thumb/a/aa/Google_Maps_icon_%282020%29.svg/512px-Google_Maps_icon_%282020%29.svg.png",className:"w-6 h-6",alt:"Google Maps"}),"Google"]})}),n.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-lg border border-primary/10",children:[n.jsxs("h3",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[n.jsx("span",{className:"material-symbols-outlined text-primary",children:"hotel"}),""]}),n.jsx("div",{className:"mb-4",children:n.jsx("p",{className:"text-sm text-text-muted mb-2",children:n.jsxs("span",{className:"font-bold",children:[": ",o.area]})})}),w.length>0&&n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block font-bold text-text-muted text-sm mb-2",children:""}),n.jsx("div",{className:"grid grid-cols-2 gap-2",children:w.map(z=>n.jsxs("button",{onClick:()=>re(z.name===te?null:z.name),className:`p-3 rounded-lg border-2 flex items-center gap-2 transition-all text-sm font-bold ${te===z.name?"border-primary bg-primary/5 text-primary":"border-gray-200 hover:border-gray-300 text-text-muted"}`,children:[n.jsx("span",{children:z.icon}),n.jsx("span",{children:z.name})]},z.name))}),te&&n.jsx("p",{className:"text-xs text-text-muted mt-2",children:(Ut=w.find(z=>z.name===te))==null?void 0:Ut.description})]}),n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block font-bold text-text-muted text-sm mb-2",children:""}),n.jsx("input",{type:"text",placeholder:": ",className:"w-full px-4 py-2 bg-gray-50 rounded-lg border border-gray-200 focus:border-primary focus:outline-none",value:fe,onChange:z=>be(z.target.value)})]}),n.jsx("button",{onClick:Et,disabled:De,className:"w-full bg-primary text-white py-3 rounded-lg font-bold shadow-lg hover:opacity-90 disabled:opacity-50 disabled:cursor-not-allowed transition-all mb-4",children:De?"...":""}),xe&&n.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200",children:[n.jsx("h4",{className:"font-bold text-sm mb-3",children:""}),n.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[xe.links.rakuten&&!xe.links.rakuten.error&&n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("a",{href:xe.links.rakuten.link,target:"_blank",rel:"noopener noreferrer",className:"flex-1 flex items-center gap-3 p-3 bg-red-50 border border-red-200 rounded-lg hover:bg-red-100 transition-colors",children:[n.jsx("span",{className:"text-2xl",children:""}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"font-bold text-sm",children:""}),n.jsx("p",{className:"text-xs text-text-muted",children:xe.links.rakuten.description})]}),n.jsx("span",{className:"material-symbols-outlined text-red-500",children:"open_in_new"})]}),fe&&n.jsx("button",{onClick:()=>Lt(fe),className:"px-4 py-3 bg-primary text-white rounded-lg font-bold hover:opacity-90 transition-opacity flex items-center gap-2",title:"",children:n.jsx("span",{className:"material-symbols-outlined",children:"add"})})]}),xe.links.yahoo&&!xe.links.yahoo.error&&n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("a",{href:xe.links.yahoo.link,target:"_blank",rel:"noopener noreferrer",className:"flex-1 flex items-center gap-3 p-3 bg-blue-50 border border-blue-200 rounded-lg hover:bg-blue-100 transition-colors",children:[n.jsx("span",{className:"text-2xl",children:""}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"font-bold text-sm",children:"Yahoo!"}),n.jsx("p",{className:"text-xs text-text-muted",children:xe.links.yahoo.description})]}),n.jsx("span",{className:"material-symbols-outlined text-blue-500",children:"open_in_new"})]}),fe&&n.jsx("button",{onClick:()=>Lt(fe),className:"px-4 py-3 bg-primary text-white rounded-lg font-bold hover:opacity-90 transition-opacity flex items-center gap-2",title:"",children:n.jsx("span",{className:"material-symbols-outlined",children:"add"})})]}),xe.links.jalan&&!xe.links.jalan.error&&n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("a",{href:xe.links.jalan.link,target:"_blank",rel:"noopener noreferrer",className:"flex-1 flex items-center gap-3 p-3 bg-green-50 border border-green-200 rounded-lg hover:bg-green-100 transition-colors",children:[n.jsx("span",{className:"text-2xl",children:""}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"font-bold text-sm",children:""}),n.jsx("p",{className:"text-xs text-text-muted",children:xe.links.jalan.description})]}),n.jsx("span",{className:"material-symbols-outlined text-green-500",children:"open_in_new"})]}),fe&&n.jsx("button",{onClick:()=>Lt(fe),className:"px-4 py-3 bg-primary text-white rounded-lg font-bold hover:opacity-90 transition-opacity flex items-center gap-2",title:"",children:n.jsx("span",{className:"material-symbols-outlined",children:"add"})})]})]}),xe.errors&&xe.errors.length>0&&n.jsxs("div",{className:"mt-3 p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:[n.jsx("p",{className:"text-xs font-bold text-yellow-800 mb-1",children:":"}),xe.errors.map((z,F)=>n.jsxs("p",{className:"text-xs text-yellow-700",children:["- ",z.affiliate,": ",z.error]},F))]})]})]})]}),n.jsxs("div",{className:"order-1 lg:order-2 lg:sticky lg:top-24 h-[400px] lg:h-[600px] bg-gray-100 rounded-2xl overflow-hidden shadow-inner relative z-0",children:[n.jsx(Ph,{planSpots:ce.length>0?ce:o.spots,areaName:o.area,selectedDay:S,planId:o.id,visibleDays:Y,onRouteInfoUpdate:(z,F)=>{if(D(W=>({...W,[z]:F})),F.spotDurations&&o){const W=ce.length>0?ce:o.spots;W.filter(pe=>pe.day===z);const he=[...W];F.spotDurations.forEach(({spotId:pe,duration:Re})=>{const Ae=he.findIndex(vt=>vt.id===pe);Ae!==-1&&he[Ae].transportDuration!==Re&&(he[Ae]={...he[Ae],transportDuration:Re})}),ce.length>0?Se(he):d({...o,spots:he})}}}),n.jsx("div",{className:"absolute top-4 right-4 w-64 bg-white/95 backdrop-blur-sm p-3 rounded-lg shadow-lg border border-gray-200 transition-all z-[400]",children:n.jsxs("div",{className:"flex flex-col gap-2",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center transition-colors text-white shadow-sm ${ye.bg}`,children:n.jsx("span",{className:"material-symbols-outlined text-sm",children:"map"})}),n.jsxs("div",{children:[n.jsxs("p",{className:"font-bold text-xs",children:[S,""]}),n.jsx("p",{className:"text-[10px] text-text-muted",children:n.jsx("span",{className:`font-semibold ${ye.text}`,children:At})})]})]}),n.jsx("button",{onClick:()=>ne(!P),className:"w-6 h-6 rounded flex items-center justify-center hover:bg-gray-100 transition-colors",title:P?"":"",children:n.jsx("span",{className:"material-symbols-outlined text-sm text-text-muted",children:P?"expand_less":"expand_more"})})]}),P&&n.jsxs(n.Fragment,{children:[X[S]&&n.jsx("div",{className:"bg-gray-50 rounded p-2 border border-gray-200",children:n.jsxs("div",{className:"flex items-center justify-between text-xs",children:[n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx("span",{className:"text-text-muted",children:":"}),n.jsxs("span",{className:"font-bold",children:[X[S].distance.toFixed(1)," km"]})]}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx("span",{className:"text-text-muted",children:":"}),n.jsxs("span",{className:"font-bold",children:[Math.round(X[S].duration)," "]})]}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx("span",{className:"text-text-muted",children:""}),n.jsx("span",{className:"font-bold text-[10px]",children:X[S].transportation||""})]})]})}),o.days>1&&n.jsxs("div",{className:"flex flex-wrap gap-1.5 pt-1.5 border-t border-gray-200",children:[n.jsx("span",{className:"text-[10px] font-bold text-text-muted w-full mb-1",children:":"}),Array.from({length:o.days},(z,F)=>F+1).map(z=>{const F=Y.has(z),W=Va[(z-1)%Va.length];return n.jsx("button",{onClick:()=>{const he=new Set(Y);F?he.delete(z):he.add(z),ee(he)},className:`px-2 py-1 rounded-full text-[10px] font-bold transition-all ${F?`${W.bg} text-white shadow-sm`:"bg-gray-100 text-text-muted hover:bg-gray-200"}`,children:z},z)})]})]})]})})]})]}),n.jsx(Ah,{isOpen:de,onClose:()=>le(!1),onAddSpot:Ll,area:o==null?void 0:o.area,existingSpotIds:new Set(ce.map(z=>z.spotId))})]})},Xy=({planId:i,onNavigate:c})=>{const[o,d]=m.useState(null),[h,x]=m.useState(!0),[v,p]=m.useState(!1),[b,g]=m.useState(null),[S,y]=m.useState([]),[O,A]=m.useState(!1),[V,R]=m.useState(null),[H,E]=m.useState(!1),Q=m.useRef(null),M=m.useRef(null);m.useEffect(()=>{(async()=>{try{x(!0),g(null);const J=await Th(i);d(J),y(JSON.parse(JSON.stringify(J.spots)))}catch(J){console.error("Failed to fetch plan:",J),g(J.detail||J.message||"")}finally{x(!1)}})()},[i]),m.useEffect(()=>{o&&A(JSON.stringify(o.spots)!==JSON.stringify(S))},[S,o]);const Y=se=>{y(J=>J.filter(C=>C.id!==se))},ee=se=>{const J={id:`new_${Date.now()}`,spotId:se.id,spot:se,day:1,startTime:"10:00"};y(C=>[...C,J]),E(!1)},X=async()=>{if(o)try{p(!0);const se=await zs(o.id,{spots:S});d(se),y(JSON.parse(JSON.stringify(se.spots))),c(`/plan/${o.id}`)}catch(se){console.error("Failed to save plan:",se),alert(se.detail||se.message||"")}finally{p(!1)}};if(h)return n.jsx("div",{className:"min-h-screen flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"w-16 h-16 border-4 border-primary border-t-transparent rounded-full animate-spin mx-auto mb-4"}),n.jsx("p",{className:"text-text-muted",children:"..."})]})});if(b||!o)return n.jsx("div",{className:"min-h-screen flex items-center justify-center px-4",children:n.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-xl p-6 text-center max-w-md",children:[n.jsx("p",{className:"text-red-600 font-bold mb-2",children:""}),n.jsx("p",{className:"text-red-500 text-sm mb-4",children:b||""}),n.jsx("button",{onClick:()=>c("/plans"),className:"bg-primary text-white px-6 py-3 rounded-full font-bold shadow-lg hover:opacity-90 transition-opacity",children:""})]})});const D=(se,J)=>{Q.current=J,R(J),se.dataTransfer.effectAllowed="move"},P=(se,J)=>{se.preventDefault(),M.current=J},ne=()=>{if(R(null),Q.current===null||M.current===null)return;if(Q.current===M.current){Q.current=null,M.current=null;return}const se=[...S],J=se[Q.current];se.splice(Q.current,1),se.splice(M.current,0,J),Q.current=null,M.current=null,y(se)},de=(se,J)=>{Q.current=J,R(J),document.body.style.overflow="hidden"},le=se=>{if(Q.current===null)return;const J=se.touches[0],C=document.elementFromPoint(J.clientX,J.clientY);if(!C)return;const G=C.closest("[data-plan-item]");if(!G)return;const B=parseInt(G.getAttribute("data-index")||"-1");if(B===-1||B===Q.current)return;const ae=[...S],ge=ae[Q.current];ae.splice(Q.current,1),ae.splice(B,0,ge),y(ae),Q.current=B,R(B)},ce=()=>{R(null),Q.current=null,document.body.style.overflow=""},Se=new Set(S.map(se=>se.spotId));return n.jsxs("div",{className:"min-h-screen bg-background-light pb-20",children:[n.jsxs("div",{className:"sticky top-16 z-40 bg-white/80 backdrop-blur-sm border-b border-gray-200 px-4 py-4 flex items-center justify-between shadow-sm",children:[n.jsxs("h1",{className:"text-2xl font-black truncate",children:[(o==null?void 0:o.title)||""," ",n.jsx("span",{className:"text-sm font-normal text-text-muted ml-2 hidden sm:inline",children:""})]}),n.jsxs("div",{className:"flex gap-3 items-center",children:[n.jsx("button",{onClick:()=>c(`/plan/${o.id}`),className:"px-4 py-2 text-sm font-bold text-text-muted hover:text-text-light",children:""}),n.jsxs("button",{onClick:X,className:`px-6 py-2 rounded-full text-sm font-bold shadow-lg flex items-center gap-2 transition-all ${O&&!v?"bg-primary text-white hover:opacity-90":"bg-gray-200 text-gray-400 cursor-not-allowed"}`,disabled:!O||v,children:[n.jsx("span",{className:"material-symbols-outlined text-lg",children:v?"hourglass_empty":"save"}),v?"...":""]})]})]}),n.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-6 flex flex-col lg:flex-row gap-8",children:[n.jsx("div",{className:"w-full lg:w-3/5 space-y-8",children:n.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsx("h2",{className:"text-xl font-bold",children:"1: "}),n.jsx("button",{className:"text-text-muted hover:text-text-light",children:n.jsx("span",{className:"material-symbols-outlined",children:"more_vert"})})]}),n.jsxs("div",{className:"space-y-4",children:[S.map((se,J)=>n.jsxs(Ct.Fragment,{children:[n.jsxs("div",{"data-plan-item":!0,"data-index":J,draggable:!0,onDragStart:C=>D(C,J),onDragOver:C=>P(C,J),onDragEnd:ne,className:`group relative flex gap-4 p-3 rounded-xl transition-all select-none ${V===J?"bg-primary/5 border-2 border-dashed border-primary opacity-50":"bg-background-light hover:ring-2 ring-primary/50"}`,children:[n.jsx("img",{src:se.spot.image,className:"w-16 h-16 rounded-lg object-cover pointer-events-none",alt:se.spot.name}),n.jsxs("div",{className:"flex-1 min-w-0 pointer-events-none",children:[n.jsx("p",{className:"font-bold truncate",children:se.spot.name}),n.jsxs("p",{className:"text-sm text-text-muted",children:["",se.spot.durationMinutes,"",se.spot.category]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("button",{onClick:()=>Y(se.id),className:"w-8 h-8 flex items-center justify-center text-text-muted hover:bg-red-100 hover:text-red-500 rounded-full transition-colors",children:n.jsx("span",{className:"material-symbols-outlined",children:"delete"})}),n.jsx("div",{className:"w-10 h-10 flex items-center justify-center cursor-grab active:cursor-grabbing text-text-muted hover:bg-gray-200 rounded-full",onTouchStart:C=>de(C,J),onTouchMove:le,onTouchEnd:ce,style:{touchAction:"none"},children:n.jsx("span",{className:"material-symbols-outlined",children:"drag_indicator"})})]})]}),J<S.length-1&&n.jsxs("div",{className:"flex justify-center text-sm text-text-muted font-medium py-2",children:[n.jsx("span",{className:"material-symbols-outlined mr-1 text-base",children:"directions_walk"})," 15"]})]},se.id)),n.jsxs("button",{onClick:()=>E(!0),className:"w-full py-3 border-2 border-dashed border-primary/30 text-primary font-bold rounded-xl hover:bg-primary/5 transition-colors flex items-center justify-center gap-2",children:[n.jsx("span",{className:"material-symbols-outlined",children:"add_circle"})," "]})]})]})}),n.jsxs("div",{className:"w-full lg:w-2/5 lg:sticky lg:top-28 self-start",children:[n.jsx("div",{className:"aspect-[4/3] bg-gray-100 rounded-xl overflow-hidden shadow-sm relative z-0",children:o&&n.jsx(Ph,{planSpots:S,areaName:o.area,selectedDay:1,planId:o.id})}),n.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-100 mt-4",children:[n.jsx("h3",{className:"font-bold mb-2",children:""}),n.jsxs("p",{className:"text-sm text-text-muted",children:["",n.jsx("span",{className:"material-symbols-outlined align-middle text-sm",children:"drag_indicator"}),""]})]})]})]}),n.jsx(Ah,{isOpen:H,onClose:()=>E(!1),onAddSpot:ee,area:o==null?void 0:o.area,existingSpotIds:Se})]})},Oo=["History","Nature","Food","Culture","Shopping","Art","Relax","Tourism","Experience","Event","HotSpring","ScenicView","Cafe","Hotel","Drink","Fashion","Date","Drive"],Ro={History:"",Nature:"",Food:"",Culture:"",Shopping:"",Art:"",Relax:"",Tourism:"",Experience:"",Event:"",HotSpring:"",ScenicView:"",Cafe:"",Hotel:"",Drink:"",Fashion:"",Date:"",Drive:""};async function Qy(){return Ce.get("/api/admin/users")}async function Zy(i,c){return Ce.put(`/api/admin/users/${i}/role?role=${c}`,{})}async function Vy(i,c){return Ce.put(`/api/admin/users/${i}/status?is_active=${c}`,{})}async function Ky(){return Ce.get("/api/admin/settings")}async function Jy(i){return Ce.put("/api/admin/settings",i)}async function $y(){return Ce.get("/api/admin/stats")}async function Fy(){return Ce.get("/api/admin/alerts")}async function Iy(i=3){return Ce.get(`/api/admin/trending-areas?limit=${i}`)}const Wy=[{id:"hokkaido_tohoku",name:"",prefs:["","","","","","",""]},{id:"kanto",name:"",prefs:["","","","","","",""]},{id:"chubu",name:"",prefs:["","","","","","","","",""]},{id:"kinki",name:"",prefs:["","","","","","",""]},{id:"chugoku_shikoku",name:"",prefs:["","","","","","","","",""]},{id:"kyushu_okinawa",name:"",prefs:["","","","","","","",""]}],Py=()=>{const{showError:i}=zn(),[c,o]=m.useState(null),[d,h]=m.useState([]),[x,v]=m.useState([]),[p,b]=m.useState(!0),[g,S]=m.useState(null);m.useEffect(()=>{(async()=>{b(!0),S(null);try{const[R,H,E]=await Promise.all([$y(),Fy(),Iy(3)]);o(R),h(H),v(E)}catch(R){console.error("Failed to fetch dashboard data:",R),S(R.detail||R.message||"")}finally{b(!1)}})()},[]);const y=c?[{label:" ()",value:c.plans_today.toLocaleString(),change:`${c.plans_change>=0?"+":""}${c.plans_change.toFixed(1)}%`,trend:c.plans_trend,icon:"auto_awesome",color:"text-accent"},{label:"API (24h)",value:c.api_calls_24h.toLocaleString(),change:`${c.api_calls_change>=0?"+":""}${c.api_calls_change.toFixed(1)}%`,trend:c.api_calls_trend,icon:"api",color:"text-primary"},{label:"",value:`${c.error_rate.toFixed(2)}%`,change:`${c.error_rate_change>=0?"+":""}${c.error_rate_change.toFixed(1)}%`,trend:c.error_rate_trend,icon:"error_outline",color:"text-red-500"}]:[],O=V=>{switch(V){case"error":return"bg-red-50 text-red-700";case"warning":return"bg-yellow-50 text-yellow-700";case"success":return"bg-green-50 text-green-700";default:return"bg-gray-50 text-gray-700"}},A=V=>{switch(V){case"error":return"error";case"warning":return"warning";case"success":return"check_circle";default:return"info"}};return p?n.jsx("div",{className:"p-6 md:p-10 bg-background-light min-h-full",children:n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsx("div",{className:"w-12 h-12 border-4 border-primary border-t-transparent rounded-full animate-spin"})})}):g?n.jsx("div",{className:"p-6 md:p-10 bg-background-light min-h-full",children:n.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 text-red-700",children:[n.jsx("p",{className:"font-bold",children:""}),n.jsx("p",{children:g})]})}):n.jsxs("div",{className:"p-6 md:p-10 bg-background-light min-h-full",children:[n.jsxs("header",{className:"mb-10",children:[n.jsx("h1",{className:"text-3xl font-bold text-text-light mb-2",children:""}),n.jsx("p",{className:"text-text-muted",children:"SatoTrip Commercial"})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-10",children:y.map((V,R)=>n.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-gray-100",children:[n.jsxs("div",{className:"flex justify-between mb-2",children:[n.jsx("span",{className:"text-text-muted font-medium",children:V.label}),n.jsx("span",{className:`material-symbols-outlined ${V.color}`,children:V.icon})]}),n.jsx("div",{className:"text-4xl font-bold text-text-light mb-1",children:V.value}),n.jsxs("div",{className:`text-sm font-bold flex items-center ${V.trend==="up"?"text-green-500":"text-red-500"}`,children:[n.jsx("span",{className:"material-symbols-outlined text-lg",children:V.trend==="up"?"trending_up":"trending_down"}),V.change]})]},R))}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[n.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-gray-100",children:[n.jsx("h2",{className:"text-lg font-bold mb-4",children:""}),n.jsx("div",{className:"space-y-4",children:d.length===0?n.jsx("p",{className:"text-text-muted text-sm",children:""}):d.map((V,R)=>n.jsxs("div",{className:`flex items-start gap-3 p-3 rounded-lg text-sm ${O(V.type)}`,children:[n.jsx("span",{className:"material-symbols-outlined",children:A(V.type)}),n.jsxs("div",{children:[n.jsx("p",{className:"font-bold",children:V.title}),n.jsx("p",{className:"opacity-80",children:V.message})]})]},R))})]}),n.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-gray-100",children:[n.jsx("h2",{className:"text-lg font-bold mb-4",children:""}),n.jsx("div",{className:"space-y-4",children:x.length===0?n.jsx("p",{className:"text-text-muted text-sm",children:""}):x.map((V,R)=>n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-8 h-8 rounded-full bg-primary/10 text-primary flex items-center justify-center font-bold",children:R+1}),n.jsx("span",{className:"font-bold",children:V.area})]}),n.jsxs("div",{className:"text-sm text-text-muted flex items-center gap-1",children:[n.jsx("span",{className:"material-symbols-outlined text-green-500 text-sm",children:"trending_up"}),V.change_rate>=0?"+":"",V.change_rate.toFixed(1),"%"]})]},R))})]})]})]})},e0=()=>{var Yt,fl,ml,Vt,Tl,Gt;const{showSuccess:i,showError:c,showWarning:o}=zn(),[d,h]=m.useState(""),[x,v]=m.useState(null),[p,b]=m.useState(new Set),[g,S]=m.useState(!1),[y,O]=m.useState("bottom"),A=m.useRef(null),V=m.useRef(null),[R,H]=m.useState([]),[E,Q]=m.useState(!0),[M,Y]=m.useState(!1),[ee,X]=m.useState(!1),[D,P]=m.useState(!1),[ne,de]=m.useState(null),[le,ce]=m.useState(""),[Se,se]=m.useState(3),[J,C]=m.useState(20),[G,B]=m.useState(30),[ae,ge]=m.useState(!0),[w,Z]=m.useState(""),[te,re]=m.useState(!0),[fe,be]=m.useState(null),[xe,Ve]=m.useState(null),[De,Ee]=m.useState("desc"),[Lt,Et]=m.useState({name:"",description:"",area:"",category:"Culture",image:"",rating:0,price:void 0,durationMinutes:60,location:void 0}),[yt,lt]=m.useState("table"),[Ot,Xt]=m.useState("All"),[Ml,Ll]=m.useState(!1),[ll,Rt]=m.useState(!1),[at,gt]=m.useState(1),[Qt,ct]=m.useState(20),[Bl,zl]=m.useState(null),[Bt,nt]=m.useState(!1),[ye,At]=m.useState({}),[Ut,z]=m.useState(!1),[F,W]=m.useState({}),[he,pe]=m.useState([]);m.useEffect(()=>{Re(),Bp().then(W).catch(j=>console.error("Failed to load keywords",j))},[]),m.useEffect(()=>{if(!le||!F){pe([]);return}const j=Object.keys(F).find(ie=>ie===le||le.includes(ie)||ie.includes(le));j&&F[j]&&F[j].?pe(F[j].):pe([])},[le,F]),m.useEffect(()=>{const j=()=>{if(g&&A.current){const ie=A.current.getBoundingClientRect(),Ie=window.innerHeight-ie.bottom,Cl=ie.top;Ie<500&&Cl>Ie?O("top"):O("bottom")}};if(j(),g)return window.addEventListener("resize",j),window.addEventListener("scroll",j,!0),()=>{window.removeEventListener("resize",j),window.removeEventListener("scroll",j,!0)}},[g]),m.useEffect(()=>{const j=ie=>{A.current&&!A.current.contains(ie.target)&&S(!1)};return g&&document.addEventListener("mousedown",j),()=>{document.removeEventListener("mousedown",j)}},[g]),m.useEffect(()=>{if(!fe)return;let j=!1;const ie=window.setInterval(async()=>{try{const oe=await Lp(fe);if(j)return;if(de(oe),oe.job_status==="succeeded"||oe.job_status==="failed")if(window.clearInterval(ie),P(!1),be(null),oe.job_status==="succeeded"&&oe.success){let Ie=`
`;Ie+=`: ${oe.imported}
`,Ie+=`: ${oe.processed_keywords}/${oe.total_keywords}
`,Ie+=`: ${oe.total_videos}`,oe.quota_exceeded&&(Ie+=`

 YouTube API`),oe.total_videos===0&&oe.processed_keywords>0&&(Ie=`YouTubeGemini API
Gemini API
`),oe.location_updated!==void 0&&(Ie+=`
: ${oe.location_updated}`),i(Ie.replace(/\n/g," ")),Y(!1),ce(""),Re()}else oe.job_status==="failed"&&c(`: ${oe.error||""}`)}catch(oe){console.error("Job polling failed:",oe)}},2e3);return()=>{j=!0,window.clearInterval(ie)}},[fe]);const Re=async()=>{Q(!0);try{let j=[],ie=0;const oe=1e3;let Ie=!0;for(;Ie;){const Cl=await Os({skip:ie,limit:oe});j=[...j,...Cl],Cl.length<oe?Ie=!1:ie+=oe}H(j)}catch(j){console.error("Failed to fetch spots:",j),c("")}finally{Q(!1)}},Ae=async()=>{if(!le.trim()){o(": ");return}P(!0),de(null);try{const j=await Hp(le.trim(),{max_results_per_keyword:Se,max_keywords:J,max_total_videos:G,add_location:ae,run_async:te,category:w||void 0});if(de(j),j.job_id){P(!0),be(j.job_id);return}if(j.success){let ie=`
`;j.created!==void 0&&j.merged!==void 0?ie+=`: ${j.created}: ${j.merged}: ${j.imported}
`:ie+=`: ${j.imported}
`,ie+=`: ${j.processed_keywords}/${j.total_keywords}
`,ie+=`: ${j.total_videos}`,j.skipped>0&&(ie+=`
: ${j.skipped}`),j.quota_exceeded&&(ie+=`

 YouTube API`),j.total_videos===0&&j.processed_keywords>0&&(ie=`YouTubeGemini API
Gemini API
`),j.location_updated!==void 0&&(ie+=`
: ${j.location_updated}`),i(ie.replace(/\n/g," ")),Y(!1),ce(""),Re()}else c(`: ${j.error||""}`)}catch(j){console.error("Bulk add failed:",j);let ie="";j!=null&&j.detail?ie=j.detail:j!=null&&j.message&&(ie=j.message),c(ie)}finally{fe||P(!1)}},vt=j=>{zl(j),At({...j}),nt(!0)},jt=async()=>{var j,ie;if(!(!Bl||!ye.name))try{Q(!0);const oe={...ye};(j=oe.location)!=null&&j.lat&&(oe.latitude=Number(oe.location.lat)),(ie=oe.location)!=null&&ie.lng&&(oe.longitude=Number(oe.location.lng));const Ie={name:oe.name,description:oe.description,area:oe.area,category:oe.category,image:oe.image,rating:oe.rating,price:oe.price,duration_minutes:oe.durationMinutes};oe.location&&(Ie.latitude=oe.location.lat,Ie.longitude=oe.location.lng),await Rp(Bl.id,Ie),i(""),nt(!1),zl(null),Re()}catch(oe){console.error("Update failed:",oe),c("")}finally{Q(!1)}},al=async()=>{if(!ye.name||!ye.name.trim()){o("");return}z(!0);try{const j=await kp(ye.name);At({...ye,name:j.name||ye.name,description:j.description||ye.description,area:j.area||ye.area,category:j.category||ye.category,image:j.image||ye.image,price:j.price||ye.price,durationMinutes:j.duration_minutes||ye.durationMinutes}),i("AI")}catch(j){console.error("Research failed:",j),c(j.detail||j.message||"AI")}finally{z(!1)}},Be=async j=>{if(window.confirm(""))try{await Up(j),i(""),Re()}catch(ie){console.error("Delete failed:",ie),c("")}},He=j=>{if(!j)return"-";try{return new Date(j).toLocaleString("ja-JP",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})}catch{return"-"}},Xe=j=>{xe===j?Ee(De==="asc"?"desc":"asc"):(Ve(j),Ee("desc"))};let Le=R.filter(j=>{const ie=j.name.toLowerCase().includes(d.toLowerCase())||j.area.toLowerCase().includes(d.toLowerCase()),oe=x===null||x&&j.area.includes(x),Ie=Ot==="All"||j.category===Ot,Cl=!Ml||!j.location,Aa=!ll||!j.image;return ie&&oe&&Ie&&Cl&&Aa});xe&&(Le=[...Le].sort((j,ie)=>{const oe=j[xe],Ie=ie[xe];if(!oe&&!Ie)return 0;if(!oe)return 1;if(!Ie)return-1;const Cl=new Date(oe).getTime(),Aa=new Date(Ie).getTime();return De==="asc"?Cl-Aa:Aa-Cl}));const Fe=Math.ceil(Le.length/Qt),st=Le.slice((at-1)*Qt,at*Qt),kt=new Set(R.map(j=>j.category).filter(Boolean)),Zt=["All",...Oo.filter(j=>kt.has(j))],ot=j=>{b(ie=>{const oe=new Set(ie);return oe.has(j)?oe.delete(j):oe.add(j),oe})},nl=j=>{v(x===j?null:j),gt(1)},Nt={total:R.length,missingLocation:R.filter(j=>!j.location).length,missingImage:R.filter(j=>!j.image).length,categories:new Set(R.map(j=>j.category)).size};return n.jsxs("div",{className:"p-6 md:p-10 bg-background-light min-h-full relative pb-24",children:[n.jsxs("header",{className:"mb-8 flex justify-between items-center",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-text-light",children:""}),n.jsx("p",{className:"text-text-muted",children:""})]}),n.jsxs("button",{onClick:()=>Y(!0),className:"bg-primary text-white px-4 py-2 rounded-lg font-bold flex items-center gap-2 shadow-lg hover:bg-primary/90 transition-colors",children:[n.jsx("span",{className:"material-symbols-outlined",children:"add"})," "]})]}),n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-8",children:[n.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-100 flex items-center gap-4",children:[n.jsx("div",{className:"p-3 bg-blue-50 text-blue-600 rounded-full",children:n.jsx("span",{className:"material-symbols-outlined",children:"place"})}),n.jsxs("div",{children:[n.jsx("div",{className:"text-xs text-text-muted font-bold",children:""}),n.jsx("div",{className:"text-xl font-bold",children:Nt.total})]})]}),n.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-100 flex items-center gap-4",children:[n.jsx("div",{className:"p-3 bg-red-50 text-red-600 rounded-full",children:n.jsx("span",{className:"material-symbols-outlined",children:"wrong_location"})}),n.jsxs("div",{children:[n.jsx("div",{className:"text-xs text-text-muted font-bold",children:""}),n.jsx("div",{className:"text-xl font-bold text-red-600",children:Nt.missingLocation})]})]}),n.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-100 flex items-center gap-4",children:[n.jsx("div",{className:"p-3 bg-orange-50 text-orange-600 rounded-full",children:n.jsx("span",{className:"material-symbols-outlined",children:"image_not_supported"})}),n.jsxs("div",{children:[n.jsx("div",{className:"text-xs text-text-muted font-bold",children:""}),n.jsx("div",{className:"text-xl font-bold text-orange-600",children:Nt.missingImage})]})]}),n.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-100 flex items-center gap-4",children:[n.jsx("div",{className:"p-3 bg-green-50 text-green-600 rounded-full",children:n.jsx("span",{className:"material-symbols-outlined",children:"category"})}),n.jsxs("div",{children:[n.jsx("div",{className:"text-xs text-text-muted font-bold",children:""}),n.jsx("div",{className:"text-xl font-bold",children:Nt.categories})]})]})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[n.jsxs("div",{className:"p-4 border-b border-gray-100 flex flex-col md:flex-row gap-4 items-center justify-between bg-gray-50/50",children:[n.jsxs("div",{className:"flex gap-4 flex-1 w-full md:w-auto",children:[n.jsxs("div",{className:"relative flex-1 md:max-w-xs",children:[n.jsx("span",{className:"material-symbols-outlined absolute left-3 top-1/2 -translate-y-1/2 text-text-muted",children:"search"}),n.jsx("input",{type:"text",placeholder:"",className:"w-full pl-10 py-2 rounded-lg border border-gray-200 focus:outline-none focus:ring-2 focus:ring-primary/50 text-sm",value:d,onChange:j=>{h(j.target.value),gt(1)}})]}),n.jsxs("div",{className:"flex bg-gray-100 p-1 rounded-lg",children:[n.jsxs("button",{onClick:()=>lt("table"),className:`px-3 py-1.5 rounded-md text-sm font-medium transition-all ${yt==="table"?"bg-white shadow-sm text-primary":"text-text-muted hover:text-text-light"}`,children:[n.jsx("span",{className:"material-symbols-outlined text-lg align-bottom mr-1",children:"table_rows"}),""]}),n.jsxs("button",{onClick:()=>lt("grid"),className:`px-3 py-1.5 rounded-md text-sm font-medium transition-all ${yt==="grid"?"bg-white shadow-sm text-primary":"text-text-muted hover:text-text-light"}`,children:[n.jsx("span",{className:"material-symbols-outlined text-lg align-bottom mr-1",children:"grid_view"}),""]}),n.jsxs("button",{onClick:()=>lt("map"),className:`px-3 py-1.5 rounded-md text-sm font-medium transition-all ${yt==="map"?"bg-white shadow-sm text-primary":"text-text-muted hover:text-text-light"}`,children:[n.jsx("span",{className:"material-symbols-outlined text-lg align-bottom mr-1",children:"map"}),""]})]})]}),n.jsxs("div",{className:"flex flex-wrap gap-2 w-full md:w-auto items-center",children:[n.jsxs("div",{className:"relative",ref:A,children:[n.jsxs("button",{onClick:()=>S(!g),className:"px-3 py-2 border border-gray-200 rounded-lg text-sm bg-white cursor-pointer hover:bg-gray-50 min-w-[200px] flex items-center justify-between",children:[n.jsx("span",{className:x?"font-bold text-primary":"text-text-muted",children:x||""}),n.jsx("span",{className:`material-symbols-outlined text-sm text-text-muted transition-transform ${g?"rotate-180":""}`,children:"expand_more"})]}),g&&n.jsx("div",{ref:V,className:`absolute left-0 bg-white border border-gray-200 rounded-lg shadow-lg z-50 overflow-y-auto min-w-[280px] ${y==="top"?"bottom-full mb-1":"top-full mt-1"}`,style:{maxHeight:y==="top"?`${Math.min(600,Math.max(300,window.innerHeight-((Yt=A.current)==null?void 0:Yt.getBoundingClientRect().top)-20))}px`:`${Math.min(600,Math.max(300,window.innerHeight-(((fl=A.current)==null?void 0:fl.getBoundingClientRect().bottom)||0)-20))}px`},children:n.jsxs("div",{className:"p-2",children:[n.jsx("button",{onClick:()=>{v(null),gt(1),S(!1)},className:`w-full text-left px-3 py-2 rounded-md text-sm hover:bg-gray-50 transition-colors ${x===null?"bg-primary/10 text-primary font-bold":"text-text-light"}`,children:""}),n.jsx("div",{className:"h-px bg-gray-200 my-2"}),Wy.map(j=>n.jsxs("div",{className:"mb-1",children:[n.jsxs("button",{onClick:()=>ot(j.id),className:"w-full text-left px-3 py-2 rounded-md text-sm font-bold bg-gray-100 hover:bg-gray-200 transition-colors flex items-center justify-between",children:[n.jsx("span",{children:j.name}),n.jsx("span",{className:`material-symbols-outlined text-sm transition-transform ${p.has(j.id)?"rotate-90":""}`,children:"chevron_right"})]}),p.has(j.id)&&n.jsx("div",{className:"pl-4 mt-1 space-y-1",children:j.prefs.map(ie=>n.jsx("button",{onClick:()=>{nl(ie),S(!1)},className:`w-full text-left px-3 py-1.5 rounded-md text-sm hover:bg-gray-50 transition-colors ${x===ie?"bg-primary/10 text-primary font-bold":"text-text-light"}`,children:ie},ie))})]},j.id))]})})]}),n.jsxs("select",{className:"px-3 py-2 border border-gray-200 rounded-lg text-sm bg-white",value:Ot,onChange:j=>{Xt(j.target.value),gt(1)},children:[n.jsx("option",{value:"All",children:""}),Zt.filter(j=>j!=="All").map(j=>n.jsx("option",{value:j,children:Ro[j]||j},j))]}),n.jsx("div",{className:"h-6 w-px bg-gray-300 mx-1"}),n.jsxs("label",{className:"flex items-center gap-1 text-sm bg-white px-3 py-2 rounded-lg border border-gray-200 cursor-pointer hover:bg-gray-50 select-none",children:[n.jsx("input",{type:"checkbox",className:"accent-red-500",checked:Ml,onChange:j=>{Ll(j.target.checked),gt(1)}}),n.jsx("span",{className:Ml?"text-red-600 font-bold":"text-text-muted",children:""})]}),n.jsxs("label",{className:"flex items-center gap-1 text-sm bg-white px-3 py-2 rounded-lg border border-gray-200 cursor-pointer hover:bg-gray-50 select-none",children:[n.jsx("input",{type:"checkbox",className:"accent-orange-500",checked:ll,onChange:j=>{Rt(j.target.checked),gt(1)}}),n.jsx("span",{className:ll?"text-orange-600 font-bold":"text-text-muted",children:""})]})]})]}),E?n.jsxs("div",{className:"p-20 text-center text-text-muted",children:[n.jsx("div",{className:"w-12 h-12 border-4 border-primary border-t-transparent rounded-full animate-spin mx-auto mb-4"}),"..."]}):yt==="map"?n.jsxs("div",{className:"p-4",children:[n.jsx(Ch,{spots:Le,height:"600px",onSpotClick:vt}),n.jsx("div",{className:"mt-2 text-right text-xs text-text-muted",children:" "})]}):n.jsxs(n.Fragment,{children:[st.length===0?n.jsxs("div",{className:"p-20 text-center text-text-muted bg-gray-50",children:[n.jsx("span",{className:"material-symbols-outlined text-4xl mb-2 opacity-30",children:"search_off"}),n.jsx("p",{children:""})]}):yt==="table"?n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full text-left whitespace-nowrap",children:[n.jsx("thead",{className:"bg-gray-50 text-text-muted text-xs uppercase tracking-wider font-bold",children:n.jsxs("tr",{children:[n.jsx("th",{className:"p-4 w-16",children:""}),n.jsx("th",{className:"p-4 cursor-pointer hover:text-primary transition-colors",onClick:()=>Xe("created_at"),children:n.jsxs("div",{className:"flex items-center gap-1",children:["/ID ",xe&&n.jsx("span",{className:"material-symbols-outlined text-xs",children:"unfold_more"})]})}),n.jsx("th",{className:"p-4",children:""}),n.jsx("th",{className:"p-4",children:""}),n.jsx("th",{className:"p-4 text-center",children:""}),n.jsx("th",{className:"p-4 cursor-pointer hover:text-primary transition-colors",onClick:()=>Xe("updated_at"),children:n.jsxs("div",{className:"flex items-center gap-1",children:[" ",xe==="updated_at"&&n.jsx("span",{className:"material-symbols-outlined text-xs",children:De==="asc"?"expand_less":"expand_more"})]})}),n.jsx("th",{className:"p-4 text-right",children:""})]})}),n.jsx("tbody",{className:"divide-y divide-gray-100",children:st.map(j=>n.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[n.jsx("td",{className:"p-4",children:n.jsx("img",{src:j.image,className:"w-10 h-10 rounded-md object-cover bg-gray-200 border border-gray-200",alt:""})}),n.jsxs("td",{className:"p-4",children:[n.jsx("div",{className:"font-bold text-text-light",children:j.name}),n.jsxs("div",{className:"text-xs text-text-muted font-mono",children:[j.id.slice(0,8),"..."]})]}),n.jsx("td",{className:"p-4",children:n.jsx("span",{className:"text-sm border border-gray-200 px-2 py-1 rounded bg-white",children:j.area})}),n.jsx("td",{className:"p-4",children:n.jsx("span",{className:"text-xs font-bold px-2 py-1 bg-primary/10 text-primary rounded-full",children:j.category})}),n.jsx("td",{className:"p-4 text-center",children:n.jsxs("div",{className:"flex justify-center gap-2",children:[!j.location&&n.jsx("span",{className:"material-symbols-outlined text-red-500 text-lg",title:"",children:"wrong_location"}),!j.image&&n.jsx("span",{className:"material-symbols-outlined text-orange-500 text-lg",title:"",children:"image_not_supported"}),j.location&&j.image&&n.jsx("span",{className:"material-symbols-outlined text-green-500 text-lg",title:"",children:"check_circle"})]})}),n.jsx("td",{className:"p-4 text-sm text-text-muted",children:He(j.updated_at)}),n.jsx("td",{className:"p-4 text-right",children:n.jsxs("div",{className:"flex justify-end gap-2",children:[n.jsx("a",{href:j.location?`https://www.google.com/maps/search/?api=1&query=${j.location.lat},${j.location.lng}`:"#",target:"_blank",rel:"noopener noreferrer",className:`p-2 rounded-full transition-colors ${j.location?"text-green-600 hover:bg-green-50":"text-gray-300 cursor-not-allowed"}`,title:"Google",onClick:ie=>!j.location&&ie.preventDefault(),children:n.jsx("span",{className:"material-symbols-outlined text-xl",children:"map"})}),n.jsx("button",{onClick:()=>vt(j),className:"p-2 hover:bg-blue-50 text-primary rounded-full transition-colors",children:n.jsx("span",{className:"material-symbols-outlined text-xl",children:"edit_square"})}),n.jsx("button",{onClick:()=>Be(j.id),className:"p-2 hover:bg-red-50 text-red-500 rounded-full transition-colors",children:n.jsx("span",{className:"material-symbols-outlined text-xl",children:"delete"})})]})})]},j.id))})]})}):n.jsx("div",{className:"p-4 grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:st.map(j=>n.jsxs("div",{className:"border border-gray-200 rounded-xl overflow-hidden hover:shadow-md transition-shadow bg-white flex flex-col",children:[n.jsxs("div",{className:"relative aspect-video bg-gray-100",children:[n.jsx("img",{src:j.image,alt:j.name,className:"w-full h-full object-cover"}),n.jsx("div",{className:"absolute top-2 right-2 flex gap-1",children:!j.location&&n.jsx("span",{className:"p-1 bg-red-500 text-white rounded shadow-sm",title:"",children:n.jsx("span",{className:"material-symbols-outlined text-xs",children:"wrong_location"})})}),n.jsx("div",{className:"absolute bottom-2 left-2",children:n.jsx("span",{className:"text-xs font-bold px-2 py-1 bg-black/60 text-white rounded-md backdrop-blur-sm",children:j.area})})]}),n.jsxs("div",{className:"p-3 flex-1 flex flex-col",children:[n.jsx("h3",{className:"font-bold text-sm mb-1 line-clamp-1",children:j.name}),n.jsxs("div",{className:"flex justify-between items-center mb-2",children:[n.jsx("span",{className:"text-xs text-primary font-bold bg-primary/5 px-2 py-0.5 rounded",children:j.category}),n.jsxs("div",{className:"flex items-center text-xs text-yellow-500 font-bold",children:[n.jsx("span",{className:"material-symbols-outlined text-sm",children:"star"}),j.rating]})]}),n.jsx("p",{className:"text-xs text-text-muted line-clamp-2 mb-3 flex-1",children:j.description}),n.jsxs("div",{className:"flex justify-end gap-2 pt-2 border-t border-gray-100",children:[n.jsx("a",{href:j.location?`https://www.google.com/maps/search/?api=1&query=${j.location.lat},${j.location.lng}`:"#",target:"_blank",rel:"noopener noreferrer",className:`text-xs font-bold ${j.location?"text-green-600 hover:underline":"text-gray-300 cursor-not-allowed"}`,onClick:ie=>!j.location&&ie.preventDefault(),children:""}),n.jsx("button",{onClick:()=>vt(j),className:"text-xs font-bold text-text-muted hover:text-primary",children:""}),n.jsx("button",{onClick:()=>Be(j.id),className:"text-xs font-bold text-text-muted hover:text-red-500",children:""})]})]})]},j.id))}),Fe>1&&n.jsxs("div",{className:"p-4 border-t border-gray-100 flex flex-col sm:flex-row justify-between items-center gap-4 bg-gray-50/50",children:[n.jsxs("div",{className:"text-sm text-text-muted",children:[n.jsx("span",{className:"font-bold",children:Le.length})," ",n.jsx("span",{className:"font-bold",children:(at-1)*Qt+1})," - ",n.jsx("span",{className:"font-bold",children:Math.min(at*Qt,Le.length)}),""]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("button",{onClick:()=>gt(Math.max(1,at-1)),disabled:at===1,className:"p-2 rounded-lg border border-gray-200 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:n.jsx("span",{className:"material-symbols-outlined text-sm",children:"chevron_left"})}),n.jsx("div",{className:"flex items-center gap-1",children:Array.from({length:Math.min(5,Fe)},(j,ie)=>{let oe=ie+1;return Fe>5&&(at>3&&(oe=at-2+ie),oe>Fe&&(oe=Fe-(4-ie))),n.jsx("button",{onClick:()=>gt(oe),className:`w-8 h-8 rounded-lg text-sm font-bold flex items-center justify-center transition-colors ${at===oe?"bg-primary text-white shadow-md":"bg-white border border-gray-200 hover:bg-gray-50 text-text-muted"}`,children:oe},oe)})}),n.jsx("button",{onClick:()=>gt(Math.min(Fe,at+1)),disabled:at===Fe,className:"p-2 rounded-lg border border-gray-200 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:n.jsx("span",{className:"material-symbols-outlined text-sm",children:"chevron_right"})})]}),n.jsxs("select",{className:"p-2 border border-gray-200 rounded-lg text-sm bg-white",value:Qt,onChange:j=>{ct(Number(j.target.value)),gt(1)},children:[n.jsx("option",{value:"10",children:"10 / "}),n.jsx("option",{value:"20",children:"20 / "}),n.jsx("option",{value:"50",children:"50 / "}),n.jsx("option",{value:"100",children:"100 / "})]})]})]})]}),M&&n.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4 backdrop-blur-sm",children:n.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-lg shadow-2xl max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:"p-6 border-b border-gray-100 flex justify-between items-center",children:[n.jsx("h2",{className:"text-xl font-bold",children:""}),n.jsx("button",{onClick:()=>Y(!1),className:"text-text-muted hover:text-text-light",children:n.jsx("span",{className:"material-symbols-outlined",children:"close"})})]}),n.jsxs("div",{className:"p-6 space-y-4",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-bold text-text-muted mb-1",children:[" ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"text",placeholder:": ",className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent outline-none",value:le,onChange:j=>ce(j.target.value),disabled:D}),n.jsx("p",{className:"text-xs text-text-muted mt-1",children:""})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-bold text-text-muted mb-1",children:" ()"}),n.jsxs("select",{className:"w-full p-2 border border-gray-300 rounded-lg text-sm bg-white",value:w,onChange:j=>Z(j.target.value),disabled:D,children:[n.jsx("option",{value:"",children:" ()"}),he.length>0?he.map(j=>n.jsx("option",{value:j,children:j},j)):Oo.map(j=>n.jsx("option",{value:j,children:Ro[j]||j},j))]}),n.jsx("p",{className:"text-xs text-text-muted mt-1",children:""})]}),n.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-200",children:[n.jsx("div",{className:"font-bold text-sm mb-3 text-text-muted",children:""}),n.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-bold text-text-muted mb-1",children:"/"}),n.jsx("input",{type:"number",min:1,className:"w-full p-2 border border-gray-300 rounded-lg text-sm",value:Se,onChange:j=>se(Number(j.target.value)),disabled:D})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-bold text-text-muted mb-1",children:""}),n.jsx("input",{type:"number",min:1,className:"w-full p-2 border border-gray-300 rounded-lg text-sm",value:J,onChange:j=>C(Number(j.target.value)),disabled:D})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-bold text-text-muted mb-1",children:""}),n.jsx("input",{type:"number",min:1,className:"w-full p-2 border border-gray-300 rounded-lg text-sm",value:G,onChange:j=>B(Number(j.target.value)),disabled:D})]})]}),n.jsxs("div",{className:"mt-3 flex flex-col gap-2",children:[n.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[n.jsx("input",{type:"checkbox",checked:ae,onChange:j=>ge(j.target.checked),disabled:D}),n.jsx("span",{children:""})]}),n.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[n.jsx("input",{type:"checkbox",checked:te,onChange:j=>re(j.target.checked),disabled:D}),n.jsx("span",{children:""})]})]})]}),D&&n.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg border border-blue-200",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx("span",{className:"animate-spin h-4 w-4 border-2 border-blue-600 border-t-transparent rounded-full"}),n.jsx("span",{className:"font-bold text-blue-700",children:"..."})]}),n.jsx("p",{className:"text-sm text-blue-600",children:"YouTube"}),(ne==null?void 0:ne.job_status)&&n.jsxs("p",{className:"text-xs text-blue-700 mt-2",children:[": ",ne.job_status," ",ne.job_id?`(job: ${ne.job_id.slice(0,8)}...)`:""]})]}),ne&&!D&&n.jsxs("div",{className:`p-4 rounded-lg border ${ne.success?"bg-green-50 border-green-200":"bg-red-50 border-red-200"}`,children:[n.jsx("div",{className:"font-bold mb-2",children:ne.success?" ":" "}),n.jsxs("div",{className:"text-sm space-y-1",children:[n.jsxs("div",{children:[": ",ne.imported,""]}),n.jsxs("div",{children:[": ",ne.processed_keywords,"/",ne.total_keywords]}),n.jsxs("div",{children:[": ",ne.total_videos,""]}),ne.quota_exceeded&&n.jsx("div",{className:"text-orange-600 font-bold",children:" YouTube API"}),ne.error&&n.jsxs("div",{className:"text-red-600",children:[": ",ne.error]})]})]}),n.jsxs("div",{className:"pt-4 flex gap-3",children:[n.jsx("button",{type:"button",onClick:()=>{Y(!1),ce(""),de(null)},className:"flex-1 py-3 font-bold border border-gray-300 rounded-xl hover:bg-gray-50",disabled:D,children:""}),n.jsx("button",{type:"button",onClick:Ae,disabled:D||!le.trim(),className:"flex-1 py-3 font-bold bg-primary text-white rounded-xl shadow-lg hover:opacity-90 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:D?n.jsxs(n.Fragment,{children:[n.jsx("span",{className:"animate-spin h-4 w-4 border-2 border-white border-t-transparent rounded-full"}),"..."]}):n.jsxs(n.Fragment,{children:[n.jsx("span",{className:"material-symbols-outlined",children:"add_circle"}),""]})})]})]})]})}),Bt&&ye&&n.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4 backdrop-blur-sm",children:n.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-2xl shadow-2xl max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:"p-6 border-b border-gray-100 flex justify-between items-center sticky top-0 bg-white z-10",children:[n.jsxs("h2",{className:"text-xl font-bold flex items-center gap-2",children:[n.jsx("span",{className:"material-symbols-outlined text-primary",children:"edit"}),""]}),n.jsx("button",{onClick:()=>nt(!1),className:"text-text-muted hover:text-text-light",children:n.jsx("span",{className:"material-symbols-outlined",children:"close"})})]}),n.jsx("div",{className:"p-6 space-y-6",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"col-span-1 md:col-span-2",children:[n.jsxs("div",{className:"flex items-end gap-2",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("label",{className:"block text-sm font-bold text-text-muted mb-1",children:""}),n.jsx("input",{type:"text",className:"w-full p-2 border border-gray-300 rounded-lg text-sm",value:ye.name||"",onChange:j=>At({...ye,name:j.target.value})})]}),n.jsx("button",{onClick:al,disabled:Ut||!ye.name||!ye.name.trim(),className:"px-4 py-2 bg-accent text-white rounded-lg font-bold text-sm shadow-lg hover:bg-accent/90 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2 whitespace-nowrap",children:Ut?n.jsxs(n.Fragment,{children:[n.jsx("span",{className:"animate-spin h-4 w-4 border-2 border-white border-t-transparent rounded-full"}),"..."]}):n.jsxs(n.Fragment,{children:[n.jsx("span",{className:"material-symbols-outlined text-sm",children:"auto_awesome"}),"AI"]})})]}),n.jsx("p",{className:"text-xs text-text-muted mt-1",children:"AI"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-bold text-text-muted mb-1",children:""}),n.jsx("input",{type:"text",className:"w-full p-2 border border-gray-300 rounded-lg text-sm",value:ye.area||"",onChange:j=>At({...ye,area:j.target.value})})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-bold text-text-muted mb-1",children:""}),n.jsx("select",{className:"w-full p-2 border border-gray-300 rounded-lg text-sm bg-white",value:ye.category||"Culture",onChange:j=>At({...ye,category:j.target.value}),children:Oo.map(j=>n.jsx("option",{value:j,children:Ro[j]||j},j))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-bold text-text-muted mb-1",children:" (Latitude)"}),n.jsx("input",{type:"number",step:"any",className:"w-full p-2 border border-gray-300 rounded-lg text-sm",value:((ml=ye.location)==null?void 0:ml.lat)||"",onChange:j=>{const ie=parseFloat(j.target.value);At({...ye,location:{...ye.location||{lat:0,lng:0},lat:isNaN(ie)?0:ie}})}})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-bold text-text-muted mb-1",children:" (Longitude)"}),n.jsx("input",{type:"number",step:"any",className:"w-full p-2 border border-gray-300 rounded-lg text-sm",value:((Vt=ye.location)==null?void 0:Vt.lng)||"",onChange:j=>{const ie=parseFloat(j.target.value);At({...ye,location:{...ye.location||{lat:0,lng:0},lng:isNaN(ie)?0:ie}})}})]}),n.jsxs("div",{className:"col-span-1 md:col-span-2",children:[n.jsx("div",{className:"flex justify-between items-center mb-1",children:n.jsx("label",{className:"block text-sm font-bold text-text-muted",children:""})}),(Tl=ye.location)!=null&&Tl.lat&&((Gt=ye.location)!=null&&Gt.lng)?n.jsxs("a",{href:`https://www.google.com/maps/search/?api=1&query=${ye.location.lat},${ye.location.lng}`,target:"_blank",rel:"noreferrer",className:"flex items-center gap-1 text-sm text-blue-600 hover:underline",children:[n.jsx("span",{className:"material-symbols-outlined text-sm",children:"open_in_new"}),"Google (",ye.location.lat,", ",ye.location.lng,")"]}):n.jsx("span",{className:"text-sm text-gray-400",children:""})]}),n.jsxs("div",{className:"col-span-1 md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-bold text-text-muted mb-1",children:"URL"}),n.jsx("div",{className:"flex gap-2",children:n.jsx("input",{type:"text",className:"w-full p-2 border border-gray-300 rounded-lg text-sm",value:ye.image||"",onChange:j=>At({...ye,image:j.target.value})})}),ye.image&&n.jsx("div",{className:"mt-2 h-32 w-full bg-gray-100 rounded-lg overflow-hidden",children:n.jsx("img",{src:ye.image,alt:"Preview",className:"w-full h-full object-contain"})})]}),n.jsxs("div",{className:"col-span-1 md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-bold text-text-muted mb-1",children:""}),n.jsx("textarea",{className:"w-full p-2 border border-gray-300 rounded-lg text-sm h-24",value:ye.description||"",onChange:j=>At({...ye,description:j.target.value})})]})]})}),n.jsxs("div",{className:"p-6 border-t border-gray-100 flex gap-3 justify-end sticky bottom-0 bg-white z-10 rounded-b-2xl",children:[n.jsx("button",{onClick:()=>nt(!1),className:"px-6 py-2 rounded-lg border border-gray-200 text-sm font-bold hover:bg-gray-50",children:""}),n.jsxs("button",{onClick:jt,className:"px-6 py-2 rounded-lg bg-primary text-white text-sm font-bold shadow-lg hover:opacity-90 flex items-center gap-2",children:[n.jsx("span",{className:"material-symbols-outlined text-sm",children:"save"}),""]})]})]})})]})},t0=()=>{const[i,c]=m.useState([]),[o,d]=m.useState(!0);m.useEffect(()=>{h()},[]);const h=async()=>{d(!0);try{const p=await Qy();c(p)}catch(p){console.error("Failed to fetch users:",p),showError("")}finally{d(!1)}},x=async(p,b)=>{const g=b==="admin"?"user":"admin";if(window.confirm(`${g}`))try{await Zy(p,g),showSuccess(`${g}`),h()}catch(S){console.error("Failed to update role:",S),showError("")}},v=async(p,b)=>{const g=!b;if(window.confirm(`${g?"":""}`))try{await Vy(p,g),showSuccess(`${g?"":""}`),h()}catch(S){console.error("Failed to update status:",S),showError("")}};return n.jsxs("div",{className:"p-6 md:p-10 bg-background-light min-h-full",children:[n.jsxs("header",{className:"mb-8 flex justify-between items-center",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-text-light",children:""}),n.jsx("p",{className:"text-text-muted",children:""})]}),n.jsxs("button",{onClick:()=>{const p=["ID","","","","","",""],b=i.map(A=>[A.id,A.username||"",A.name||"",A.email||"",A.role||"",A.is_active?"":"",A.created_at||""]),g=[p.map(A=>`"${A}"`).join(","),...b.map(A=>A.map(V=>`"${String(V).replace(/"/g,'""')}"`).join(","))].join(`
`),S=new Blob(["\uFEFF"+g],{type:"text/csv;charset=utf-8;"}),y=document.createElement("a"),O=URL.createObjectURL(S);y.setAttribute("href",O),y.setAttribute("download",`users_${new Date().toISOString().split("T")[0]}.csv`),y.style.visibility="hidden",document.body.appendChild(y),y.click(),document.body.removeChild(y),showSuccess("CSV")},className:"bg-green-600 text-white px-4 py-2 rounded-lg font-bold flex items-center gap-2 shadow-lg hover:bg-green-700 transition-colors",children:[n.jsx("span",{className:"material-symbols-outlined",children:"download"})," CSV"]})]}),n.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:o?n.jsx("div",{className:"p-20 text-center text-text-muted",children:"..."}):n.jsxs("table",{className:"w-full text-left",children:[n.jsx("thead",{className:"bg-gray-50 text-text-muted text-sm",children:n.jsxs("tr",{children:[n.jsx("th",{className:"p-4",children:""}),n.jsx("th",{className:"p-4",children:""}),n.jsx("th",{className:"p-4",children:""}),n.jsx("th",{className:"p-4",children:""}),n.jsx("th",{className:"p-4 text-right",children:""})]})}),n.jsx("tbody",{className:"divide-y divide-gray-100",children:i.map(p=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsxs("td",{className:"p-4 flex items-center gap-3",children:[n.jsx("div",{className:"w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center text-primary font-bold text-lg",children:(p.username||p.name||"U").charAt(0).toUpperCase()}),n.jsxs("div",{children:[n.jsx("div",{className:"font-bold",children:p.username||p.name}),p.username&&p.name&&p.username!==p.name&&n.jsxs("div",{className:"text-xs text-text-muted",children:[": ",p.name]}),n.jsxs("div",{className:"text-xs text-text-muted",children:["ID: ",p.id.slice(0,8),"..."]})]})]}),n.jsx("td",{className:"p-4",children:p.role==="admin"?n.jsx("span",{className:"px-2 py-1 bg-purple-100 text-purple-700 rounded text-xs font-bold",children:"Admin"}):n.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 rounded text-xs",children:"User"})}),n.jsx("td",{className:"p-4",children:p.is_active?n.jsxs("span",{className:"flex items-center gap-1 text-green-600 text-sm font-bold",children:[n.jsx("span",{className:"w-2 h-2 rounded-full bg-green-500"})," Active"]}):n.jsxs("span",{className:"flex items-center gap-1 text-red-600 text-sm font-bold",children:[n.jsx("span",{className:"w-2 h-2 rounded-full bg-red-500"})," Inactive"]})}),n.jsx("td",{className:"p-4 text-sm text-text-muted",children:p.created_at?(()=>{try{return new Date(p.created_at).toLocaleString("ja-JP",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})}catch{return"-"}})():"-"}),n.jsx("td",{className:"p-4 text-right",children:n.jsxs("div",{className:"flex justify-end gap-2",children:[n.jsx("button",{onClick:()=>x(p.id,p.role),className:"text-xs border border-gray-200 px-2 py-1 rounded hover:bg-gray-50",children:""}),n.jsx("button",{onClick:()=>v(p.id,p.is_active),className:`text-xs border px-2 py-1 rounded hover:opacity-80 text-white ${p.is_active?"bg-red-500 border-red-500":"bg-green-500 border-green-500"}`,children:p.is_active?"":""})]})})]},p.id))})]})})]})},l0=()=>{const{showSuccess:i,showError:c}=zn(),[o,d]=m.useState(null),[h,x]=m.useState(!0),[v,p]=m.useState(!1);m.useEffect(()=>{(async()=>{try{const S=await Ky();d(S)}catch(S){console.error("Failed to fetch settings:",S),c("")}finally{x(!1)}})()},[]);const b=async()=>{if(o){p(!0);try{await Jy(o),i("")}catch(g){console.error("Failed to save settings:",g),c("")}finally{p(!1)}}};return h||!o?n.jsx("div",{className:"p-10 text-center",children:"..."}):n.jsxs("div",{className:"p-6 md:p-10 bg-background-light min-h-full",children:[n.jsxs("header",{className:"mb-8",children:[n.jsx("h1",{className:"text-3xl font-bold text-text-light",children:"AI"}),n.jsx("p",{className:"text-text-muted",children:"Gemini"})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[n.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-gray-100",children:[n.jsx("h2",{className:"text-xl font-bold mb-4",children:""}),n.jsxs("div",{className:"mb-6",children:[n.jsx("label",{className:"block font-bold mb-2 text-sm",children:" (Gemini)"}),n.jsxs("select",{className:"w-full p-3 rounded-lg border border-gray-200 bg-gray-50",value:o.gemini_model,onChange:g=>d({...o,gemini_model:g.target.value}),children:[n.jsx("option",{value:"gemini-2.0-flash-exp",children:"gemini-2.0-flash-exp"}),n.jsx("option",{value:"gemini-1.5-flash",children:"gemini-1.5-flash"}),n.jsx("option",{value:"gemini-1.5-pro",children:"gemini-1.5-pro"}),n.jsx("option",{value:"gemini-pro-vision",children:"gemini-pro-vision"})]})]}),n.jsxs("div",{className:"mb-6",children:[n.jsxs("label",{className:"block font-bold mb-2 text-sm",children:["Temperature (): ",o.temperature]}),n.jsx("input",{type:"range",className:"w-full accent-primary mb-1",min:"0",max:"1",step:"0.1",value:o.temperature,onChange:g=>d({...o,temperature:parseFloat(g.target.value)})}),n.jsxs("div",{className:"flex justify-between text-xs text-text-muted",children:[n.jsx("span",{children:" (0.0)"}),n.jsx("span",{children:" (0.7)"}),n.jsx("span",{children:" (1.0)"})]})]}),n.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-bold text-sm",children:"Grounding (Google)"}),n.jsx("p",{className:"text-xs text-text-muted",children:""})]}),n.jsx("div",{className:`w-12 h-6 rounded-full relative cursor-pointer transition-colors ${o.grounding?"bg-primary":"bg-gray-300"}`,onClick:()=>d({...o,grounding:!o.grounding}),children:n.jsx("div",{className:`absolute top-1 w-4 h-4 bg-white rounded-full transition-all ${o.grounding?"right-1":"left-1"}`})})]})]}),n.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-gray-100",children:[n.jsx("h2",{className:"text-xl font-bold mb-4",children:""}),n.jsx("textarea",{className:"w-full h-80 p-4 rounded-lg border border-gray-200 text-sm font-mono bg-gray-900 text-gray-200",value:o.system_prompt,onChange:g=>d({...o,system_prompt:g.target.value})}),n.jsx("div",{className:"mt-4 flex justify-end",children:n.jsx("button",{onClick:b,disabled:v,className:"bg-primary text-white px-6 py-2 rounded-lg font-bold shadow-lg hover:opacity-90 disabled:opacity-50",children:v?"...":""})})]})]})]})},a0=()=>{const{showSuccess:i,showError:c}=zn(),[o,d]=m.useState(null),[h,x]=m.useState([]),[v,p]=m.useState(!0),[b,g]=m.useState(""),[S,y]=m.useState(""),[O,A]=m.useState(""),[V,R]=m.useState(null),[H,E]=m.useState(!1);m.useEffect(()=>{Q(),M()},[b]);const Q=async()=>{p(!0);try{const D=await Yp(b||void 0);d(D)}catch(D){console.error("Failed to fetch tags:",D),c("")}finally{p(!1)}},M=async()=>{try{const D=await Gp(b||void 0);x(D)}catch(D){console.error("Failed to fetch recommended tags:",D)}},Y=async()=>{if(!O.trim()){c("");return}E(!0);try{const D=O.split(",").map(ne=>ne.trim()).filter(ne=>ne),P=await qp(D);R(P),i("")}catch(D){console.error("Failed to normalize tags:",D),c("")}finally{E(!1)}},ee=o?Object.keys(o.categories):[],X=(o==null?void 0:o.tags.filter(D=>D.value.toLowerCase().includes(S.toLowerCase())||D.normalized.toLowerCase().includes(S.toLowerCase())))||[];return n.jsxs("div",{className:"p-6 md:p-10 bg-background-light min-h-full",children:[n.jsxs("header",{className:"mb-8",children:[n.jsx("h1",{className:"text-3xl font-bold text-text-light",children:""}),n.jsx("p",{className:"text-text-muted",children:""})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-8",children:[n.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100",children:n.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[n.jsx("div",{className:"p-2 bg-blue-50 text-blue-600 rounded-lg",children:n.jsx("span",{className:"material-symbols-outlined",children:"label"})}),n.jsxs("div",{children:[n.jsx("div",{className:"text-xs text-text-muted font-bold",children:""}),n.jsx("div",{className:"text-2xl font-bold",children:(o==null?void 0:o.total)||0})]})]})}),n.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100",children:n.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[n.jsx("div",{className:"p-2 bg-green-50 text-green-600 rounded-lg",children:n.jsx("span",{className:"material-symbols-outlined",children:"category"})}),n.jsxs("div",{children:[n.jsx("div",{className:"text-xs text-text-muted font-bold",children:""}),n.jsx("div",{className:"text-2xl font-bold",children:ee.length})]})]})}),n.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100",children:n.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[n.jsx("div",{className:"p-2 bg-purple-50 text-purple-600 rounded-lg",children:n.jsx("span",{className:"material-symbols-outlined",children:"star"})}),n.jsxs("div",{children:[n.jsx("div",{className:"text-xs text-text-muted font-bold",children:""}),n.jsx("div",{className:"text-2xl font-bold",children:h.length})]})]})})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[n.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100",children:[n.jsxs("h2",{className:"text-lg font-bold mb-4 flex items-center gap-2",children:[n.jsx("span",{className:"material-symbols-outlined text-primary",children:"auto_fix_high"}),""]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-bold text-text-muted mb-1",children:""}),n.jsx("textarea",{className:"w-full p-3 border border-gray-200 rounded-lg text-sm",placeholder:": , , ",value:O,onChange:D=>A(D.target.value),rows:3})]}),n.jsx("button",{onClick:Y,disabled:H||!O.trim(),className:"w-full py-2 bg-primary text-white rounded-lg font-bold hover:opacity-90 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:H?n.jsxs(n.Fragment,{children:[n.jsx("span",{className:"animate-spin h-4 w-4 border-2 border-white border-t-transparent rounded-full"}),"..."]}):n.jsxs(n.Fragment,{children:[n.jsx("span",{className:"material-symbols-outlined text-sm",children:"check_circle"}),""]})}),V&&n.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-200",children:[n.jsx("div",{className:"text-sm font-bold mb-2",children:":"}),n.jsx("div",{className:"space-y-2",children:V.normalized_tags.map((D,P)=>n.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[n.jsx("span",{className:"px-2 py-1 bg-white rounded border border-gray-200",children:D.value}),n.jsx("span",{className:"text-text-muted",children:""}),n.jsx("span",{className:"px-2 py-1 bg-primary/10 text-primary rounded font-bold",children:D.normalized}),D.category&&n.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 rounded text-xs",children:D.category})]},P))})]})]})]}),n.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100",children:[n.jsxs("h2",{className:"text-lg font-bold mb-4 flex items-center gap-2",children:[n.jsx("span",{className:"material-symbols-outlined text-green-600",children:"recommend"}),""]}),n.jsx("div",{className:"mb-4",children:n.jsxs("select",{className:"w-full p-2 border border-gray-200 rounded-lg text-sm bg-white",value:b,onChange:D=>g(D.target.value),children:[n.jsx("option",{value:"",children:""}),ee.map(D=>{var P;return n.jsx("option",{value:D,children:((P=o==null?void 0:o.categories[D])==null?void 0:P.name)||D},D)})]})}),n.jsx("div",{className:"flex flex-wrap gap-2 max-h-64 overflow-y-auto",children:h.length===0?n.jsx("p",{className:"text-sm text-text-muted",children:""}):h.map((D,P)=>n.jsx("span",{className:"px-3 py-1 bg-primary/10 text-primary rounded-full text-sm font-bold cursor-pointer hover:bg-primary/20 transition-colors",onClick:()=>y(D),children:D},P))})]})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[n.jsx("div",{className:"p-4 border-b border-gray-100 bg-gray-50/50 flex flex-col md:flex-row gap-4 items-center justify-between",children:n.jsxs("div",{className:"flex gap-4 flex-1 w-full md:w-auto",children:[n.jsxs("div",{className:"relative flex-1 md:max-w-xs",children:[n.jsx("span",{className:"material-symbols-outlined absolute left-3 top-1/2 -translate-y-1/2 text-text-muted",children:"search"}),n.jsx("input",{type:"text",placeholder:"",className:"w-full pl-10 py-2 rounded-lg border border-gray-200 focus:outline-none focus:ring-2 focus:ring-primary/50 text-sm",value:S,onChange:D=>y(D.target.value)})]}),n.jsxs("select",{className:"px-3 py-2 border border-gray-200 rounded-lg text-sm bg-white",value:b,onChange:D=>g(D.target.value),children:[n.jsx("option",{value:"",children:""}),ee.map(D=>{var P;return n.jsx("option",{value:D,children:((P=o==null?void 0:o.categories[D])==null?void 0:P.name)||D},D)})]})]})}),v?n.jsxs("div",{className:"p-20 text-center text-text-muted",children:[n.jsx("div",{className:"w-12 h-12 border-4 border-primary border-t-transparent rounded-full animate-spin mx-auto mb-4"}),"..."]}):X.length===0?n.jsxs("div",{className:"p-20 text-center text-text-muted",children:[n.jsx("span",{className:"material-symbols-outlined text-4xl mb-2 opacity-30",children:"search_off"}),n.jsx("p",{children:""})]}):n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full text-left",children:[n.jsx("thead",{className:"bg-gray-50 text-text-muted text-xs uppercase tracking-wider font-bold",children:n.jsxs("tr",{children:[n.jsx("th",{className:"p-4",children:""}),n.jsx("th",{className:"p-4",children:""}),n.jsx("th",{className:"p-4",children:""}),n.jsx("th",{className:"p-4 text-right",children:""})]})}),n.jsx("tbody",{className:"divide-y divide-gray-100",children:X.map((D,P)=>{var ne;return n.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[n.jsx("td",{className:"p-4",children:n.jsx("span",{className:"font-bold text-text-light",children:D.value})}),n.jsx("td",{className:"p-4",children:D.normalized!==D.value?n.jsx("span",{className:"text-sm text-text-muted",children:D.normalized}):n.jsx("span",{className:"text-sm text-gray-400",children:"-"})}),n.jsx("td",{className:"p-4",children:D.category?n.jsx("span",{className:"px-2 py-1 bg-primary/10 text-primary rounded text-xs font-bold",children:((ne=o==null?void 0:o.categories[D.category])==null?void 0:ne.name)||D.category}):n.jsx("span",{className:"text-sm text-gray-400",children:""})}),n.jsxs("td",{className:"p-4 text-right",children:[n.jsx("span",{className:"font-bold text-text-light",children:D.count}),n.jsx("span",{className:"text-sm text-text-muted ml-1",children:""})]})]},P)})})]})})]})]})},n0=()=>{const[i,c]=m.useState(window.location.hash.replace("#","")||"/"),{isAuthenticated:o,user:d,logout:h}=Go();m.useEffect(()=>{const g=()=>{c(window.location.hash.replace("#","")||"/")};return window.addEventListener("hashchange",g),()=>window.removeEventListener("hashchange",g)},[]);const x=g=>{window.location.hash=g},v=()=>{x("/")},p=async()=>{await h(),x("/")},b=()=>{if(i.startsWith("/admin"))return!o||(d==null?void 0:d.role)!=="admin"?n.jsx(Pt,{onNavigate:x,currentPath:i,isAuthenticated:o,onLogout:p,children:n.jsx(eh,{onLogin:v})}):i==="/admin/users"?n.jsx(t0,{}):i==="/admin/spots"?n.jsx(e0,{}):i==="/admin/tags"?n.jsx(a0,{}):i==="/admin/settings"?n.jsx(l0,{}):n.jsx(Py,{});if(i==="/login")return n.jsx(Pt,{onNavigate:x,currentPath:i,isAuthenticated:o,onLogout:p,children:n.jsx(eh,{onLogin:v})});if(i==="/")return n.jsx(Pt,{onNavigate:x,currentPath:i,isAuthenticated:o,onLogout:p,children:n.jsx(Ep,{onNavigate:x})});if(i==="/plans")return n.jsx(Pt,{onNavigate:x,currentPath:i,isAuthenticated:o,onLogout:p,children:n.jsx(Jp,{onNavigate:x})});if(i==="/myspots")return n.jsx(Pt,{onNavigate:x,currentPath:i,isAuthenticated:o,onLogout:p,children:n.jsx(Wp,{onNavigate:x})});if(i==="/favorites")return n.jsx(Pt,{onNavigate:x,currentPath:i,isAuthenticated:o,onLogout:p,children:n.jsx(Fp,{onNavigate:x})});if(i==="/profile")return n.jsx(Pt,{onNavigate:x,currentPath:i,isAuthenticated:o,onLogout:p,children:n.jsx(Dp,{})});if(i==="/settings")return n.jsx(Pt,{onNavigate:x,currentPath:i,isAuthenticated:o,onLogout:p,children:n.jsx(_p,{})});if(i==="/create")return n.jsx(Pt,{onNavigate:x,currentPath:i,isAuthenticated:o,onLogout:p,children:n.jsx(Gy,{onNavigate:x})});if(i.startsWith("/plan/")){const g=i.split("/"),S=g[2];return g[3]==="edit"?n.jsx(Pt,{onNavigate:x,currentPath:i,isAuthenticated:o,onLogout:p,children:n.jsx(Xy,{planId:S,onNavigate:x})}):n.jsx(Pt,{onNavigate:x,currentPath:i,isAuthenticated:o,onLogout:p,children:n.jsx(qy,{planId:S,onNavigate:x})})}if(i.startsWith("/prefecture/")){const g=decodeURIComponent(i.split("/")[2]);return n.jsx(Pt,{onNavigate:x,currentPath:i,isAuthenticated:o,onLogout:p,children:n.jsx($p,{area:g,onNavigate:x})})}return i.startsWith("/hotels/")?n.jsx(Pt,{onNavigate:x,currentPath:i,isAuthenticated:o,onLogout:p,children:n.jsx(Ip,{onNavigate:x})}):n.jsx(Pt,{onNavigate:x,currentPath:i,isAuthenticated:o,onLogout:p,children:n.jsx(Ap,{onNavigate:x})})};return i.startsWith("/admin")&&o?n.jsxs("div",{className:"flex h-screen bg-background-light font-display",children:[n.jsxs("aside",{className:"w-64 bg-white border-r border-gray-200 hidden md:flex flex-col",children:[n.jsxs("div",{className:"p-6 flex items-center gap-2 border-b border-gray-100 cursor-pointer",onClick:()=>x("/"),children:[n.jsx("img",{src:"https://lh3.googleusercontent.com/aida-public/AB6AXuCfMSI_vEQcW6uWaOllfqi75Njj5epUUHan7iKYq2ddAZoSthgXSLKdhXLtyvGQeDOWHCvMIb9zHR29P6R1MHTCyE0GBmQFcmGptEhCWUuL8GTANN3rvEBzwrgvyl2srrrUMRms1iDYE5uxYWZET7_hlJDkiMX5A9SRf5w0qYmIJZMQq94roefVcSp5yXCk6-cjB3diA5SN8xBWRjHxaLVpf_bvPHdIi4cn84z3ACcaFosupiz3lF_kn0umIyl14BROFmriQ29o9iI",className:"w-8 h-8",alt:"Logo"}),n.jsx("span",{className:"font-bold text-lg",children:"SatoTrip"})]}),n.jsxs("nav",{className:"p-4 space-y-1",children:[n.jsxs("button",{onClick:()=>x("/admin"),className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg font-medium transition-colors ${i==="/admin"?"bg-primary/10 text-primary":"text-text-muted hover:bg-gray-50"}`,children:[n.jsx("span",{className:"material-symbols-outlined",children:"dashboard"})," "]}),n.jsxs("button",{onClick:()=>x("/admin/spots"),className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg font-medium transition-colors ${i==="/admin/spots"?"bg-primary/10 text-primary":"text-text-muted hover:bg-gray-50"}`,children:[n.jsx("span",{className:"material-symbols-outlined",children:"place"})," "]}),n.jsxs("button",{onClick:()=>x("/admin/users"),className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg font-medium transition-colors ${i==="/admin/users"?"bg-primary/10 text-primary":"text-text-muted hover:bg-gray-50"}`,children:[n.jsx("span",{className:"material-symbols-outlined",children:"group"})," "]}),n.jsxs("button",{onClick:()=>x("/admin/tags"),className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg font-medium transition-colors ${i==="/admin/tags"?"bg-primary/10 text-primary":"text-text-muted hover:bg-gray-50"}`,children:[n.jsx("span",{className:"material-symbols-outlined",children:"label"})," "]}),n.jsxs("button",{onClick:()=>x("/admin/settings"),className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg font-medium transition-colors ${i==="/admin/settings"?"bg-primary/10 text-primary":"text-text-muted hover:bg-gray-50"}`,children:[n.jsx("span",{className:"material-symbols-outlined",children:"settings_suggest"})," AI"]})]}),n.jsx("div",{className:"mt-auto p-4 border-t border-gray-100",children:n.jsxs("button",{onClick:()=>x("/"),className:"w-full flex items-center gap-3 px-4 py-3 rounded-lg font-medium text-text-muted hover:bg-gray-50",children:[n.jsx("span",{className:"material-symbols-outlined",children:"logout"})," "]})})]}),n.jsx("main",{className:"flex-1 overflow-auto",children:b()})]}):b()},s0=()=>n.jsx(Cp,{children:n.jsx(Xp,{children:n.jsx(n0,{})})}),ex=document.getElementById("root");if(!ex)throw new Error("Could not find root element to mount to");const i0=yp.createRoot(ex);i0.render(n.jsx(Ct.StrictMode,{children:n.jsx(s0,{})}));
